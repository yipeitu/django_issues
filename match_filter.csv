,author,repo,page_num,state,issue.number,comments_num,comments_url,html_url,labels,title,body
146,healthchecks,healthchecks,3,closed,77,0,https://api.github.com/repos/healthchecks/healthchecks/issues/77/comments,https://github.com/healthchecks/healthchecks/issues/77,[],user has no profile,"for some reason on a fresh local install following the readme and testing with ./manage.py runserver I get ""user has no profile"" when logging in for the first time.

am I missing something or is this a bug?

```
Environment:


Request Method: GET
Request URL: http://healthchecks.***.**/

Django Version: 1.9
Python Version: 3.4.3
Installed Applications:
('django.contrib.admin',
 'django.contrib.auth',
 'django.contrib.contenttypes',
 'django.contrib.humanize',
 'django.contrib.sessions',
 'django.contrib.messages',
 'django.contrib.staticfiles',
 'compressor',
 'djmail',
 'hc.accounts',
 'hc.api',
 'hc.front',
 'hc.payments')
Installed Middleware:
('django.contrib.sessions.middleware.SessionMiddleware',
 'django.middleware.common.CommonMiddleware',
 'django.middleware.csrf.CsrfViewMiddleware',
 'django.contrib.auth.middleware.AuthenticationMiddleware',
 'django.contrib.auth.middleware.SessionAuthenticationMiddleware',
 'django.contrib.messages.middleware.MessageMiddleware',
 'django.middleware.clickjacking.XFrameOptionsMiddleware',
 'django.middleware.security.SecurityMiddleware',
 'hc.accounts.middleware.TeamAccessMiddleware')



Traceback:

File ""/www/sites/healthchecks.telsys.no/hc-venv/lib/python3.4/site-packages/django/core/handlers/base.py"" in get_response
  123.                 response = middleware_method(request)

File ""/www/sites/healthchecks.telsys.no/healthchecks/hc/accounts/middleware.py"" in process_request
  13.         profile = request.user.profile

File ""/www/sites/healthchecks.telsys.no/hc-venv/lib/python3.4/site-packages/django/utils/functional.py"" in inner
  205.         return func(self._wrapped, *args)

File ""/www/sites/healthchecks.telsys.no/hc-venv/lib/python3.4/site-packages/django/db/models/fields/related_descriptors.py"" in __get__
  355.                     self.related.get_accessor_name()

Exception Type: RelatedObjectDoesNotExist at /
Exception Value: User has no profile.
```
"
349,healthchecks,healthchecks,3,closed,77,0,https://api.github.com/repos/healthchecks/healthchecks/issues/77/comments,https://github.com/healthchecks/healthchecks/issues/77,[],user has no profile,"for some reason on a fresh local install following the readme and testing with ./manage.py runserver I get ""user has no profile"" when logging in for the first time.

am I missing something or is this a bug?

```
Environment:


Request Method: GET
Request URL: http://healthchecks.***.**/

Django Version: 1.9
Python Version: 3.4.3
Installed Applications:
('django.contrib.admin',
 'django.contrib.auth',
 'django.contrib.contenttypes',
 'django.contrib.humanize',
 'django.contrib.sessions',
 'django.contrib.messages',
 'django.contrib.staticfiles',
 'compressor',
 'djmail',
 'hc.accounts',
 'hc.api',
 'hc.front',
 'hc.payments')
Installed Middleware:
('django.contrib.sessions.middleware.SessionMiddleware',
 'django.middleware.common.CommonMiddleware',
 'django.middleware.csrf.CsrfViewMiddleware',
 'django.contrib.auth.middleware.AuthenticationMiddleware',
 'django.contrib.auth.middleware.SessionAuthenticationMiddleware',
 'django.contrib.messages.middleware.MessageMiddleware',
 'django.middleware.clickjacking.XFrameOptionsMiddleware',
 'django.middleware.security.SecurityMiddleware',
 'hc.accounts.middleware.TeamAccessMiddleware')



Traceback:

File ""/www/sites/healthchecks.telsys.no/hc-venv/lib/python3.4/site-packages/django/core/handlers/base.py"" in get_response
  123.                 response = middleware_method(request)

File ""/www/sites/healthchecks.telsys.no/healthchecks/hc/accounts/middleware.py"" in process_request
  13.         profile = request.user.profile

File ""/www/sites/healthchecks.telsys.no/hc-venv/lib/python3.4/site-packages/django/utils/functional.py"" in inner
  205.         return func(self._wrapped, *args)

File ""/www/sites/healthchecks.telsys.no/hc-venv/lib/python3.4/site-packages/django/db/models/fields/related_descriptors.py"" in __get__
  355.                     self.related.get_accessor_name()

Exception Type: RelatedObjectDoesNotExist at /
Exception Value: User has no profile.
```
"
2634,nitely,Spirit,3,closed,62,3,https://api.github.com/repos/nitely/Spirit/issues/62/comments,https://github.com/nitely/Spirit/issues/62,[],"RelatedObjectDoesNotExist while integrating Spirit to existing project: ""User has no st.""","Hi!
I'm trying to add the latest version of spirit to an existing project. I installed the dependencies and all, but when I run the server, I get a «RelatedObjectDoesNotExist» - User has no st on every page.

It appears that it is because I already have users in my database, so I'm going to add them a placeholder UserProfile via the manage.py shell…

But is there a more efficient/recommended/documented way to do it?
"
2769,mirumee,saleor,2,closed,4166,2,https://api.github.com/repos/mirumee/saleor/issues/4166/comments,https://github.com/mirumee/saleor/pull/4166,"[{""default"": true, ""name"": ""bug"", ""url"": ""https://api.github.com/repos/mirumee/saleor/labels/bug"", ""color"": ""fc2929"", ""node_id"": ""MDU6TGFiZWwyODE5MjMzMQ=="", ""id"": 28192331}, {""default"": false, ""name"": ""storefront 1.0"", ""url"": ""https://api.github.com/repos/mirumee/saleor/labels/storefront%201.0"", ""color"": ""fbca04"", ""node_id"": ""MDU6TGFiZWw0NTQyMjEwOTQ="", ""id"": 454221094}]",Adding a non existent variant to a checkout no longer crashes,"This fixes this error:
```
File ""/Users/Development/saleor/saleor/product/views.py"" in product_add_to_checkout
  144.     if form.is_valid():

File ""/Users/Development/saleor-venv/lib/python3.7/site-packages/django/forms/forms.py"" in is_valid
  185.         return self.is_bound and not self.errors

File ""/Users/Development/saleor-venv/lib/python3.7/site-packages/django/forms/forms.py"" in errors
  180.             self.full_clean()

File ""/Users/Development/saleor-venv/lib/python3.7/site-packages/django/forms/forms.py"" in full_clean
  382.         self._clean_form()

File ""/Users/Development/saleor-venv/lib/python3.7/site-packages/django/forms/forms.py"" in _clean_form
  409.             cleaned_data = self.clean()

File ""/Users/Development/saleor/saleor/checkout/forms.py"" in clean
  93.             line = self.checkout.get_line(variant)

File ""/Users/Development/saleor/saleor/checkout/models.py"" in get_line
  125.         return next(matching_lines, None)

File ""/Users/Development/saleor/saleor/checkout/models.py"" in <genexpr>
  124.         matching_lines = (line for line in self if line.variant.pk == variant.pk)

Exception Type: AttributeError at /en/products/white-parrot-cushion-86/add/
Exception Value: 'NoneType' object has no attribute 'pk'
```

Note: I checked, no override is raising such exception (""ObjectDoesNotExist"") they are only returning the form field that already resolved the variant.

### Screenshots

<!-- If your changes affect the UI, providing ""before"" and ""after"" screenshots will
greatly reduce the amount of work needed to review your work. -->

### Pull Request Checklist

<!-- Please keep this section. It will make maintainer's life easier. -->

1. [ ] Privileged views and APIs are guarded by proper permission checks.
1. [ ] All visible strings are translated with proper context.
1. [ ] All data-formatting is locale-aware (dates, numbers, and so on).
1. [ ] Database queries are optimized and the number of queries is constant.
1. [ ] Database migration files are up to date.
1. [x] The changes are tested.
1. [ ] The code is documented (docstrings, project documentation).
1. [ ] GraphQL schema and type definitions are up to date.
1. [x] Changes are mentioned in the changelog.
"
2915,mirumee,saleor,4,closed,3960,17,https://api.github.com/repos/mirumee/saleor/issues/3960/comments,https://github.com/mirumee/saleor/issues/3960,[],Django related model issue,"after running the project and trying to access it, got the following traceback

File ""/home/asif/upwork/viets/saleor/core/views.py"", line 18, in home
    request.site.settings.homepage_collection)[:8]
  File ""/usr/local/lib/python3.6/dist-packages/django/db/models/fields/related_descriptors.py"", line 415, in __get__
    self.related.get_accessor_name()
django.contrib.sites.models.Site.settings.RelatedObjectDoesNotExist: Site has no settings.
"
3520,mirumee,saleor,10,closed,3259,9,https://api.github.com/repos/mirumee/saleor/issues/3259/comments,https://github.com/mirumee/saleor/issues/3259,[],Webpage Error at first level,"### What I'm trying to achieve
I have done setup for saleor on Google Cloud Centos7 linux instance. I followed all instructions for installation of saleor  from https://docs.getsaleor.com/en/latest/gettingstarted/installation-linux.html. 
Now I run the server on console.

(saleorenv) [bete-2@e-commerce saleor]$ sudo python3.6 manage.py runserver 0.0.0.0:80
Performing system checks...

System check identified no issues (0 silenced).
November 09, 2018 - 02:00:49
Django version 2.1.3, using settings 'saleor.settings'
Starting development server at http://0.0.0.0:80/
Quit the server with CONTROL-C.


### Steps to reproduce the problem
1. open www.jakheera.com 
2. you can see 

Request Method: | GET
-- | --
http://www.jakheera.com/en/
2.1.3
**RelatedObjectDoesNotExist**
**Site has no settings.**
/usr/lib64/python3.6/site-packages/django/db/models/fields/related_descriptors.py in __get__, line 414
/bin/python3.6
3.6.5
['/home/simpy.sri/saleor/saleor',  '/usr/lib64/python36.zip',  '/usr/lib64/python3.6',  '/usr/lib64/python3.6/lib-dynload',  '/usr/lib64/python3.6/site-packages',  '/usr/lib/python3.6/site-packages',  '/home/simpy.sri/saleor/saleor']
Fri, 9 Nov 2018 02:00:59 -0600

 

### What I expected to happen
… Default Home page

### Screenshots
<!-- If applicable, add screenshots to help explain your problem. -->
 **pls visit www.jakheera.com for viewing the bug.**

**System information**
Operating system: CentOS7
Browser: Chrome 67
"
5688,mirumee,saleor,31,closed,910,1,https://api.github.com/repos/mirumee/saleor/issues/910/comments,https://github.com/mirumee/saleor/issues/910,"[{""default"": true, ""name"": ""bug"", ""url"": ""https://api.github.com/repos/mirumee/saleor/labels/bug"", ""color"": ""fc2929"", ""node_id"": ""MDU6TGFiZWwyODE5MjMzMQ=="", ""id"": 28192331}]",Error when adding an attribute,"Hi,

I installed a fresh version of Saleor and then tried to add a new attribute. But it failed with the following error:

Exception Type: RelatedObjectDoesNotExist at /dashboard/products/attributes/add/
Exception Value: AttributeChoiceValue has no attribute.

I can provide more detailed log if needed.

Thanks"
6108,mirumee,saleor,36,closed,476,6,https://api.github.com/repos/mirumee/saleor/issues/476/comments,https://github.com/mirumee/saleor/issues/476,[],adding stock to product,"Trying out saleor and having some issues setting up the stock on a product.  I suspect that something isn't installed properly or i'm using the wrong version of something.  First I get this error on startup.  The site comes up and I can add products and view cart ect..

```
saleor/.env/local/lib/python2.7/site-packages/model_utils/managers.py:105: RemovedInDjango110Warning: 'get_all_related_objects is an unofficial API that has been deprecated. You may be able to replace it with 'get_fields()'
  rel for rel in model._meta.get_all_related_objects()

/media/storage/home/kirk/projects/saleor/.env/local/lib/python2.7/site-packages/materializecssform/templatetags/materializecss.py:53: RemovedInDjango110Warning: render() must be called with a dict, not a Context.
  return template.render(context)
```

using this url http://127.0.0.1:8000/dashboard/products/1/stock/add/
which calls into 
saleor/saleor/dashboard/product/views.py  

in stock_edit where stock = Stock() is called I get exception

```
  File ""/media/storage/home/kirk/projects/saleor/.env/local/lib/python2.7/site-packages/django/db/models/base.py"", line 459, in __repr__
    u = six.text_type(self)
  File ""/media/storage/home/kirk/projects/saleor/saleor/product/models/base.py"", line 272, in __str__
    return '%s - %s' % (self.variant.name, self.location)
  File ""/media/storage/home/kirk/projects/saleor/.env/local/lib/python2.7/site-packages/django/db/models/fields/related_descriptors.py"", line 179, in __get__
    ""%s has no %s."" % (self.field.model.__name__, self.field.name)
RelatedObjectDoesNotExist: Stock has no variant.
```

```
product_pk  u'1'
product <saleor.product.models.base.Product(pk=1, name=u'cats')>
request <WSGIRequest: GET '/dashboard/products/1/stock/add/'>
stock_pk    None
stock   Error in formatting: RelatedObjectDoesNotExist: Stock has no variant.
```

After attempting to add stock the page flashes and nothing happens.

```
Babel==2.2.0
BabelDjango==0.2.2
Django==1.9.2
Markdown==2.6.5
Pillow==3.1.1
PyJWT==1.4.0
Unidecode==0.04.19
argparse==1.2.1
boto==2.39.0
braintree==3.24.0
cffi==1.5.0
cryptography==1.2.2
cssselect==0.9.1
cssutils==1.0.1
dj-database-url==0.4.0
dj-email-url==0.0.4
django-absolute==0.3
django-bootstrap3==6.2.2
django-cache-url==1.0.0
django-countries==3.4.1
django-emailit==0.2.2
django-materializecss-form==1.0.1
django-model-utils==2.4
django-mptt==0.8.0
django-offsite-storage==0.0.8
django-payments==0.9.1
django-prices==0.4.11
django-redis==4.3.0
django-selectable==0.9.0
django-versatileimagefield==1.3
djangorestframework==3.3.2
enum34==1.1.2
fake-factory==0.5.3
funcsigs==0.4
google-i18n-address==1.0.7
google-measurement-protocol==0.1.5
idna==2.0
ipaddr==2.1.11
ipaddress==1.0.16
jsonfield==1.0.3
lxml==3.5.0
maxminddb==1.2.0
maxminddb-geolite2==2015.0708
mock==1.3.0
pbr==1.8.1
premailer==2.9.7
prices==0.5.7
psycopg2==2.6.1
purl==1.2
py==1.4.31
pyasn1==0.1.9
pycparser==2.14
pytest==2.8.7
pytest-django==2.9.1
pytz==2015.7
redis==2.10.5
requests==2.9.1
satchless==1.1.3
six==1.10.0
stripe==1.29.1
suds-jurko==0.6
uWSGI==2.0.12
wsgiref==0.1.2
xmltodict==0.9.2

```
"
10191,django-oscar,django-oscar,3,closed,2873,1,https://api.github.com/repos/django-oscar/django-oscar/issues/2873/comments,https://github.com/django-oscar/django-oscar/issues/2873,"[{""default"": false, ""name"": ""\u2601 Bug"", ""url"": ""https://api.github.com/repos/django-oscar/django-oscar/labels/%E2%98%81%20Bug"", ""color"": ""F8C1C1"", ""node_id"": ""MDU6TGFiZWw5NzM0NA=="", ""id"": 97344}]",RelatedObjectDoesNotExist at /en-gb/basket/ Line has no basket.,"### Issue Summary
`RelatedObjectDoesNotExist at /en-gb/basket/ Line has no basket.`
Occurs when updating a basket across multiple tabs. 

### Steps to Reproduce

The issue comes down to having the basket open in two tabs. To reproduce:

1. Add items to the basket and open the basket page in two tabs.
2. Remove an item from the basket in one of the tabs.
3. Try to update that same item in the other tab.

### Technical details

* Python version: 3.7.1
* Django version: 2.1
* Oscar version: 2.0dev0
"
10281,django-oscar,django-oscar,4,closed,2770,1,https://api.github.com/repos/django-oscar/django-oscar/issues/2770/comments,https://github.com/django-oscar/django-oscar/issues/2770,[],Oscar Basket django.db.models RelatedObjectDoesNotExist : Line has no basket,"Django db error when updating basket line.

### Issue Summary

I have added extra fields in StockRecord model, same fields is added in basket line model.
i have saved the extra field in db and use it to calculate final total of basket line.

but due to no reason the following error is coming at update function

**django.db.models.fields.related_descriptors.RelatedObjectDoesNotExist: Line has no basket.**

Hope i got some help
"
11785,django-oscar,django-oscar,19,closed,1216,1,https://api.github.com/repos/django-oscar/django-oscar/issues/1216/comments,https://github.com/django-oscar/django-oscar/issues/1216,[],"""add to wish list""  on product details page does not work correct with multiple wish lists","When a customer have multiple wish lists, the ""add to wish list"" button does not work as expected as it will always add to the first wish list regardless which wish list the customer selected from the drop down menu

![bug1](https://f.cloud.github.com/assets/468787/2239687/003111ac-9c49-11e3-983f-50ba963696c9.png)

Steps to reproduce:
1. login as customer
2. create wishlist named ""one""
3. create another wishlist named ""two""
4. goto products detail page.
5. click ""add to wish list"" button and choose ""add to ""two"" wish list""

You will see the item will actually be added to the wrong wish list.

Cause of the issue seems to be in oscar.apps.customer.wishlists.views

the get_or_create_wishlist method in WishListAddProduct class does not seem to evaluate kwargs and will always return the first wishlist returned from the database.

Suggest the code changes to something like:

```
def get_or_create_wishlist(self, request, *args, **kwargs):
    wishlist = None
    if ""key"" in kwargs:
        # key of the wish list is provided by the url pattern
        try:
            wishlist = request.user.wishlists.get(key=kwargs['key'])
        except (ObjectDoesNotExist, MultipleObjectsReturned):
            raise Http404
    else:
        wishlists = request.user.wishlists.all()
        num_wishlists = len(wishlists)
        if num_wishlists == 0:
            return request.user.wishlists.create()
        # defaults to the first wish list if no information is provided
        wishlist = wishlists[0]

    if not wishlist.is_allowed_to_edit(request.user):
        raise PermissionDenied
    return wishlist
```
"
11842,django-oscar,django-oscar,20,closed,1156,1,https://api.github.com/repos/django-oscar/django-oscar/issues/1156/comments,https://github.com/django-oscar/django-oscar/issues/1156,[],"Add helper to ""address.AbstractAddress"" to return only address-specific fields ","**AbstractAddress** model already has a few of helper functions (summary, salutation, name, etc.) but IMHO the most obvious one is missing: an helper function returning the address string without any owner-related field.

```
class AbstractAddress(models.Model):

    # ...

    def address_string(self):
        fields = [self.line1, self.line2, self.line3,
                  self.line4, self.state, self.postcode]
        fields = [f.strip() for f in fields if f]
        try:
            fields.append(self.country.name)
        except exceptions.ObjectDoesNotExist:
            pass
        return u"", "".join(fields)
```
"
16034,Tivix,django-rest-auth,2,closed,411,3,https://api.github.com/repos/Tivix/django-rest-auth/issues/411/comments,https://github.com/Tivix/django-rest-auth/issues/411,[],"""RelatedObjectDoesNotExist at /rest-auth/user/ User has no userprofile.","I followed exactly the instructions in the documentation about extending the UserProfile. And got the following traceback when trying to login/update
```
Request Method: PUT
Request URL: http://127.0.0.1:8000/rest-auth/user/
Django Version: 2.0.2
Python Executable: /home/kali/Development/EmailAuth/venv/bin/python
Python Version: 3.6.4
Python Path: ['/home/kali/Development/EmailAuth/backend_api', '/home/kali/Development/EmailAuth/venv/lib/python36.zip', '/home/kali/Development/EmailAuth/venv/lib/python3.6', '/home/kali/Development/EmailAuth/venv/lib/python3.6/lib-dynload', '/usr/lib/python3.6', '/home/kali/Development/EmailAuth/venv/lib/python3.6/site-packages']
Server time: Mon, 19 Feb 2018 23:54:38 +0000
```"
16085,Tivix,django-rest-auth,3,closed,332,11,https://api.github.com/repos/Tivix/django-rest-auth/issues/332/comments,https://github.com/Tivix/django-rest-auth/issues/332,[],Logout view change permission_classes,"Shouldn't the LogoutView have permission_classes set to `permission_classes = (IsAuthenticated,)` instead of `permission_classes = (AllowAny,)` , regardless of GET/POST method ?

* in addition in the `logout` function:

```
 def logout(self, request):
    try:
            request.user.auth_token.delete()
      except (AttributeError, ObjectDoesNotExist):
            pass
```
should be changed to 

```
   def logout(self, request):
        try:
            request.user.auth_token.delete()
        except (AttributeError, ObjectDoesNotExist):
            # handle NotAuthenticated
````
"
14103,awesto,django-shop,2,closed,763,1,https://api.github.com/repos/awesto/django-shop/issues/763/comments,https://github.com/awesto/django-shop/issues/763,[],Error in the notification menu,"TypeError at /admin/shop/notification/
__str__ returned non-string (type __proxy__)
Request Method: GET
http://127.0.0.1:8000/admin/shop/notification/
Error during template rendering
In template /home/leo/.local/share/virtualenvs/ga-JBWdJ7V9/lib/python3.6/site-packages/django/contrib/admin/templates/admin/base.html, error at line 75
__str__ returned non-string (type __proxy__)

### {% block object-tools %}{% endblock %}
`
Traceback (most recent call last):
  File ""/home/leo/.local/share/virtualenvs/garantum-JBWdJ7V9/lib/python3.6/site-packages/django/contrib/admin/utils.py"", line 283, in lookup_field

    f = _get_non_gfk_field(opts, name)

  File ""/home/leo/.local/share/virtualenvs/garantum-JBWdJ7V9/lib/python3.6/site-packages/django/contrib/admin/utils.py"", line 317, in _get_non_gfk_field

    field = opts.get_field(name)

  File ""/home/leo/.local/share/virtualenvs/garantum-JBWdJ7V9/lib/python3.6/site-packages/django/db/models/options.py"", line 619, in get_field

    raise FieldDoesNotExist(""%s has no field named '%s'"" % (self.object_name, field_name))
django.core.exceptions.FieldDoesNotExist: Notification has no field named 'get_recipient'
`"
15985,Tivix,django-rest-auth,2,closed,529,2,https://api.github.com/repos/Tivix/django-rest-auth/issues/529/comments,https://github.com/Tivix/django-rest-auth/issues/529,[],REST_AUTH_REGISTER_SERIALIZERS completely ignored,"In my `settings.py` I have set:

```
REST_AUTH_REGISTER_SERIALIZERS = {
    'REGISTER_SERIALIZER': 'users.serializers.UserRegisterSerializer',
}
```

where:
-  `users` is my Django app containing my custom user model
- `serializers` is a python file in which
  - `UserRegisterSerializer` is defined

This is in accordance with the [docs](https://django-rest-auth.readthedocs.io/en/0.9.4/configuration.html):

> REST_AUTH_REGISTER_SERIALIZERS
> 
> You can define your custom serializers for registration endpoint. Possible key values:
> 
> REGISTER_SERIALIZER - serializer class in rest_auth.registration.views.RegisterView, default value rest_auth.registration.serializers.RegisterSerializer

`django-rest-auth` still tries to use its default `RegisterSerializer` which causes Django to crash, as my `CustomUser` model does not have a username field (why I need a custom REGISTER_SERIALIZER in the first place).


```
$ python manage.py runserver
Watching for file changes with StatReloader
Performing system checks...

Traceback (most recent call last):
  File ""/home/sudomann/repos/divvy-env/lib/python3.6/site-packages/django/db/models/options.py"", line 565, in get_field
    return self.fields_map[field_name]
KeyError: 'username'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File ""manage.py"", line 15, in <module>
    execute_from_command_line(sys.argv)
  File ""/home/sudomann/repos/divvy-env/lib/python3.6/site-packages/django/core/management/__init__.py"", line 381, in execute_from_command_line
    utility.execute()
  File ""/home/sudomann/repos/divvy-env/lib/python3.6/site-packages/django/core/management/__init__.py"", line 375, in execute
    self.fetch_command(subcommand).run_from_argv(self.argv)
  File ""/home/sudomann/repos/divvy-env/lib/python3.6/site-packages/django/core/management/base.py"", line 323, in run_from_argv
    self.execute(*args, **cmd_options)
  File ""/home/sudomann/repos/divvy-env/lib/python3.6/site-packages/django/core/management/commands/runserver.py"", line 60, in execute
    super().execute(*args, **options)
  File ""/home/sudomann/repos/divvy-env/lib/python3.6/site-packages/django/core/management/base.py"", line 364, in execute
    output = self.handle(*args, **options)
  File ""/home/sudomann/repos/divvy-env/lib/python3.6/site-packages/django/core/management/commands/runserver.py"", line 95, in handle
    self.run(**options)
  File ""/home/sudomann/repos/divvy-env/lib/python3.6/site-packages/django/core/management/commands/runserver.py"", line 102, in run
    autoreload.run_with_reloader(self.inner_run, **options)
  File ""/home/sudomann/repos/divvy-env/lib/python3.6/site-packages/django/utils/autoreload.py"", line 579, in run_with_reloader
    start_django(reloader, main_func, *args, **kwargs)
  File ""/home/sudomann/repos/divvy-env/lib/python3.6/site-packages/django/utils/autoreload.py"", line 564, in start_django
    reloader.run(django_main_thread)
  File ""/home/sudomann/repos/divvy-env/lib/python3.6/site-packages/django/utils/autoreload.py"", line 272, in run
    get_resolver().urlconf_module
  File ""/home/sudomann/repos/divvy-env/lib/python3.6/site-packages/django/utils/functional.py"", line 80, in __get__
    res = instance.__dict__[self.name] = self.func(instance)
  File ""/home/sudomann/repos/divvy-env/lib/python3.6/site-packages/django/urls/resolvers.py"", line 564, in urlconf_module
    return import_module(self.urlconf_name)
  File ""/home/sudomann/repos/divvy-env/lib/python3.6/importlib/__init__.py"", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
  File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import
  File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load
  File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked
  File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked
  File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module
  File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed
  File ""/home/sudomann/repos/divvy-env/divvy/django/divvy/urls.py"", line 22, in <module>
    path('api/', include('api.urls')),
  File ""/home/sudomann/repos/divvy-env/lib/python3.6/site-packages/django/urls/conf.py"", line 34, in include
    urlconf_module = import_module(urlconf_module)
  File ""/home/sudomann/repos/divvy-env/lib/python3.6/importlib/__init__.py"", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
  File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import
  File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load
  File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked
  File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked
  File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module
  File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed
  File ""/home/sudomann/repos/divvy-env/divvy/django/api/urls.py"", line 6, in <module>
    path('rest-auth/registration/', include('rest_auth.registration.urls')),
  File ""/home/sudomann/repos/divvy-env/lib/python3.6/site-packages/django/urls/conf.py"", line 34, in include
    urlconf_module = import_module(urlconf_module)
  File ""/home/sudomann/repos/divvy-env/lib/python3.6/importlib/__init__.py"", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
  File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import
  File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load
  File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked
  File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked
  File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module
  File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed
  File ""/home/sudomann/repos/divvy-env/lib/python3.6/site-packages/rest_auth/registration/urls.py"", line 4, in <module>
    from .views import RegisterView, VerifyEmailView
  File ""/home/sudomann/repos/divvy-env/lib/python3.6/site-packages/rest_auth/registration/views.py"", line 26, in <module>
    from rest_auth.registration.serializers import (VerifyEmailSerializer,
  File ""/home/sudomann/repos/divvy-env/lib/python3.6/site-packages/rest_auth/registration/serializers.py"", line 166, in <module>
    class RegisterSerializer(serializers.Serializer):
  File ""/home/sudomann/repos/divvy-env/lib/python3.6/site-packages/rest_auth/registration/serializers.py"", line 168, in RegisterSerializer
    max_length=get_username_max_length(),
  File ""/home/sudomann/repos/divvy-env/lib/python3.6/site-packages/allauth/utils.py"", line 68, in get_username_max_length
    max_length = User._meta.get_field(USER_MODEL_USERNAME_FIELD).max_length
  File ""/home/sudomann/repos/divvy-env/lib/python3.6/site-packages/django/db/models/options.py"", line 567, in get_field
    raise FieldDoesNotExist(""%s has no field named '%s'"" % (self.object_name, field_name))
django.core.exceptions.FieldDoesNotExist: CustomUser has no field named 'username'
```"
1384,taigaio,taiga-back,12,closed,126,0,https://api.github.com/repos/taigaio/taiga-back/issues/126/comments,https://github.com/taigaio/taiga-back/pull/126,"[{""default"": true, ""name"": ""bug"", ""url"": ""https://api.github.com/repos/taigaio/taiga-back/labels/bug"", ""color"": ""fc2929"", ""node_id"": ""MDU6TGFiZWwzMjUzOTI0Nw=="", ""id"": 32539247}]",Fix incorrect handling of userstory rolepoints update process.,"The current implementation allows duplicate points values in one project,
and because of it, unexpected MultipleObjectsReturned can be raised with
previous update_role_points code. The new one fixes this.

Additionally, in some circumstances, the project does not have any points
with None as value, that causes also unexpected errors. The new
implementation fixes it creating a points instance with None as value
if it not exists.
"
3109,mirumee,saleor,6,closed,3727,4,https://api.github.com/repos/mirumee/saleor/issues/3727/comments,https://github.com/mirumee/saleor/pull/3727,[],Fix bug where cart can not be got or created when user has multiple carts,"Closes https://github.com/mirumee/saleor/issues/3728

The ```checkoutCreate``` or ```checkoutCustomerAttach``` could create multiple checkouts for a same user. Then ```get_or_create_user_cart``` will raise ```saleor.apps.checkout.models.Cart.MultipleObjectsReturned: get() returned more than one Cart``` error since it can not handle this case. This PR fixes this issue.

### Pull Request Checklist

<!-- Please keep this section. It will make maintainer's life easier. -->

1. [x] Privileged views and APIs are guarded by proper permission checks.
1. [x] All visible strings are translated with proper context.
1. [x] All data-formatting is locale-aware (dates, numbers, and so on).
1. [x] Database queries are optimized and the number of queries is constant.
1. [x] Database migration files are up to date.
1. [x] The changes are tested.
1. [x] The code is documented (docstrings, project documentation).
1. [x] GraphQL schema and type definitions are up to date.
1. [x] Changes are mentioned in the changelog.
"
10170,django-oscar,django-oscar,3,closed,2896,0,https://api.github.com/repos/django-oscar/django-oscar/issues/2896/comments,https://github.com/django-oscar/django-oscar/issues/2896,[],Error if Voucher name matches an existing VoucherSet name,"### Issue Summary

If a VoucherSet is created, then a Voucher is created or edited with the same name the error below will be raised on form validation.  This should return a form validation error saying ""name is already in use"".

```python-traceback
Traceback: 
File ""django/core/handlers/exception.py"" in inner 34. 
    response = get_response(request) 
File ""django/core/handlers/base.py"" in _get_response 126. 
    response = self.process_exception_by_middleware(e, request)
File ""django/core/handlers/base.py"" in _get_response 124. 
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
File ""django/contrib/auth/decorators.py"" in _wrapped_view 21. 
    return view_func(request, *args, **kwargs)
File ""django/views/generic/base.py"" in view 68. 
    return self.dispatch(request, *args, **kwargs)
File ""django/views/generic/base.py"" in dispatch 88. 
    return handler(request, *args, **kwargs)
File ""django/views/generic/edit.py"" in post 141. 
    if form.is_valid():
File ""django/forms/forms.py"" in is_valid 185. 
    return self.is_bound and not self.errors
File ""django/forms/forms.py"" in errors 180. 
    self.full_clean()
File ""django/forms/forms.py"" in full_clean 381. 
    self._clean_fields()
File ""django/forms/forms.py"" in _clean_fields 402. 
    value = getattr(self, 'clean_%s' % name)()
File ""django-oscar/src/oscar/apps/dashboard/vouchers/forms.py"" in clean_name 63. 
    voucher = Voucher.objects.get(name=name)
File ""django/db/models/manager.py"" in manager_method 82. 
    return getattr(self.get_queryset(), name)(*args, **kwargs)
File ""django/db/models/query.py"" in get 403. 
    (self.model._meta.object_name, num) 
Exception Type: MultipleObjectsReturned at /dashboard/vouchers/update/3/ 
Exception Value: get() returned more than one Voucher -- it returned 99!

```


### Steps to Reproduce

1. Create a Voucher Set with > 1 vouchers
2. Attempt to create a Voucher with the same name
3. A server error occurs

Any other relevant information. For example, why do you consider this a bug and what did you expect to happen instead?

A form validation error should be raised.

### Technical details

* Python version: 3.6.4
* Django version: 2.1.1
* Oscar version: master

The fix is here https://github.com/frmdstryr/django-oscar/commit/b71bb6e93f0c17d23dfedd1b52fdf0bdeca32108
"
10991,django-oscar,django-oscar,11,closed,2040,7,https://api.github.com/repos/django-oscar/django-oscar/issues/2040/comments,https://github.com/django-oscar/django-oscar/issues/2040,"[{""default"": false, ""name"": ""\u2601 Bug"", ""url"": ""https://api.github.com/repos/django-oscar/django-oscar/labels/%E2%98%81%20Bug"", ""color"": ""F8C1C1"", ""node_id"": ""MDU6TGFiZWw5NzM0NA=="", ""id"": 97344}]",MultipleObjectsReturned is possible when logging in with duplicate email,"Related to #295 but that was marked fixed so maybe this is a regression. Same issue as before. Can be reproduced by
1. Create 2 users with the same email in django admin
2. Log in using /store/accounts/login/

```
MultipleObjectsReturned: There are multiple users with the given email address and password
  File ""django/views/generic/base.py"", line 89, in dispatch
    return handler(request, *args, **kwargs)
  File ""oscar/apps/customer/views.py"", line 125, in post
    return self.validate_login_form()
  File ""oscar/apps/customer/views.py"", line 152, in validate_login_form
    if form.is_valid():
  File ""django/forms/forms.py"", line 184, in is_valid
    return self.is_bound and not self.errors
  File ""django/forms/forms.py"", line 176, in errors
    self.full_clean()
  File ""django/forms/forms.py"", line 393, in full_clean
    self._clean_form()
  File ""django/forms/forms.py"", line 417, in _clean_form
    cleaned_data = self.clean()
  File ""django/contrib/auth/forms.py"", line 157, in clean
    password=password)
  File ""django/contrib/auth/__init__.py"", line 74, in authenticate
    user = backend.authenticate(**credentials)
  File ""oscar/apps/customer/auth_backends.py"", line 54, in authenticate
    ""There are multiple users with the given email address and ""
```
"
11093,django-oscar,django-oscar,12,closed,1935,4,https://api.github.com/repos/django-oscar/django-oscar/issues/1935/comments,https://github.com/django-oscar/django-oscar/issues/1935,[],Duplicate AttributeOption raises MultipleObjectsReturned on Product save,"If you create two `AttributeOption` instances with both option values as `Large` and then attempt to save the product, you get a `MultipleObjectsReturned` exception.

The most straightforward fix is to simply add a `unique_together` for `AttributeOption.group` and `AttributeOption.option`. I'll submit a PR soon.

``` python
In [1]: product = Product.objects.filter(product_class__name=""T-shirt"")[0]

In [2]: product.attr.size = 'Large'

In [3]: product.save()
---------------------------------------------------------------------------
MultipleObjectsReturned                   Traceback (most recent call last)
<ipython-input-3-c3e25804d473> in <module>()
----> 1 product.save()

/home/john/Code/projects/pillowcentral/django-oscar/src/oscar/apps/catalogue/abstract_models.pyc in save(self, *args, **kwargs)
    440             self.slug = slugify(self.get_title())
    441         super(AbstractProduct, self).save(*args, **kwargs)
--> 442         self.attr.save()
    443 
    444     # Properties

/home/john/Code/projects/pillowcentral/django-oscar/src/oscar/apps/catalogue/abstract_models.pyc in save(self)
    766             if hasattr(self, attribute.code):
    767                 value = getattr(self, attribute.code)
--> 768                 attribute.save_value(self.product, value)
    769 
    770 

/home/john/Code/projects/pillowcentral/django-oscar/src/oscar/apps/catalogue/abstract_models.pyc in save_value(self, product, value)
    872                 return
    873             if value != value_obj.value:
--> 874                 value_obj.value = value
    875                 value_obj.save()
    876 

/home/john/Code/projects/pillowcentral/django-oscar/src/oscar/apps/catalogue/abstract_models.pyc in _set_value(self, new_value)
    974             # Need to look up instance of AttributeOption
    975             new_value = self.attribute.option_group.options.get(
--> 976                 option=new_value)
    977         setattr(self, 'value_%s' % self.attribute.type, new_value)
    978 

/home/john/Code/venv/oscar/local/lib/python2.7/site-packages/django/db/models/manager.pyc in manager_method(self, *args, **kwargs)
    125         def create_method(name, method):
    126             def manager_method(self, *args, **kwargs):
--> 127                 return getattr(self.get_queryset(), name)(*args, **kwargs)
    128             manager_method.__name__ = method.__name__
    129             manager_method.__doc__ = method.__doc__

/home/john/Code/venv/oscar/local/lib/python2.7/site-packages/django/db/models/query.pyc in get(self, *args, **kwargs)
    336         raise self.model.MultipleObjectsReturned(
    337             ""get() returned more than one %s -- it returned %s!"" %
--> 338             (self.model._meta.object_name, num)
    339         )
    340 

MultipleObjectsReturned: get() returned more than one AttributeOption -- it returned 2!
```
"
11521,django-oscar,django-oscar,16,closed,1496,0,https://api.github.com/repos/django-oscar/django-oscar/issues/1496/comments,https://github.com/django-oscar/django-oscar/issues/1496,"[{""default"": false, ""name"": ""\u2601 Bug"", ""url"": ""https://api.github.com/repos/django-oscar/django-oscar/labels/%E2%98%81%20Bug"", ""color"": ""F8C1C1"", ""node_id"": ""MDU6TGFiZWw5NzM0NA=="", ""id"": 97344}]",Moving lines back to the basket fails when there are options,"To recreate:
- Create a product class with a required option
- Add 3 different instances to your basket (different option each time)
- Move one basket line to your saved basket
- Try and move it back again

You'll see a `MultipleObjectsReturned` exception. 

Hat-tip to @costas-basdekis for spotting this.
"
11694,django-oscar,django-oscar,18,closed,1313,2,https://api.github.com/repos/django-oscar/django-oscar/issues/1313/comments,https://github.com/django-oscar/django-oscar/issues/1313,"[{""default"": false, ""name"": ""\u2601 Bug"", ""url"": ""https://api.github.com/repos/django-oscar/django-oscar/labels/%E2%98%81%20Bug"", ""color"": ""F8C1C1"", ""node_id"": ""MDU6TGFiZWw5NzM0NA=="", ""id"": 97344}]",Race condition during user registration,"In the RegisterUserMixin the race condition where the registration request is made multiple times in quick succession is handled. It catches a User.MultipleObjectsReturned exception.[0]

Unfortunately the authentication backend of oscar (EmailBackend) doesn't raise a MultipleObjectsReturned exception. Instead it just returns None if there are multiple users with the same email address.[1]

Therefore the users won't be purged.

[0] https://github.com/tangentlabs/django-oscar/blob/master/oscar/apps/customer/mixins.py#L58
[1] https://github.com/tangentlabs/django-oscar/blob/master/oscar/apps/customer/auth_backends.py#L47
"
11785,django-oscar,django-oscar,19,closed,1216,1,https://api.github.com/repos/django-oscar/django-oscar/issues/1216/comments,https://github.com/django-oscar/django-oscar/issues/1216,[],"""add to wish list""  on product details page does not work correct with multiple wish lists","When a customer have multiple wish lists, the ""add to wish list"" button does not work as expected as it will always add to the first wish list regardless which wish list the customer selected from the drop down menu

![bug1](https://f.cloud.github.com/assets/468787/2239687/003111ac-9c49-11e3-983f-50ba963696c9.png)

Steps to reproduce:
1. login as customer
2. create wishlist named ""one""
3. create another wishlist named ""two""
4. goto products detail page.
5. click ""add to wish list"" button and choose ""add to ""two"" wish list""

You will see the item will actually be added to the wrong wish list.

Cause of the issue seems to be in oscar.apps.customer.wishlists.views

the get_or_create_wishlist method in WishListAddProduct class does not seem to evaluate kwargs and will always return the first wishlist returned from the database.

Suggest the code changes to something like:

```
def get_or_create_wishlist(self, request, *args, **kwargs):
    wishlist = None
    if ""key"" in kwargs:
        # key of the wish list is provided by the url pattern
        try:
            wishlist = request.user.wishlists.get(key=kwargs['key'])
        except (ObjectDoesNotExist, MultipleObjectsReturned):
            raise Http404
    else:
        wishlists = request.user.wishlists.all()
        num_wishlists = len(wishlists)
        if num_wishlists == 0:
            return request.user.wishlists.create()
        # defaults to the first wish list if no information is provided
        wishlist = wishlists[0]

    if not wishlist.is_allowed_to_edit(request.user):
        raise PermissionDenied
    return wishlist
```
"
12671,django-oscar,django-oscar,28,closed,295,0,https://api.github.com/repos/django-oscar/django-oscar/issues/295/comments,https://github.com/django-oscar/django-oscar/issues/295,[],"email is used as a username, but allows duplicates","first issue is that email is not verified ignoring case of email letters, this allow duplicate users with same email but written in different case.

second issue is slightly serious:
imagine a situation when user clicks on the registration button twice
this will generate 2 request one after another very quickly.

First request is going as planned, then it hits line 203 in `apps.customer.views.py`:

```
self.send_registration_email(user)
```

this should be quick, but not as quick as the impatient users with double clicks.

when app is trying to send an email, second request is coming to the same point, there are no unique constrain in the database for the email, so at this moment we got 2 user accounts with the same email.

Why? We have 2 transactions running in parallel, and they do not know about themselves.

First process finishes, closes transaction, trying to return data to the user, but can't - browser has already established second connection and closed socked.

When 2-nd process will finish, it gets to the point of authentication, especially to the line 10 of `apps.customer.auth_backends.py`:

```
user = User.objects.get(email=email)
```

where it fails with `MultipleObjectsReturned` exception, and nice 500 page for the user.

One solution is to disable a button after it was clicked - as during checkout process, but IMHO this will not solve this issue fully, I do not trust client side too much.

Don't know how to fix it nicely, but for sure displaying 500 page will be no good. I suggest to add `MultipleObjectsReturned` to the try-except clause to `apps.customer.auth_backends.Emailbackend`...
any better ideas?
"
13784,Fantomas42,django-blog-zinnia,4,closed,315,1,https://api.github.com/repos/Fantomas42/django-blog-zinnia/issues/315/comments,https://github.com/Fantomas42/django-blog-zinnia/issues/315,"[{""default"": false, ""name"": ""Perimeter"", ""url"": ""https://api.github.com/repos/Fantomas42/django-blog-zinnia/labels/Perimeter"", ""color"": ""fffb08"", ""node_id"": ""MDU6TGFiZWw1MDA3Mw=="", ""id"": 50073}]",Bitly MultipleObjectsReturned,"This error happens me randomly. I don't know the cause, it seems that its creating a link twice for same object after new entry.

Error message:

MultipleObjectsReturned: get() returned more than one Bittle -- it returned 2! Lookup parameters were {'content_type__model': 'entry', 'content_type__app_label': 'zinnia', 'object_id': 14}
"
13995,Fantomas42,django-blog-zinnia,6,closed,104,1,https://api.github.com/repos/Fantomas42/django-blog-zinnia/issues/104/comments,https://github.com/Fantomas42/django-blog-zinnia/issues/104,"[{""default"": false, ""name"": ""Bug"", ""url"": ""https://api.github.com/repos/Fantomas42/django-blog-zinnia/labels/Bug"", ""color"": ""3c7496"", ""node_id"": ""MDU6TGFiZWwzNTA0MQ=="", ""id"": 35041}]","Slugs are not unique, but the discussions feed(s) treat them as such.","Hi,

One of our employees likes to write a blog entry that she titles ""Feel good friday"" every month. Now of course, this causes a problem when someone or something tries to access feeds/comments/feel-good-friday/, as there are several of them and this raises a MultipleObjectsReturned.

Just thought you should know :)

robert.
"
15926,rafalp,Misago,13,closed,56,0,https://api.github.com/repos/rafalp/Misago/issues/56/comments,https://github.com/rafalp/Misago/issues/56,[],Crawler handling corrupts session table,"It looks like SessionCrawler objet that Misago uses for providing cookieless sessions for web crawlers  has problems with at least bing bot:

```
MultipleObjectsReturned: get() returned more than one Session -- it returned 2! Lookup parameters were {'ip': '157.55.33.40', 'crawler': 'Bingbot'}
```

It's caused either by quirk in crawler's behaviour or flawed implementation.
"
16120,Tivix,django-rest-auth,3,closed,276,1,https://api.github.com/repos/Tivix/django-rest-auth/issues/276/comments,https://github.com/Tivix/django-rest-auth/issues/276,[],Returning Oauth2 tokens,"Hello,

I've been struggling with this for a while, so pardon me if it is documented or I've missed it.

I have an application which uses Oauth2. However, djang-rest-auth seems prepared to return single (and most importantly, unique per user) tokens only, is that correct?

I have tried to use the _REST_AUTH_TOKEN_MODEL_ setting to set the model of the RefreshToken (currently _oauth2_provider.models.RefreshToken_, a well known Oauth2 toolkit for Django), and the _TOKEN_SERIALIZER_ setting to a serializer where I return the given RefreshToken, plus the access token assigned to it. I believe I still would need to set _REST_AUTH_TOKEN_CREATOR_ however this seems unclear to me and it appears the toolkit is managing tokens just fine - either way this setting is unneeded until I fix the issues.

**TLDR**
Even by using the settings provided to use a custom token system, they seem lacking when using non-unique-per-user tokens such as Oauth2 - the error I get is the following:

```
  File ""/usr/local/opt/pyenv/versions/xxxxx/lib/python3.4/site-packages/rest_auth/views.py"", line 83, in post
    self.login()
  File ""/usr/local/opt/pyenv/versions/xxxxx/lib/python3.4/site-packages/rest_auth/views.py"", line 59, in login
    self.token = create_token(self.token_model, self.user, self.serializer)
  File ""/usr/local/opt/pyenv/versions/xxxxx/lib/python3.4/site-packages/rest_auth/utils.py"", line 15, in default_create_token
    token, _ = token_model.objects.get_or_create(user=user)

oauth2_provider.models.MultipleObjectsReturned: get() returned more than one RefreshToken -- it returned 2!
```

Is there a workaround around this? Am I doing something wrong? Or would the project need to further evolve?
All I can think off is to create a custom proxy class that manages the token logic for me and leaves it all ready for django-rest-auth.

Thank you for your time, even with this issue, your project is saving me time :)
"
6726,ansible,awx,3,closed,3875,8,https://api.github.com/repos/ansible/awx/issues/3875/comments,https://github.com/ansible/awx/pull/3875,"[{""default"": false, ""name"": ""component:api"", ""url"": ""https://api.github.com/repos/ansible/awx/labels/component:api"", ""color"": ""fbca04"", ""node_id"": ""MDU6TGFiZWw2ODcxNjkyNDY="", ""id"": 687169246}, {""default"": false, ""name"": ""mergeit"", ""url"": ""https://api.github.com/repos/ansible/awx/labels/mergeit"", ""color"": ""b345d8"", ""node_id"": ""MDU6TGFiZWwxMDgwODE2Mzcw"", ""id"": 1080816370}, {""default"": false, ""name"": ""state:needs_triage"", ""url"": ""https://api.github.com/repos/ansible/awx/labels/state:needs_triage"", ""color"": ""A0522D"", ""node_id"": ""MDU6TGFiZWw2ODcxNzI4NTg="", ""id"": 687172858}, {""default"": false, ""name"": ""type:bug"", ""url"": ""https://api.github.com/repos/ansible/awx/labels/type:bug"", ""color"": ""F79F81"", ""node_id"": ""MDU6TGFiZWw2MDcyODM3NDg="", ""id"": 607283748}]",reorder migrations to avoid session error,"##### SUMMARY

@jbradberry figured out the cause of the SuspiciousOperation Error we have all become familiar.  

> the check migrations middleware is higher up on the list, but short-circuits the request/response cycle in the case where there are migrations to be run, therefore bypassing the session middleware and breaking the contract

So when have migrations _and_ your session has expired, you get this nasty 500.  The solution is to reorder the migrations so that the SessiontimeoutMiddleware checks the session expiry _before_ the Migration check middleware.  

This appears to fix it more me locally.  

##### ISSUE TYPE

 - Bugfix Pull Request


##### COMPONENT NAME
<!--- Name of the module/plugin/module/task -->
 - API

"
667,taigaio,taiga-back,4,closed,945,2,https://api.github.com/repos/taigaio/taiga-back/issues/945/comments,https://github.com/taigaio/taiga-back/issues/945,[],Cannot update tags on User Story through API,"i'm trying to use the API to send a PATCH request to add tags to a user story, however i'm getting a permission denied error. we're using a self-hosted instance running on the stable branch, commit 9bdf1e0 i believe.

notes:
- the account i'm using with the API is the creator of the user story i'm trying to edit
- the account's role has full permissions for everything
- base url: https://$taigaInstance.com/api/v1/userstories/$storyId
- payload: {""tags"": [ ""tech needs"" ], ""version"": 1}

logging in and other operations through the API work such as creating user stories and sending users invitations to projects, so i'm not sure if this is a bug or i'm not correctly using the API for this operation.

what's happening: receive the following error - {""_error_message"": ""You do not have permission to perform this action."", ""_error_type"": ""taiga.base.exceptions.PermissionDenied""}

what i expect to happen:  success"
847,taigaio,taiga-back,6,closed,715,1,https://api.github.com/repos/taigaio/taiga-back/issues/715/comments,https://github.com/taigaio/taiga-back/issues/715,[],Add comment to Issue using API,"As the previous issue is closed I am opening a new one.

With reference to issue #712 

Tried your solution and it does not work. It gives the following error.

stdClass Object
(
[_error_type] => taiga.base.exceptions.PermissionDenied
[_error_message] => You do not have permission to perform this action.
)

Note:- I am doing all the API calls with admin account and the user is the project Owner.

Thanks
"
6770,ansible,awx,3,closed,3810,8,https://api.github.com/repos/ansible/awx/issues/3810/comments,https://github.com/ansible/awx/pull/3810,"[{""default"": false, ""name"": ""component:api"", ""url"": ""https://api.github.com/repos/ansible/awx/labels/component:api"", ""color"": ""fbca04"", ""node_id"": ""MDU6TGFiZWw2ODcxNjkyNDY="", ""id"": 687169246}, {""default"": false, ""name"": ""mergeit"", ""url"": ""https://api.github.com/repos/ansible/awx/labels/mergeit"", ""color"": ""b345d8"", ""node_id"": ""MDU6TGFiZWwxMDgwODE2Mzcw"", ""id"": 1080816370}, {""default"": false, ""name"": ""type:bug"", ""url"": ""https://api.github.com/repos/ansible/awx/labels/type:bug"", ""color"": ""F79F81"", ""node_id"": ""MDU6TGFiZWw2MDcyODM3NDg="", ""id"": 607283748}]",Raise meaningful error when permission denied to copy JT,"##### SUMMARY

When a user doesn't have access to all the credentials of a job template, they cannot copy the JT. However, currently we raise a default `PermissionDenied`, which doesn't give the user insight into what's wrong. So, this PR just adds a custom message indicating that access to credentials is missing.

Signed-off-by: Vismay Golwala <vgolwala@redhat.com>

##### ISSUE TYPE
<!--- Pick one below and delete the rest: -->
 - Bugfix Pull Request

##### COMPONENT NAME
<!--- Name of the module/plugin/module/task -->
 - API

##### AWX VERSION
<!--- Paste verbatim output from `make VERSION` between quotes below -->
```
awx: 4.0.0
```"
11785,django-oscar,django-oscar,19,closed,1216,1,https://api.github.com/repos/django-oscar/django-oscar/issues/1216/comments,https://github.com/django-oscar/django-oscar/issues/1216,[],"""add to wish list""  on product details page does not work correct with multiple wish lists","When a customer have multiple wish lists, the ""add to wish list"" button does not work as expected as it will always add to the first wish list regardless which wish list the customer selected from the drop down menu

![bug1](https://f.cloud.github.com/assets/468787/2239687/003111ac-9c49-11e3-983f-50ba963696c9.png)

Steps to reproduce:
1. login as customer
2. create wishlist named ""one""
3. create another wishlist named ""two""
4. goto products detail page.
5. click ""add to wish list"" button and choose ""add to ""two"" wish list""

You will see the item will actually be added to the wrong wish list.

Cause of the issue seems to be in oscar.apps.customer.wishlists.views

the get_or_create_wishlist method in WishListAddProduct class does not seem to evaluate kwargs and will always return the first wishlist returned from the database.

Suggest the code changes to something like:

```
def get_or_create_wishlist(self, request, *args, **kwargs):
    wishlist = None
    if ""key"" in kwargs:
        # key of the wish list is provided by the url pattern
        try:
            wishlist = request.user.wishlists.get(key=kwargs['key'])
        except (ObjectDoesNotExist, MultipleObjectsReturned):
            raise Http404
    else:
        wishlists = request.user.wishlists.all()
        num_wishlists = len(wishlists)
        if num_wishlists == 0:
            return request.user.wishlists.create()
        # defaults to the first wish list if no information is provided
        wishlist = wishlists[0]

    if not wishlist.is_allowed_to_edit(request.user):
        raise PermissionDenied
    return wishlist
```
"
13017,GetBlimp,django-rest-framework-jwt,2,closed,327,2,https://api.github.com/repos/GetBlimp/django-rest-framework-jwt/issues/327/comments,https://github.com/GetBlimp/django-rest-framework-jwt/issues/327,[],Look up user with token only,"Hi,

Great work on this lib.

I'm trying to add security to a socket I've setup. As sockets don't work like regular requests, I've only been able to access the JWT token on it's own.

I am sending only `JWT ey123456` etc.

I simply want to check if the token exists, then return the `user.id` from it.

The below code tells me `AttributeError: 'Token' object has no attribute 'META'`.

```
@channel_session
def ws_connect(message):
    token = [part for part in headercookies.split(';') if 'token=' in part][0].partition('token=')[2]
    fulltoken = ('JWT ' + token)
    user_from_token = Token.objects.filter(key='token').values('user_id')
    try:
        user_jwt = JSONWebTokenAuthentication().authenticate(Token(token))
    except AuthenticationFailed:
        raise PermissionDenied
```"
15537,rafalp,Misago,9,closed,464,0,https://api.github.com/repos/rafalp/Misago/issues/464/comments,https://github.com/rafalp/Misago/issues/464,"[{""default"": false, ""name"": ""backend"", ""url"": ""https://api.github.com/repos/rafalp/Misago/labels/backend"", ""color"": ""1976D2"", ""node_id"": ""MDU6TGFiZWw3NTU1NjQwNA=="", ""id"": 75556404}]",New user account tests,"Misago could provide simple tests pipeline, where functions defined in setting would be called one after another for ip, username and e-mail before user is registered. If either function objects against new user, it could raise PermissionDenied error to block user from registering account.
"
763,taigaio,taiga-back,5,closed,822,1,https://api.github.com/repos/taigaio/taiga-back/issues/822/comments,https://github.com/taigaio/taiga-back/issues/822,[],NoSuchFieldError with TConstruct,"With TConstruct 2.5.0 and TAIGA 1.1.3 I get this crash: http://pastebin.com/pikcXu3p
And with TAIGA 1.1.2 I get this: http://pastebin.com/cEjzvAiX
forge: 12.18.1.2077

With TConstruct 2.4.0 and TAIGA 1.1.2 it works fine.
"
5452,mirumee,saleor,29,closed,1162,0,https://api.github.com/repos/mirumee/saleor/issues/1162/comments,https://github.com/mirumee/saleor/issues/1162,"[{""default"": true, ""name"": ""bug"", ""url"": ""https://api.github.com/repos/mirumee/saleor/labels/bug"", ""color"": ""fc2929"", ""node_id"": ""MDU6TGFiZWwyODE5MjMzMQ=="", ""id"": 28192331}]",FieldError while using ElasticSearch search,"On fresh installation, when trying to use search from the main page:
```
Request Method: | GET
-- | --
http://localhost:8000/search/?q=das
1.11.5
FieldError
Cannot filter search results with field ""is_published"". Please add index.FilterField('is_published') to Product.search_fields.
/app/saleor/search/backends/base.py in _process_filter, line 53
/usr/local/bin/python
3.5.4
['/app',  '/usr/local/lib/python35.zip',  '/usr/local/lib/python3.5',  '/usr/local/lib/python3.5/plat-linux',  '/usr/local/lib/python3.5/lib-dynload',  '/usr/local/lib/python3.5/site-packages']
Fri, 6 Oct 2017 05:02:58 -0500
```
Confirmed on 3 separate machines, running from the docker"
10681,django-oscar,django-oscar,8,closed,2357,2,https://api.github.com/repos/django-oscar/django-oscar/issues/2357/comments,https://github.com/django-oscar/django-oscar/issues/2357,[],Field error when adding product to range,"Hi,

When I try to add products to one of my ranges using SKUs (with input form or with a file), I get the following error :

> FieldError at /dashboard/ranges/5/products/
Cannot resolve keyword 'stockrecords' into field. Choices are: attribute_values, attributes, basket_lines, categories, children, date_created, date_updated, description, excludes, handpickedproductlist, id, image, images, includes, is_active, is_discountable, line, name, orderedproduct, parent, parent_id, price, primary_recommendations, product, product_class, product_class_id, product_options, productalert, productcategory, productinformation, productrecommendation, rangeproduct, rating, recommended_products, reference, reviews, singleproduct, slug, stats, structure, subcategory, title, upc, userproductview, weight, wishlists_lines

The error seems to come from ""oscar\apps\dashboard\ranges\forms.py"", line 51.
`        existing_skus = set(products.values_list(
            'stockrecords__partner_sku', flat=True))`

I'm using oscar version 1.3.0"
11015,django-oscar,django-oscar,11,closed,2016,2,https://api.github.com/repos/django-oscar/django-oscar/issues/2016/comments,https://github.com/django-oscar/django-oscar/issues/2016,[],Unable to override ProductImage and ProductImageForm classes,"I have been trying to override the `ProductImage` and `ProductImageForm` classes but I've run into an issue and can't figure out how to achieve this (or whether it's even possible). I've already successfully overridden the `Product` and `ProductForm` classes so I assumed I would be able to do something similar for `ProductImage` and `ProductImageForm`.

I wanted to make significant changes to the `ProductImage` class, so I've overridden this class and **not** inherited from `AbstractProductImage`, and this _seems_ to be working. My problem is that now I'm trying to override the `ProductImageForm` class so make it compatible with my new `ProductImage` class, and I keep getting the following error:

```
FieldError at /oscar-admin/dashboard/catalogue/products/1/
Unknown field(s) (caption, original) specified for ProductImage
```

This error comes from `class ProductImageForm(forms.ModelForm)` in `venv/lib/python3.5/site-packages/oscar/apps/dashboard/catalogue/forms.py`, which seems to imply that my customised `ProductImageForm` class is being ignored, but I have no idea why, especially since I am successfully overriding `ProductForm` in the very same file that I'm attempting to override `ProductImageForm`.

I'm using Django Oscar 1.1.1 and Django 1.8.9.

All the relevant code can be viewed here: https://gist.github.com/jordanmkoncz/9fe171eacc34ee83e996
"
11183,django-oscar,django-oscar,13,closed,1843,4,https://api.github.com/repos/django-oscar/django-oscar/issues/1843/comments,https://github.com/django-oscar/django-oscar/issues/1843,"[{""default"": false, ""name"": ""\u261b Needs more info"", ""url"": ""https://api.github.com/repos/django-oscar/django-oscar/labels/%E2%98%9B%20Needs%20more%20info"", ""color"": ""DDDDDD"", ""node_id"": ""MDU6TGFiZWwxNTMyMTc2NQ=="", ""id"": 15321765}]",Override offers.Benefits and change TYPE_CHOICES,"Is there a conventional way to tackle this? My override model looks like:

```
class Benefit(AbstractBenefit):
    """"""
    Override Benefit model so we can inject our own Discount choice and model
    """"""

    # Benefit types
    MEMBERSHIP_DISCOUNT = (
        ""Membership Discount"")
    TYPE_CHOICES = (
        (MEMBERSHIP_DISCOUNT, ugettext(""Discount is as specified by the product's merchant membership settings"")),
    )
```

The problem is that setting the TYPE_CHOICES on the subclass is too late.

I can't override the `type` field directly lest I run into `django.core.exceptions.FieldError: Local field 'type' in class 'Benefit' clashes with field of similar name from base class 'AbstractBenefit'`

I've also tried the following solutions to no effect:

```
    def __init__(self, args, **kwargs):
        type_field = self._meta.get_field_by_name(""type"")[0]
        type_field.choices = self.TYPE_CHOICES
        super(Benefit, self).__init__(*args, **kwargs)
```

and

```
class Benefit:
   ...
Benefit._meta.get_field('type').choices = Benefit.TYPE_CHOICES
```

But both produce errors and I get the feeling they aren't the right solution here.
"
11205,django-oscar,django-oscar,13,closed,1820,4,https://api.github.com/repos/django-oscar/django-oscar/issues/1820/comments,https://github.com/django-oscar/django-oscar/issues/1820,[],Problem with filtering vouchers in dashboard.,"Hi,

Trying to filter vouchers in dashboard gives this error:

""FieldError: Cannot resolve keyword 'start_date' into field. Choices are: applications, basket, code, date_created, end_datetime, id, name, num_basket_additions, num_orders, offers, start_datetime, total_discount, usage, users""

I'm gussing that this line:

`qs = qs.filter(start_date__lte=today, end_date__gte=today)`
should be:
`qs = qs.filter(start_datetime__lte=today, end_datetime__gte=today)`

https://github.com/django-oscar/django-oscar/blob/master/src/oscar/apps/dashboard/vouchers/views.py#L62

At some point Voucher model fields `start_date` and `end_date` were renamed to `start_datetime` and `end_datetime`.

Cheers,
Wieslaw
"
11909,django-oscar,django-oscar,20,closed,1081,1,https://api.github.com/repos/django-oscar/django-oscar/issues/1081/comments,https://github.com/django-oscar/django-oscar/pull/1081,[],Fix issue 926,"FieldError at /dashboard/offers/
Cannot resolve keyword u'start_date' into field.
"
12057,django-oscar,django-oscar,22,closed,926,1,https://api.github.com/repos/django-oscar/django-oscar/issues/926/comments,https://github.com/django-oscar/django-oscar/issues/926,[],FieldError at /dashboard/offers/,"Cannot resolve keyword u'start_date' into field. Choices are: benefit, condition, date_created, description, end_datetime, id, max_basket_applications, max_discount, max_global_applications, max_user_applications, name, num_applications, num_orders, offer_type, priority, redirect_url, slug, start_datetime, status, total_discount, vouchers

Request Method: GET
Request URL:    http://localhost:8000/dashboard/offers/?sort=start_date

![offerta 1](https://f.cloud.github.com/assets/2088831/1407309/896021f0-3d69-11e3-8b5a-9b885ec14f79.png)
![offerta2](https://f.cloud.github.com/assets/2088831/1407310/8c689a62-3d69-11e3-9b3a-10b5a6542347.png)
"
13187,GetBlimp,django-rest-framework-jwt,4,closed,102,6,https://api.github.com/repos/GetBlimp/django-rest-framework-jwt/issues/102/comments,https://github.com/GetBlimp/django-rest-framework-jwt/issues/102,"[{""default"": true, ""name"": ""bug"", ""url"": ""https://api.github.com/repos/GetBlimp/django-rest-framework-jwt/labels/bug"", ""color"": ""fc2929"", ""node_id"": ""MDU6TGFiZWw3NTI3OTE0Ng=="", ""id"": 75279146}]",FieldError when using custom user model,"Django docs suggest to inherit custom user model from AbstractBaseUser class:
https://docs.djangoproject.com/en/1.8/topics/auth/customizing/#specifying-a-custom-user-model

AbstractBaseUser has an attribute ""is_active"" that is True by default (it's not a database field)
https://github.com/django/django/blob/master/django/contrib/auth/models.py#L199

In this case django-rest-framework-jwt throws an error ""FieldError: Cannot resolve keyword 'is_active' into field."" when trying to do authentication:
https://github.com/GetBlimp/django-rest-framework-jwt/blob/deea4ad14dfd4611fb19ad3cab133b8dd3e8959c/rest_framework_jwt/authentication.py#L55

Also token verifycation and refresh fail:
https://github.com/GetBlimp/django-rest-framework-jwt/blob/faa772c53efe7123776206fa0513d597c5e2c368/rest_framework_jwt/serializers.py#L115
"
13617,Fantomas42,django-blog-zinnia,2,closed,484,39,https://api.github.com/repos/Fantomas42/django-blog-zinnia/issues/484/comments,https://github.com/Fantomas42/django-blog-zinnia/issues/484,"[{""default"": false, ""name"": ""Bug"", ""url"": ""https://api.github.com/repos/Fantomas42/django-blog-zinnia/labels/Bug"", ""color"": ""3c7496"", ""node_id"": ""MDU6TGFiZWwzNTA0MQ=="", ""id"": 35041}]","Zinnia0.18, in Python3 venv, DEBUG on, Cannot resolve keyword 'entries' into field. Choices are:avatar, comment_comments,...","Hi!
I'm using **Django 1.10** and I'm trying to deploy blog Zinnia in a **Python 3 virtualenv**. 
I installed **Zinnia 0.18** using pip, and followed the ""get started"" guide to set everything in my site settings.py and urls.py, then made the migrations.
However, when I went to 127.0.0.1/weblog , the exception raised.

> django.core.exceptions.FieldError: Cannot resolve keyword 'entries' into field. Choices are: avatar, comment_comments, comment_flags, date_joined, email, first_name, groups, id, is_active, is_staff, is_superuser, last_login, last_name, logentry, password, user_permissions, username

I looked up issues solved (or closed) before, but unluckily none of them works for me.

Apps I installed:

Django==1.10
Pillow==3.3.1
PyMySQL==0.7.6
beautifulsoup4==4.5.1
django-appconf==1.0.2
django-avatar==3.0.0
django-blog-zinnia==0.18
django-contrib-comments==1.7.2
django-mptt==0.8.6
django-tagging==0.4.5
django-xmlrpc==0.1.5
mots-vides==2015.5.11
pyparsing==2.1.9
pytz==2016.6.1
regex==2016.08.27
"
13619,Fantomas42,django-blog-zinnia,2,closed,482,7,https://api.github.com/repos/Fantomas42/django-blog-zinnia/issues/482/comments,https://github.com/Fantomas42/django-blog-zinnia/issues/482,"[{""default"": false, ""name"": ""ICC"", ""url"": ""https://api.github.com/repos/Fantomas42/django-blog-zinnia/labels/ICC"", ""color"": ""fffeb8"", ""node_id"": ""MDU6TGFiZWwzOTY1OQ=="", ""id"": 39659}]","(help) I follow the installation section of the docs,but got an error when I run the project.","I follow this docs: http://docs.django-blog-zinnia.com/en/develop/getting-started/install.html to start my project, everything were setted, but when I visit the index page, I got this error:

> FieldError at /weblog/
> Cannot resolve keyword 'entries' into field. Choices are: comment_comments, comment_flags, date_joined, email, first_name, groups, id, is_active, is_staff, is_superuser, last_login, last_name, logentry, password, user_permissions, username

and this is the traceback:

> Internal Server Error: /weblog/
> Traceback (most recent call last):
>   File ""D:\Users\zmrenwu\Envs\zinnia_env\lib\site-packages\django\core\handlers\exception.py"", line 39, in inner
>     response = get_response(request)
>   File ""D:\Users\zmrenwu\Envs\zinnia_env\lib\site-packages\django\core\handlers\base.py"", line 217, in _get_response
>     response = self.process_exception_by_middleware(e, request)
>   File ""D:\Users\zmrenwu\Envs\zinnia_env\lib\site-packages\django\core\handlers\base.py"", line 215, in _get_response
>     response = response.render()
>   File ""D:\Users\zmrenwu\Envs\zinnia_env\lib\site-packages\django\template\response.py"", line 109, in render
>     self.content = self.rendered_content
>   File ""D:\Users\zmrenwu\Envs\zinnia_env\lib\site-packages\django\template\response.py"", line 86, in rendered_content
>     content = template.render(context, self._request)
>   File ""D:\Users\zmrenwu\Envs\zinnia_env\lib\site-packages\django\template\backends\django.py"", line 66, in render
>     return self.template.render(context)
>   File ""D:\Users\zmrenwu\Envs\zinnia_env\lib\site-packages\django\template\base.py"", line 208, in render
>     return self._render(context)
>   File ""D:\Users\zmrenwu\Envs\zinnia_env\lib\site-packages\django\template\base.py"", line 199, in _render
>     return self.nodelist.render(context)
>   File ""D:\Users\zmrenwu\Envs\zinnia_env\lib\site-packages\django\template\base.py"", line 994, in render
>     bit = node.render_annotated(context)
>   File ""D:\Users\zmrenwu\Envs\zinnia_env\lib\site-packages\django\template\base.py"", line 961, in render_annotated
>     return self.render(context)
>   File ""D:\Users\zmrenwu\Envs\zinnia_env\lib\site-packages\django\template\loader_tags.py"", line 174, in render
>     return compiled_parent._render(context)
>   File ""D:\Users\zmrenwu\Envs\zinnia_env\lib\site-packages\django\template\base.py"", line 199, in _render
>     return self.nodelist.render(context)
>   File ""D:\Users\zmrenwu\Envs\zinnia_env\lib\site-packages\django\template\base.py"", line 994, in render
>     bit = node.render_annotated(context)
>   File ""D:\Users\zmrenwu\Envs\zinnia_env\lib\site-packages\django\template\base.py"", line 961, in render_annotated
>     return self.render(context)
>   File ""D:\Users\zmrenwu\Envs\zinnia_env\lib\site-packages\django\template\loader_tags.py"", line 174, in render
>     return compiled_parent._render(context)
>   File ""D:\Users\zmrenwu\Envs\zinnia_env\lib\site-packages\django\template\base.py"", line 199, in _render
>     return self.nodelist.render(context)
>   File ""D:\Users\zmrenwu\Envs\zinnia_env\lib\site-packages\django\template\base.py"", line 994, in render
>     bit = node.render_annotated(context)
>   File ""D:\Users\zmrenwu\Envs\zinnia_env\lib\site-packages\django\template\base.py"", line 961, in render_annotated
>     return self.render(context)
>   File ""D:\Users\zmrenwu\Envs\zinnia_env\lib\site-packages\django\template\loader_tags.py"", line 174, in render
>     return compiled_parent._render(context)
>   File ""D:\Users\zmrenwu\Envs\zinnia_env\lib\site-packages\django\template\base.py"", line 199, in _render
>     return self.nodelist.render(context)
>   File ""D:\Users\zmrenwu\Envs\zinnia_env\lib\site-packages\django\template\base.py"", line 994, in render
>     bit = node.render_annotated(context)
>   File ""D:\Users\zmrenwu\Envs\zinnia_env\lib\site-packages\django\template\base.py"", line 961, in render_annotated
>     return self.render(context)
>   File ""D:\Users\zmrenwu\Envs\zinnia_env\lib\site-packages\django\template\loader_tags.py"", line 70, in render
>     result = block.nodelist.render(context)
>   File ""D:\Users\zmrenwu\Envs\zinnia_env\lib\site-packages\django\template\base.py"", line 994, in render
>     bit = node.render_annotated(context)
>   File ""D:\Users\zmrenwu\Envs\zinnia_env\lib\site-packages\django\template\base.py"", line 961, in render_annotated
>     return self.render(context)
>   File ""D:\Users\zmrenwu\Envs\zinnia_env\lib\site-packages\django\template\library.py"", line 225, in render
>     _dict = self.func(_resolved_args, *_resolved_kwargs)
>   File ""D:\Users\zmrenwu\Envs\zinnia_env\lib\site-packages\zinnia\templatetags\zinnia.py"", line 84, in get_authors
>     'authors': Author.published.all().annotate(
>   File ""D:\Users\zmrenwu\Envs\zinnia_env\lib\site-packages\django\db\models\manager.py"", line 160, in all
>     return self.get_queryset()
>   File ""D:\Users\zmrenwu\Envs\zinnia_env\lib\site-packages\zinnia\managers.py"", line 107, in get_queryset
>     entries__sites=Site.objects.get_current()
>   File ""D:\Users\zmrenwu\Envs\zinnia_env\lib\site-packages\django\db\models\query.py"", line 794, in filter
>     return self._filter_or_exclude(False, _args, *_kwargs)
>   File ""D:\Users\zmrenwu\Envs\zinnia_env\lib\site-packages\django\db\models\query.py"", line 812, in _filter_or_exclude
>     clone.query.add_q(Q(_args, *_kwargs))
>   File ""D:\Users\zmrenwu\Envs\zinnia_env\lib\site-packages\django\db\models\sql\query.py"", line 1227, in add_q
>     clause, _ = self._add_q(q_object, self.used_aliases)
>   File ""D:\Users\zmrenwu\Envs\zinnia_env\lib\site-packages\django\db\models\sql\query.py"", line 1247, in _add_q
>     current_negated, allow_joins, split_subq)
>   File ""D:\Users\zmrenwu\Envs\zinnia_env\lib\site-packages\django\db\models\sql\query.py"", line 1253, in _add_q
>     allow_joins=allow_joins, split_subq=split_subq,
>   File ""D:\Users\zmrenwu\Envs\zinnia_env\lib\site-packages\django\db\models\sql\query.py"", line 1133, in build_filter
>     lookups, parts, reffed_expression = self.solve_lookup_type(arg)
>   File ""D:\Users\zmrenwu\Envs\zinnia_env\lib\site-packages\django\db\models\sql\query.py"", line 1019, in solve_lookup_type
>     _, field, _, lookup_parts = self.names_to_path(lookup_splitted, self.get_meta())
>   File ""D:\Users\zmrenwu\Envs\zinnia_env\lib\site-packages\django\db\models\sql\query.py"", line 1327, in names_to_path
>     ""Choices are: %s"" % (name, "", "".join(available)))
> django.core.exceptions.FieldError: Cannot resolve keyword 'entries' into field. Choices are: comment_comments, comment_flags, date_joined, email, first_name, groups, id, is_active, is_staff, is_superuser, last_login, last_name, logentry, password, user_permissions, username
> [24/Aug/2016 16:44:13] ""GET /weblog/ HTTP/1.1"" 500 248632

How to fix it? With this error I can't publish any entry. But I can create other items in admin.
"
13708,Fantomas42,django-blog-zinnia,3,closed,393,5,https://api.github.com/repos/Fantomas42/django-blog-zinnia/issues/393/comments,https://github.com/Fantomas42/django-blog-zinnia/issues/393,"[{""default"": false, ""name"": ""ICC"", ""url"": ""https://api.github.com/repos/Fantomas42/django-blog-zinnia/labels/ICC"", ""color"": ""fffeb8"", ""node_id"": ""MDU6TGFiZWwzOTY1OQ=="", ""id"": 39659}]",FieldError,"Hi Fantomas,
I got error:
Cannot resolve keyword 'flags' into field. Choices are: comment, content_type, content_type_id, id, ip_address, is_public, is_removed, object_pk, site, site_id, submit_date, user, user_email, user_id, user_name, user_url
I deleted the database and created again, after performing syncdb
"
13923,Fantomas42,django-blog-zinnia,5,closed,176,13,https://api.github.com/repos/Fantomas42/django-blog-zinnia/issues/176/comments,https://github.com/Fantomas42/django-blog-zinnia/issues/176,"[{""default"": false, ""name"": ""ICC"", ""url"": ""https://api.github.com/repos/Fantomas42/django-blog-zinnia/labels/ICC"", ""color"": ""fffeb8"", ""node_id"": ""MDU6TGFiZWwzOTY1OQ=="", ""id"": 39659}]",This error again!? Cannot resolve keyword 'entries' into field.,"`FieldError: Cannot resolve keyword 'entries' into field.`

I made sure I had the right changes to `site`, made sure I had a site set.

It works locally, but on my server I can't add any posts?!

```
 File ""/...../zinnia/managers.py"", line 35, in get_query_set
    entries__sites=Site.objects.get_current()
```

I can do this on my server

```
>>> from django.contrib.sites.models import Site
>>> Site.objects.get_current()
<Site: the name of me site!.org>
```

I verified tables are in the db

```
public | zinnia_category                  | table
public | zinnia_entry                     | table
public | zinnia_entry_authors             | table
public | zinnia_entry_categories          | table
public | zinnia_entry_related             | table
public | zinnia_entry_sites               | table
```

It's gotta be something silly im doing, I think....
"
13927,Fantomas42,django-blog-zinnia,5,closed,172,13,https://api.github.com/repos/Fantomas42/django-blog-zinnia/issues/172/comments,https://github.com/Fantomas42/django-blog-zinnia/issues/172,"[{""default"": false, ""name"": ""Database"", ""url"": ""https://api.github.com/repos/Fantomas42/django-blog-zinnia/labels/Database"", ""color"": ""a858ba"", ""node_id"": ""MDU6TGFiZWw0NTQzNg=="", ""id"": 45436}]",'Cannot resolve keyword 'entries' into field. Choices are: comment_comments...' ,"Hey gang,

I'm not quite sure why I'm getting this error, but I'm going here:

```
http://127.0.0.1:8000/admin/zinnia/entry/
```

And getting this:

```
FieldError at /admin/zinnia/entry/
Cannot resolve keyword 'entries' into field. Choices are: comment_comments, comment_flags, date_joined, email, first_name, forum, forumreadtracker, groups, id, is_active, is_staff, is_superuser, last_login, last_name, logentry, password, poll_answers, posts, pybb_profile, readed_forums, readed_topics, registrationprofile, subscriptions, topic, topicreadtracker, user_permissions, username, userprofile
```

But this page works:

```
http://127.0.0.1:8000/admin/zinnia/category/
```

I did syncdb --migrate; it all seems to be up to date!  I'm using latest version from this repo.  Trying to track down the error, I can't find it yet!

(Ps, thanks for releasing this awesome app, can't wait to use it!)

---

More info:

```
# around line 18
zinnia\admin\filters.py in lookups
        active_authors = Author.published.all().annotate( 

# around line 33
zinnia\managers.py in get_query_set
            entries__sites=Site.objects.get_current() 
```
"
14049,Fantomas42,django-blog-zinnia,6,closed,50,6,https://api.github.com/repos/Fantomas42/django-blog-zinnia/issues/50/comments,https://github.com/Fantomas42/django-blog-zinnia/issues/50,"[{""default"": false, ""name"": ""Admin"", ""url"": ""https://api.github.com/repos/Fantomas42/django-blog-zinnia/labels/Admin"", ""color"": ""2af786"", ""node_id"": ""MDU6TGFiZWw1MDA2OQ=="", ""id"": 50069}, {""default"": false, ""name"": ""ICC"", ""url"": ""https://api.github.com/repos/Fantomas42/django-blog-zinnia/labels/ICC"", ""color"": ""fffeb8"", ""node_id"": ""MDU6TGFiZWwzOTY1OQ=="", ""id"": 39659}]",FieldError: Cannot resolve keyword 'entry' into field. ,"The blog is running all good but when I change debug to False I'm getting this error when I try to view all posts(on admin).

 File ""/home/kleverson/webapps/bcec/lib/python2.6/django/db/models/sql/query.py"", line 1026, in add_filter
   negate=negate, process_extras=process_extras)

 File ""/home/kleverson/webapps/bcec/lib/python2.6/django/db/models/sql/query.py"", line 1191, in setup_joins
   ""Choices are: %s"" % (name, "", "".join(names)))

FieldError: Cannot resolve keyword 'entry' into field. Choices are: comment, domain, id, name

Any ideas? I'm lost on this one.
"
16106,Tivix,django-rest-auth,3,closed,297,7,https://api.github.com/repos/Tivix/django-rest-auth/issues/297/comments,https://github.com/Tivix/django-rest-auth/issues/297,[],password reset field error,"Hi,

When I send a password reset request to the backend, I get the following error:

FieldError at /rest-auth/password/reset/
Cannot resolve keyword 'is_active' into field. Choices are: auth_token, created_at, email, emailaddress, first_name, id, is_admin, last_login, last_name, logentry, password, purchaseorder, salesorder, tagline, updated_at, username

any hint how to resolve this issue is highly appreciated.

Thanks,
Mohamad"
685,taigaio,taiga-back,4,closed,915,3,https://api.github.com/repos/taigaio/taiga-back/issues/915/comments,https://github.com/taigaio/taiga-back/issues/915,[],Unable to add members to project,"Hello

I'ld like to add some members in a project, on our test taiga just installed yesterday. When I clic on the ""Create"" button there's no visible reaction. 
Looking at my firefox 50.0 dev tools, got a `ConnectionRefusedError at /api/v1/memberships/bulk_create`.
Everything else seems to work. Same issue with default admin / 123123 or another user.

Server's a Ubuntu 16.04.1 LTS
taiga-back is commit fd61756a2ba6fdf80749ea0cb06f51e3ec0ee5e4
taiga-front-dist is commit 195526d6d3f9e8bee50ebffc0471629b4249c7b4
taiga-events is commit f5864ef78e9af7962971339be32aae98aef41c7b
Using local postgresql 9.5 and circus 0.14.0

Here's the full debug response to bulk create post

```
<!DOCTYPE html>
<html lang=""en"">
<head>
  <meta http-equiv=""content-type"" content=""text/html; charset=utf-8"">
  <meta name=""robots"" content=""NONE,NOARCHIVE"">
  <title>ConnectionRefusedError at /api/v1/memberships/bulk_create</title>
  <style type=""text/css"">
    html * { padding:0; margin:0; }
    body * { padding:10px 20px; }
    body * * { padding:0; }
    body { font:small sans-serif; }
    body>div { border-bottom:1px solid #ddd; }
    h1 { font-weight:normal; }
    h2 { margin-bottom:.8em; }
    h2 span { font-size:80%; color:#666; font-weight:normal; }
    h3 { margin:1em 0 .5em 0; }
    h4 { margin:0 0 .5em 0; font-weight: normal; }
    code, pre { font-size: 100%; white-space: pre-wrap; }
    table { border:1px solid #ccc; border-collapse: collapse; width:100%; background:white; }
    tbody td, tbody th { vertical-align:top; padding:2px 3px; }
    thead th {
      padding:1px 6px 1px 3px; background:#fefefe; text-align:left;
      font-weight:normal; font-size:11px; border:1px solid #ddd;
    }
    tbody th { width:12em; text-align:right; color:#666; padding-right:.5em; }
    table.vars { margin:5px 0 2px 40px; }
    table.vars td, table.req td { font-family:monospace; }
    table td.code { width:100%; }
    table td.code pre { overflow:hidden; }
    table.source th { color:#666; }
    table.source td { font-family:monospace; white-space:pre; border-bottom:1px solid #eee; }
    ul.traceback { list-style-type:none; color: #222; }
    ul.traceback li.frame { padding-bottom:1em; color:#666; }
    ul.traceback li.user { background-color:#e0e0e0; color:#000 }
    div.context { padding:10px 0; overflow:hidden; }
    div.context ol { padding-left:30px; margin:0 10px; list-style-position: inside; }
    div.context ol li { font-family:monospace; white-space:pre; color:#777; cursor:pointer; padding-left: 2px; }
    div.context ol li pre { display:inline; }
    div.context ol.context-line li { color:#505050; background-color:#dfdfdf; padding: 3px 2px; }
    div.context ol.context-line li span { position:absolute; right:32px; }
    .user div.context ol.context-line li { background-color:#bbb; color:#000; }
    .user div.context ol li { color:#666; }
    div.commands { margin-left: 40px; }
    div.commands a { color:#555; text-decoration:none; }
    .user div.commands a { color: black; }
    #summary { background: #ffc; }
    #summary h2 { font-weight: normal; color: #666; }
    #explanation { background:#eee; }
    #template, #template-not-exist { background:#f6f6f6; }
    #template-not-exist ul { margin: 0 0 10px 20px; }
    #template-not-exist .postmortem-section { margin-bottom: 3px; }
    #unicode-hint { background:#eee; }
    #traceback { background:#eee; }
    #requestinfo { background:#f6f6f6; padding-left:120px; }
    #summary table { border:none; background:transparent; }
    #requestinfo h2, #requestinfo h3 { position:relative; margin-left:-100px; }
    #requestinfo h3 { margin-bottom:-1em; }
    .error { background: #ffc; }
    .specific { color:#cc3300; font-weight:bold; }
    h2 span.commands { font-size:.7em;}
    span.commands a:link {color:#5E5694;}
    pre.exception_value { font-family: sans-serif; color: #666; font-size: 1.5em; margin: 10px 0 10px 0; }
    .append-bottom { margin-bottom: 10px; }
  </style>
  
  <script type=""text/javascript"">
  //<!--
    function getElementsByClassName(oElm, strTagName, strClassName){
        // Written by Jonathan Snook, http://www.snook.ca/jon; Add-ons by Robert Nyman, http://www.robertnyman.com
        var arrElements = (strTagName == ""*"" && document.all)? document.all :
        oElm.getElementsByTagName(strTagName);
        var arrReturnElements = new Array();
        strClassName = strClassName.replace(/\-/g, ""\-"");
        var oRegExp = new RegExp(""(^|\s)"" + strClassName + ""(\s|$)"");
        var oElement;
        for(var i=0; i<arrElements.length; i++){
            oElement = arrElements[i];
            if(oRegExp.test(oElement.className)){
                arrReturnElements.push(oElement);
            }
        }
        return (arrReturnElements)
    }
    function hideAll(elems) {
      for (var e = 0; e < elems.length; e++) {
        elems[e].style.display = 'none';
      }
    }
    window.onload = function() {
      hideAll(getElementsByClassName(document, 'table', 'vars'));
      hideAll(getElementsByClassName(document, 'ol', 'pre-context'));
      hideAll(getElementsByClassName(document, 'ol', 'post-context'));
      hideAll(getElementsByClassName(document, 'div', 'pastebin'));
    }
    function toggle() {
      for (var i = 0; i < arguments.length; i++) {
        var e = document.getElementById(arguments[i]);
        if (e) {
          e.style.display = e.style.display == 'none' ? 'block': 'none';
        }
      }
      return false;
    }
    function varToggle(link, id) {
      toggle('v' + id);
      var s = link.getElementsByTagName('span')[0];
      var uarr = String.fromCharCode(0x25b6);
      var darr = String.fromCharCode(0x25bc);
      s.innerHTML = s.innerHTML == uarr ? darr : uarr;
      return false;
    }
    function switchPastebinFriendly(link) {
      s1 = ""Switch to copy-and-paste view"";
      s2 = ""Switch back to interactive view"";
      link.innerHTML = link.innerHTML.trim() == s1 ? s2: s1;
      toggle('browserTraceback', 'pastebinTraceback');
      return false;
    }
    //-->
  </script>
  
</head>
<body>
<div id=""summary"">
  <h1>ConnectionRefusedError at /api/v1/memberships/bulk_create</h1>
  <pre class=""exception_value"">[Errno 111] Connection refused</pre>
  <table class=""meta"">

    <tr>
      <th>Request Method:</th>
      <td>POST</td>
    </tr>
    <tr>
      <th>Request URL:</th>
      <td>http://qualif.taiga.adventiel.com/api/v1/memberships/bulk_create</td>
    </tr>

    <tr>
      <th>Django Version:</th>
      <td>1.9.2</td>
    </tr>

    <tr>
      <th>Exception Type:</th>
      <td>ConnectionRefusedError</td>
    </tr>


    <tr>
      <th>Exception Value:</th>
      <td><pre>[Errno 111] Connection refused</pre></td>
    </tr>


    <tr>
      <th>Exception Location:</th>
      <td>/usr/lib/python3.5/socket.py in create_connection, line 702</td>
    </tr>

    <tr>
      <th>Python Executable:</th>
      <td>/home/taiga/.virtualenvs/taiga/bin/python3.5</td>
    </tr>
    <tr>
      <th>Python Version:</th>
      <td>3.5.2</td>
    </tr>
    <tr>
      <th>Python Path:</th>
      <td><pre>[&#39;/home/taiga/taiga-back&#39;,
 &#39;/home/taiga/taiga-back&#39;,
 &#39;/home/taiga/.virtualenvs/taiga/bin&#39;,
 &#39;/usr/lib64/python3.5/site-packages&#39;,
 &#39;/home/taiga/.virtualenvs/taiga/lib/python35.zip&#39;,
 &#39;/home/taiga/.virtualenvs/taiga/lib/python3.5&#39;,
 &#39;/home/taiga/.virtualenvs/taiga/lib/python3.5/plat-x86_64-linux-gnu&#39;,
 &#39;/home/taiga/.virtualenvs/taiga/lib/python3.5/lib-dynload&#39;,
 &#39;/usr/lib/python3.5&#39;,
 &#39;/usr/lib/python3.5/plat-x86_64-linux-gnu&#39;,
 &#39;/home/taiga/.virtualenvs/taiga/lib/python3.5/site-packages&#39;,
 &#39;/home/taiga/taiga-back&#39;]</pre></td>
    </tr>
    <tr>
      <th>Server time:</th>
      <td>mer, 11 Jan 2017 09:23:01 +0000</td>
    </tr>
  </table>
</div>




<div id=""traceback"">
  <h2>Traceback <span class=""commands""><a href=""#"" onclick=""return switchPastebinFriendly(this);"">
    Switch to copy-and-paste view</a></span>
  </h2>
  
  <div id=""browserTraceback"">
    <ul class=""traceback"">
      
        
        <li class=""frame django"">
          <code>/home/taiga/.virtualenvs/taiga/lib/python3.5/site-packages/django/core/handlers/base.py</code> in <code>get_response</code>

          
            <div class=""context"" id=""c140285358473096"">
              
                <ol start=""142"" class=""pre-context"" id=""pre140285358473096"">
                
                  <li onclick=""toggle('pre140285358473096', 'post140285358473096')""><pre>                        break</pre></li>
                
                  <li onclick=""toggle('pre140285358473096', 'post140285358473096')""><pre></pre></li>
                
                  <li onclick=""toggle('pre140285358473096', 'post140285358473096')""><pre>            if response is None:</pre></li>
                
                  <li onclick=""toggle('pre140285358473096', 'post140285358473096')""><pre>                wrapped_callback = self.make_view_atomic(callback)</pre></li>
                
                  <li onclick=""toggle('pre140285358473096', 'post140285358473096')""><pre>                try:</pre></li>
                
                  <li onclick=""toggle('pre140285358473096', 'post140285358473096')""><pre>                    response = wrapped_callback(request, *callback_args, **callback_kwargs)</pre></li>
                
                  <li onclick=""toggle('pre140285358473096', 'post140285358473096')""><pre>                except Exception as e:</pre></li>
                
                </ol>
              
              <ol start=""149"" class=""context-line"">
                <li onclick=""toggle('pre140285358473096', 'post140285358473096')""><pre>
                    response = self.process_exception_by_middleware(e, request)</pre> <span>...</span></li></ol>
              
                <ol start='150' class=""post-context"" id=""post140285358473096"">
                  
                  <li onclick=""toggle('pre140285358473096', 'post140285358473096')""><pre></pre></li>
                  
                  <li onclick=""toggle('pre140285358473096', 'post140285358473096')""><pre>            # Complain if the view returned None (a common error).</pre></li>
                  
                  <li onclick=""toggle('pre140285358473096', 'post140285358473096')""><pre>            if response is None:</pre></li>
                  
                  <li onclick=""toggle('pre140285358473096', 'post140285358473096')""><pre>                if isinstance(callback, types.FunctionType):    # FBV</pre></li>
                  
                  <li onclick=""toggle('pre140285358473096', 'post140285358473096')""><pre>                    view_name = callback.__name__</pre></li>
                  
                  <li onclick=""toggle('pre140285358473096', 'post140285358473096')""><pre>                else:                                           # CBV</pre></li>
                  
              </ol>
              
            </div>
          

          
            <div class=""commands"">
                
                    <a href=""#"" onclick=""return varToggle(this, '140285358473096')""><span>&#x25b6;</span> Local vars</a>
                
            </div>
            <table class=""vars"" id=""v140285358473096"">
              <thead>
                <tr>
                  <th>Variable</th>
                  <th>Value</th>
                </tr>
              </thead>
              <tbody>
                
                  <tr>
                    <td>resolver_match</td>
                    <td class=""code""><pre>ResolverMatch(func=taiga.projects.api.MembershipViewSet, args=(), kwargs={}, url_name=memberships-bulk-create, app_names=[], namespaces=[])</pre></td>
                  </tr>
                
                  <tr>
                    <td>callback_args</td>
                    <td class=""code""><pre>()</pre></td>
                  </tr>
                
                  <tr>
                    <td>callback</td>
                    <td class=""code""><pre>&lt;function MembershipViewSet at 0x7f96bbb55158&gt;</pre></td>
                  </tr>
                
                  <tr>
                    <td>middleware_method</td>
                    <td class=""code""><pre>&lt;bound method MessageMiddleware.process_request of &lt;django.contrib.messages.middleware.MessageMiddleware object at 0x7f96bba62128&gt;&gt;</pre></td>
                  </tr>
                
                  <tr>
                    <td>response</td>
                    <td class=""code""><pre>None</pre></td>
                  </tr>
                
                  <tr>
                    <td>urlconf</td>
                    <td class=""code""><pre>&#39;taiga.urls&#39;</pre></td>
                  </tr>
                
                  <tr>
                    <td>self</td>
                    <td class=""code""><pre>&lt;django.core.handlers.wsgi.WSGIHandler object at 0x7f96bba56588&gt;</pre></td>
                  </tr>
                
                  <tr>
                    <td>resolver</td>
                    <td class=""code""><pre>&lt;RegexURLResolver &#39;taiga.urls&#39; (None:None) ^/&gt;</pre></td>
                  </tr>
                
                  <tr>
                    <td>response_is_rendered</td>
                    <td class=""code""><pre>False</pre></td>
                  </tr>
                
                  <tr>
                    <td>request</td>
                    <td class=""code""><pre>&lt;WSGIRequest: POST &#39;/api/v1/memberships/bulk_create&#39;&gt;</pre></td>
                  </tr>
                
                  <tr>
                    <td>callback_kwargs</td>
                    <td class=""code""><pre>{}</pre></td>
                  </tr>
                
                  <tr>
                    <td>wrapped_callback</td>
                    <td class=""code""><pre>&lt;function MembershipViewSet at 0x7f96bbb55158&gt;</pre></td>
                  </tr>
                
              </tbody>
            </table>
          
        </li>
      
        
        <li class=""frame django"">
          <code>/home/taiga/.virtualenvs/taiga/lib/python3.5/site-packages/django/core/handlers/base.py</code> in <code>get_response</code>

          
            <div class=""context"" id=""c140285358472136"">
              
                <ol start=""140"" class=""pre-context"" id=""pre140285358472136"">
                
                  <li onclick=""toggle('pre140285358472136', 'post140285358472136')""><pre>                    response = middleware_method(request, callback, callback_args, callback_kwargs)</pre></li>
                
                  <li onclick=""toggle('pre140285358472136', 'post140285358472136')""><pre>                    if response:</pre></li>
                
                  <li onclick=""toggle('pre140285358472136', 'post140285358472136')""><pre>                        break</pre></li>
                
                  <li onclick=""toggle('pre140285358472136', 'post140285358472136')""><pre></pre></li>
                
                  <li onclick=""toggle('pre140285358472136', 'post140285358472136')""><pre>            if response is None:</pre></li>
                
                  <li onclick=""toggle('pre140285358472136', 'post140285358472136')""><pre>                wrapped_callback = self.make_view_atomic(callback)</pre></li>
                
                  <li onclick=""toggle('pre140285358472136', 'post140285358472136')""><pre>                try:</pre></li>
                
                </ol>
              
              <ol start=""147"" class=""context-line"">
                <li onclick=""toggle('pre140285358472136', 'post140285358472136')""><pre>
                    response = wrapped_callback(request, *callback_args, **callback_kwargs)</pre> <span>...</span></li></ol>
              
                <ol start='148' class=""post-context"" id=""post140285358472136"">
                  
                  <li onclick=""toggle('pre140285358472136', 'post140285358472136')""><pre>                except Exception as e:</pre></li>
                  
                  <li onclick=""toggle('pre140285358472136', 'post140285358472136')""><pre>                    response = self.process_exception_by_middleware(e, request)</pre></li>
                  
                  <li onclick=""toggle('pre140285358472136', 'post140285358472136')""><pre></pre></li>
                  
                  <li onclick=""toggle('pre140285358472136', 'post140285358472136')""><pre>            # Complain if the view returned None (a common error).</pre></li>
                  
                  <li onclick=""toggle('pre140285358472136', 'post140285358472136')""><pre>            if response is None:</pre></li>
                  
                  <li onclick=""toggle('pre140285358472136', 'post140285358472136')""><pre>                if isinstance(callback, types.FunctionType):    # FBV</pre></li>
                  
              </ol>
              
            </div>
          

          
            <div class=""commands"">
                
                    <a href=""#"" onclick=""return varToggle(this, '140285358472136')""><span>&#x25b6;</span> Local vars</a>
                
            </div>
            <table class=""vars"" id=""v140285358472136"">
              <thead>
                <tr>
                  <th>Variable</th>
                  <th>Value</th>
                </tr>
              </thead>
              <tbody>
                
                  <tr>
                    <td>resolver_match</td>
                    <td class=""code""><pre>ResolverMatch(func=taiga.projects.api.MembershipViewSet, args=(), kwargs={}, url_name=memberships-bulk-create, app_names=[], namespaces=[])</pre></td>
                  </tr>
                
                  <tr>
                    <td>callback_args</td>
                    <td class=""code""><pre>()</pre></td>
                  </tr>
                
                  <tr>
                    <td>callback</td>
                    <td class=""code""><pre>&lt;function MembershipViewSet at 0x7f96bbb55158&gt;</pre></td>
                  </tr>
                
                  <tr>
                    <td>middleware_method</td>
                    <td class=""code""><pre>&lt;bound method MessageMiddleware.process_request of &lt;django.contrib.messages.middleware.MessageMiddleware object at 0x7f96bba62128&gt;&gt;</pre></td>
                  </tr>
                
                  <tr>
                    <td>response</td>
                    <td class=""code""><pre>None</pre></td>
                  </tr>
                
                  <tr>
                    <td>urlconf</td>
                    <td class=""code""><pre>&#39;taiga.urls&#39;</pre></td>
                  </tr>
                
                  <tr>
                    <td>self</td>
                    <td class=""code""><pre>&lt;django.core.handlers.wsgi.WSGIHandler object at 0x7f96bba56588&gt;</pre></td>
                  </tr>
                
                  <tr>
                    <td>resolver</td>
                    <td class=""code""><pre>&lt;RegexURLResolver &#39;taiga.urls&#39; (None:None) ^/&gt;</pre></td>
                  </tr>
                
                  <tr>
                    <td>response_is_rendered</td>
                    <td class=""code""><pre>False</pre></td>
                  </tr>
                
                  <tr>
                    <td>request</td>
                    <td class=""code""><pre>&lt;WSGIRequest: POST &#39;/api/v1/memberships/bulk_create&#39;&gt;</pre></td>
                  </tr>
                
                  <tr>
                    <td>callback_kwargs</td>
                    <td class=""code""><pre>{}</pre></td>
                  </tr>
                
                  <tr>
                    <td>wrapped_callback</td>
                    <td class=""code""><pre>&lt;function MembershipViewSet at 0x7f96bbb55158&gt;</pre></td>
                  </tr>
                
              </tbody>
            </table>
          
        </li>
      
        
        <li class=""frame user"">
          <code>/home/taiga/taiga-back/taiga/base/api/viewsets.py</code> in <code>view</code>

          
            <div class=""context"" id=""c140285358471944"">
              
                <ol start=""99"" class=""pre-context"" id=""pre140285358471944"">
                
                  <li onclick=""toggle('pre140285358471944', 'post140285358471944')""><pre>                setattr(self, method, handler)</pre></li>
                
                  <li onclick=""toggle('pre140285358471944', 'post140285358471944')""><pre></pre></li>
                
                  <li onclick=""toggle('pre140285358471944', 'post140285358471944')""><pre>            # Patch this in as it&#39;s otherwise only present from 1.5 onwards</pre></li>
                
                  <li onclick=""toggle('pre140285358471944', 'post140285358471944')""><pre>            if hasattr(self, &#39;get&#39;) and not hasattr(self, &#39;head&#39;):</pre></li>
                
                  <li onclick=""toggle('pre140285358471944', 'post140285358471944')""><pre>                self.head = self.get</pre></li>
                
                  <li onclick=""toggle('pre140285358471944', 'post140285358471944')""><pre></pre></li>
                
                  <li onclick=""toggle('pre140285358471944', 'post140285358471944')""><pre>            # And continue as usual</pre></li>
                
                </ol>
              
              <ol start=""106"" class=""context-line"">
                <li onclick=""toggle('pre140285358471944', 'post140285358471944')""><pre>
            return self.dispatch(request, *args, **kwargs)</pre> <span>...</span></li></ol>
              
                <ol start='107' class=""post-context"" id=""post140285358471944"">
                  
                  <li onclick=""toggle('pre140285358471944', 'post140285358471944')""><pre></pre></li>
                  
                  <li onclick=""toggle('pre140285358471944', 'post140285358471944')""><pre>        # take name and docstring from class</pre></li>
                  
                  <li onclick=""toggle('pre140285358471944', 'post140285358471944')""><pre>        update_wrapper(view, cls, updated=())</pre></li>
                  
                  <li onclick=""toggle('pre140285358471944', 'post140285358471944')""><pre></pre></li>
                  
                  <li onclick=""toggle('pre140285358471944', 'post140285358471944')""><pre>        # and possible attributes set by decorators</pre></li>
                  
                  <li onclick=""toggle('pre140285358471944', 'post140285358471944')""><pre>        # like csrf_exempt from dispatch</pre></li>
                  
              </ol>
              
            </div>
          

          
            <div class=""commands"">
                
                    <a href=""#"" onclick=""return varToggle(this, '140285358471944')""><span>&#x25b6;</span> Local vars</a>
                
            </div>
            <table class=""vars"" id=""v140285358471944"">
              <thead>
                <tr>
                  <th>Variable</th>
                  <th>Value</th>
                </tr>
              </thead>
              <tbody>
                
                  <tr>
                    <td>request</td>
                    <td class=""code""><pre>&lt;WSGIRequest: POST &#39;/api/v1/memberships/bulk_create&#39;&gt;</pre></td>
                  </tr>
                
                  <tr>
                    <td>initkwargs</td>
                    <td class=""code""><pre>{}</pre></td>
                  </tr>
                
                  <tr>
                    <td>args</td>
                    <td class=""code""><pre>()</pre></td>
                  </tr>
                
                  <tr>
                    <td>cls</td>
                    <td class=""code""><pre>&lt;class &#39;taiga.projects.api.MembershipViewSet&#39;&gt;</pre></td>
                  </tr>
                
                  <tr>
                    <td>handler</td>
                    <td class=""code""><pre>&lt;bound method MembershipViewSet.bulk_create of &lt;taiga.projects.api.MembershipViewSet object at 0x7f96bb0575c0&gt;&gt;</pre></td>
                  </tr>
                
                  <tr>
                    <td>method</td>
                    <td class=""code""><pre>&#39;post&#39;</pre></td>
                  </tr>
                
                  <tr>
                    <td>actions</td>
                    <td class=""code""><pre>{&#39;post&#39;: &#39;bulk_create&#39;}</pre></td>
                  </tr>
                
                  <tr>
                    <td>self</td>
                    <td class=""code""><pre>&lt;taiga.projects.api.MembershipViewSet object at 0x7f96bb0575c0&gt;</pre></td>
                  </tr>
                
                  <tr>
                    <td>action</td>
                    <td class=""code""><pre>&#39;bulk_create&#39;</pre></td>
                  </tr>
                
                  <tr>
                    <td>kwargs</td>
                    <td class=""code""><pre>{}</pre></td>
                  </tr>
                
              </tbody>
            </table>
          
        </li>
      
        
        <li class=""frame django"">
          <code>/home/taiga/.virtualenvs/taiga/lib/python3.5/site-packages/django/views/decorators/csrf.py</code> in <code>wrapped_view</code>

          
            <div class=""context"" id=""c140285358846408"">
              
                <ol start=""51"" class=""pre-context"" id=""pre140285358846408"">
                
                  <li onclick=""toggle('pre140285358846408', 'post140285358846408')""><pre>    &quot;&quot;&quot;</pre></li>
                
                  <li onclick=""toggle('pre140285358846408', 'post140285358846408')""><pre>    Marks a view function as being exempt from the CSRF view protection.</pre></li>
                
                  <li onclick=""toggle('pre140285358846408', 'post140285358846408')""><pre>    &quot;&quot;&quot;</pre></li>
                
                  <li onclick=""toggle('pre140285358846408', 'post140285358846408')""><pre>    # We could just do view_func.csrf_exempt = True, but decorators</pre></li>
                
                  <li onclick=""toggle('pre140285358846408', 'post140285358846408')""><pre>    # are nicer if they don&#39;t have side-effects, so we return a new</pre></li>
                
                  <li onclick=""toggle('pre140285358846408', 'post140285358846408')""><pre>    # function.</pre></li>
                
                  <li onclick=""toggle('pre140285358846408', 'post140285358846408')""><pre>    def wrapped_view(*args, **kwargs):</pre></li>
                
                </ol>
              
              <ol start=""58"" class=""context-line"">
                <li onclick=""toggle('pre140285358846408', 'post140285358846408')""><pre>
        return view_func(*args, **kwargs)</pre> <span>...</span></li></ol>
              
                <ol start='59' class=""post-context"" id=""post140285358846408"">
                  
                  <li onclick=""toggle('pre140285358846408', 'post140285358846408')""><pre>    wrapped_view.csrf_exempt = True</pre></li>
                  
                  <li onclick=""toggle('pre140285358846408', 'post140285358846408')""><pre>    return wraps(view_func, assigned=available_attrs(view_func))(wrapped_view)</pre></li>
                  
              </ol>
              
            </div>
          

          
            <div class=""commands"">
                
                    <a href=""#"" onclick=""return varToggle(this, '140285358846408')""><span>&#x25b6;</span> Local vars</a>
                
            </div>
            <table class=""vars"" id=""v140285358846408"">
              <thead>
                <tr>
                  <th>Variable</th>
                  <th>Value</th>
                </tr>
              </thead>
              <tbody>
                
                  <tr>
                    <td>view_func</td>
                    <td class=""code""><pre>&lt;function APIView.dispatch at 0x7f96c53bf2f0&gt;</pre></td>
                  </tr>
                
                  <tr>
                    <td>args</td>
                    <td class=""code""><pre>(&lt;taiga.projects.api.MembershipViewSet object at 0x7f96bb0575c0&gt;,
 &lt;WSGIRequest: POST &#39;/api/v1/memberships/bulk_create&#39;&gt;)</pre></td>
                  </tr>
                
                  <tr>
                    <td>kwargs</td>
                    <td class=""code""><pre>{}</pre></td>
                  </tr>
                
              </tbody>
            </table>
          
        </li>
      
        
        <li class=""frame user"">
          <code>/home/taiga/taiga-back/taiga/base/api/views.py</code> in <code>dispatch</code>

          
            <div class=""context"" id=""c140285360361032"">
              
                <ol start=""439"" class=""pre-context"" id=""pre140285360361032"">
                
                  <li onclick=""toggle('pre140285360361032', 'post140285360361032')""><pre>                                  self.http_method_not_allowed)</pre></li>
                
                  <li onclick=""toggle('pre140285360361032', 'post140285360361032')""><pre>            else:</pre></li>
                
                  <li onclick=""toggle('pre140285360361032', 'post140285360361032')""><pre>                handler = self.http_method_not_allowed</pre></li>
                
                  <li onclick=""toggle('pre140285360361032', 'post140285360361032')""><pre></pre></li>
                
                  <li onclick=""toggle('pre140285360361032', 'post140285360361032')""><pre>            response = handler(request, *args, **kwargs)</pre></li>
                
                  <li onclick=""toggle('pre140285360361032', 'post140285360361032')""><pre></pre></li>
                
                  <li onclick=""toggle('pre140285360361032', 'post140285360361032')""><pre>        except Exception as exc:</pre></li>
                
                </ol>
              
              <ol start=""446"" class=""context-line"">
                <li onclick=""toggle('pre140285360361032', 'post140285360361032')""><pre>
            response = self.handle_exception(exc)</pre> <span>...</span></li></ol>
              
                <ol start='447' class=""post-context"" id=""post140285360361032"">
                  
                  <li onclick=""toggle('pre140285360361032', 'post140285360361032')""><pre></pre></li>
                  
                  <li onclick=""toggle('pre140285360361032', 'post140285360361032')""><pre>        self.response = self.finalize_response(request, response, *args, **kwargs)</pre></li>
                  
                  <li onclick=""toggle('pre140285360361032', 'post140285360361032')""><pre>        return self.response</pre></li>
                  
                  <li onclick=""toggle('pre140285360361032', 'post140285360361032')""><pre></pre></li>
                  
                  <li onclick=""toggle('pre140285360361032', 'post140285360361032')""><pre>    def options(self, request, *args, **kwargs):</pre></li>
                  
                  <li onclick=""toggle('pre140285360361032', 'post140285360361032')""><pre>        &quot;&quot;&quot;</pre></li>
                  
              </ol>
              
            </div>
          

          
            <div class=""commands"">
                
                    <a href=""#"" onclick=""return varToggle(this, '140285360361032')""><span>&#x25b6;</span> Local vars</a>
                
            </div>
            <table class=""vars"" id=""v140285360361032"">
              <thead>
                <tr>
                  <th>Variable</th>
                  <th>Value</th>
                </tr>
              </thead>
              <tbody>
                
                  <tr>
                    <td>handler</td>
                    <td class=""code""><pre>&lt;bound method MembershipViewSet.bulk_create of &lt;taiga.projects.api.MembershipViewSet object at 0x7f96bb0575c0&gt;&gt;</pre></td>
                  </tr>
                
                  <tr>
                    <td>request</td>
                    <td class=""code""><pre>&lt;taiga.base.api.request.Request object at 0x7f96bb0575f8&gt;</pre></td>
                  </tr>
                
                  <tr>
                    <td>args</td>
                    <td class=""code""><pre>()</pre></td>
                  </tr>
                
                  <tr>
                    <td>self</td>
                    <td class=""code""><pre>&lt;taiga.projects.api.MembershipViewSet object at 0x7f96bb0575c0&gt;</pre></td>
                  </tr>
                
                  <tr>
                    <td>kwargs</td>
                    <td class=""code""><pre>{}</pre></td>
                  </tr>
                
              </tbody>
            </table>
          
        </li>
      
        
        <li class=""frame user"">
          <code>/home/taiga/taiga-back/taiga/base/api/views.py</code> in <code>dispatch</code>

          
            <div class=""context"" id=""c140285360235272"">
              
                <ol start=""436"" class=""pre-context"" id=""pre140285360235272"">
                
                  <li onclick=""toggle('pre140285360235272', 'post140285360235272')""><pre>            # Get the appropriate handler method</pre></li>
                
                  <li onclick=""toggle('pre140285360235272', 'post140285360235272')""><pre>            if request.method.lower() in self.http_method_names:</pre></li>
                
                  <li onclick=""toggle('pre140285360235272', 'post140285360235272')""><pre>                handler = getattr(self, request.method.lower(),</pre></li>
                
                  <li onclick=""toggle('pre140285360235272', 'post140285360235272')""><pre>                                  self.http_method_not_allowed)</pre></li>
                
                  <li onclick=""toggle('pre140285360235272', 'post140285360235272')""><pre>            else:</pre></li>
                
                  <li onclick=""toggle('pre140285360235272', 'post140285360235272')""><pre>                handler = self.http_method_not_allowed</pre></li>
                
                  <li onclick=""toggle('pre140285360235272', 'post140285360235272')""><pre></pre></li>
                
                </ol>
              
              <ol start=""443"" class=""context-line"">
                <li onclick=""toggle('pre140285360235272', 'post140285360235272')""><pre>
            response = handler(request, *args, **kwargs)</pre> <span>...</span></li></ol>
              
                <ol start='444' class=""post-context"" id=""post140285360235272"">
                  
                  <li onclick=""toggle('pre140285360235272', 'post140285360235272')""><pre></pre></li>
                  
                  <li onclick=""toggle('pre140285360235272', 'post140285360235272')""><pre>        except Exception as exc:</pre></li>
                  
                  <li onclick=""toggle('pre140285360235272', 'post140285360235272')""><pre>            response = self.handle_exception(exc)</pre></li>
                  
                  <li onclick=""toggle('pre140285360235272', 'post140285360235272')""><pre></pre></li>
                  
                  <li onclick=""toggle('pre140285360235272', 'post140285360235272')""><pre>        self.response = self.finalize_response(request, response, *args, **kwargs)</pre></li>
                  
                  <li onclick=""toggle('pre140285360235272', 'post140285360235272')""><pre>        return self.response</pre></li>
                  
              </ol>
              
            </div>
          

          
            <div class=""commands"">
                
                    <a href=""#"" onclick=""return varToggle(this, '140285360235272')""><span>&#x25b6;</span> Local vars</a>
                
            </div>
            <table class=""vars"" id=""v140285360235272"">
              <thead>
                <tr>
                  <th>Variable</th>
                  <th>Value</th>
                </tr>
              </thead>
              <tbody>
                
                  <tr>
                    <td>handler</td>
                    <td class=""code""><pre>&lt;bound method MembershipViewSet.bulk_create of &lt;taiga.projects.api.MembershipViewSet object at 0x7f96bb0575c0&gt;&gt;</pre></td>
                  </tr>
                
                  <tr>
                    <td>request</td>
                    <td class=""code""><pre>&lt;taiga.base.api.request.Request object at 0x7f96bb0575f8&gt;</pre></td>
                  </tr>
                
                  <tr>
                    <td>args</td>
                    <td class=""code""><pre>()</pre></td>
                  </tr>
                
                  <tr>
                    <td>self</td>
                    <td class=""code""><pre>&lt;taiga.projects.api.MembershipViewSet object at 0x7f96bb0575c0&gt;</pre></td>
                  </tr>
                
                  <tr>
                    <td>kwargs</td>
                    <td class=""code""><pre>{}</pre></td>
                  </tr>
                
              </tbody>
            </table>
          
        </li>
      
        
        <li class=""frame user"">
          <code>/home/taiga/taiga-back/taiga/projects/api.py</code> in <code>bulk_create</code>

          
            <div class=""context"" id=""c140285360236936"">
              
                <ol start=""719"" class=""pre-context"" id=""pre140285360236936"">
                
                  <li onclick=""toggle('pre140285360236936', 'post140285360236936')""><pre></pre></li>
                
                  <li onclick=""toggle('pre140285360236936', 'post140285360236936')""><pre>        try:</pre></li>
                
                  <li onclick=""toggle('pre140285360236936', 'post140285360236936')""><pre>            with advisory_lock(&quot;membership-creation-{}&quot;.format(project.id)):</pre></li>
                
                  <li onclick=""toggle('pre140285360236936', 'post140285360236936')""><pre>                members = services.create_members_in_bulk(data[&quot;bulk_memberships&quot;],</pre></li>
                
                  <li onclick=""toggle('pre140285360236936', 'post140285360236936')""><pre>                                                          project=project,</pre></li>
                
                  <li onclick=""toggle('pre140285360236936', 'post140285360236936')""><pre>                                                          invitation_extra_text=invitation_extra_text,</pre></li>
                
                  <li onclick=""toggle('pre140285360236936', 'post140285360236936')""><pre>                                                          callback=self.post_save,</pre></li>
                
                </ol>
              
              <ol start=""726"" class=""context-line"">
                <li onclick=""toggle('pre140285360236936', 'post140285360236936')""><pre>
                                                          precall=self.pre_save)</pre> <span>...</span></li></ol>
              
                <ol start='727' class=""post-context"" id=""post140285360236936"">
                  
                  <li onclick=""toggle('pre140285360236936', 'post140285360236936')""><pre>        except exc.ValidationError as err:</pre></li>
                  
                  <li onclick=""toggle('pre140285360236936', 'post140285360236936')""><pre>            return response.BadRequest(err.message_dict)</pre></li>
                  
                  <li onclick=""toggle('pre140285360236936', 'post140285360236936')""><pre></pre></li>
                  
                  <li onclick=""toggle('pre140285360236936', 'post140285360236936')""><pre>        members_serialized = self.admin_serializer_class(members, many=True)</pre></li>
                  
                  <li onclick=""toggle('pre140285360236936', 'post140285360236936')""><pre>        return response.Ok(members_serialized.data)</pre></li>
                  
                  <li onclick=""toggle('pre140285360236936', 'post140285360236936')""><pre></pre></li>
                  
              </ol>
              
            </div>
          

          
            <div class=""commands"">
                
                    <a href=""#"" onclick=""return varToggle(this, '140285360236936')""><span>&#x25b6;</span> Local vars</a>
                
            </div>
            <table class=""vars"" id=""v140285360236936"">
              <thead>
                <tr>
                  <th>Variable</th>
                  <th>Value</th>
                </tr>
              </thead>
              <tbody>
                
                  <tr>
                    <td>project</td>
                    <td class=""code""><pre>&lt;Project 2&gt;</pre></td>
                  </tr>
                
                  <tr>
                    <td>request</td>
                    <td class=""code""><pre>&lt;taiga.base.api.request.Request object at 0x7f96bb0575f8&gt;</pre></td>
                  </tr>
                
                  <tr>
                    <td>invitation_extra_text</td>
                    <td class=""code""><pre>None</pre></td>
                  </tr>
                
                  <tr>
                    <td>total_new_memberships</td>
                    <td class=""code""><pre>1</pre></td>
                  </tr>
                
                  <tr>
                    <td>validator</td>
                    <td class=""code""><pre>&lt;taiga.projects.validators.MembersBulkValidator object at 0x7f96bb06bf98&gt;</pre></td>
                  </tr>
                
                  <tr>
                    <td>data</td>
                    <td class=""code""><pre>OrderedDictWithMetadata([(&#39;project_id&#39;, 2),
                         (&#39;bulk_memberships&#39;,
                          [OrderedDictWithMetadata([(&#39;email&#39;,
                                                     &#39;bernard.serandour@adventiel.fr&#39;),
                                                    (&#39;role_id&#39;, 7)])]),
                         (&#39;invitation_extra_text&#39;, None)])</pre></td>
                  </tr>
                
                  <tr>
                    <td>self</td>
                    <td class=""code""><pre>&lt;taiga.projects.api.MembershipViewSet object at 0x7f96bb0575c0&gt;</pre></td>
                  </tr>
                
                  <tr>
                    <td>kwargs</td>
                    <td class=""code""><pre>{}</pre></td>
                  </tr>
                
              </tbody>
            </table>
          
        </li>
      
        
        <li class=""frame user"">
          <code>/home/taiga/taiga-back/taiga/projects/services/members.py</code> in <code>create_members_in_bulk</code>

          
            <div class=""context"" id=""c140285360235784"">
              
                <ol start=""45"" class=""pre-context"" id=""pre140285360235784"">
                
                  <li onclick=""toggle('pre140285360235784', 'post140285360235784')""><pre>    :param bulk_data: List of dicts `{&quot;project_id&quot;: &lt;&gt;, &quot;role_id&quot;: &lt;&gt;, &quot;email&quot;: &lt;&gt;}`.</pre></li>
                
                  <li onclick=""toggle('pre140285360235784', 'post140285360235784')""><pre>    :param callback: Callback to execute after each task save.</pre></li>
                
                  <li onclick=""toggle('pre140285360235784', 'post140285360235784')""><pre>    :param additional_fields: Additional fields when instantiating each task.</pre></li>
                
                  <li onclick=""toggle('pre140285360235784', 'post140285360235784')""><pre></pre></li>
                
                  <li onclick=""toggle('pre140285360235784', 'post140285360235784')""><pre>    :return: List of created `Member` instances.</pre></li>
                
                  <li onclick=""toggle('pre140285360235784', 'post140285360235784')""><pre>    &quot;&quot;&quot;</pre></li>
                
                  <li onclick=""toggle('pre140285360235784', 'post140285360235784')""><pre>    members = get_members_from_bulk(bulk_data, **additional_fields)</pre></li>
                
                </ol>
              
              <ol start=""52"" class=""context-line"">
                <li onclick=""toggle('pre140285360235784', 'post140285360235784')""><pre>
    db.save_in_bulk(members, callback, precall)</pre> <span>...</span></li></ol>
              
                <ol start='53' class=""post-context"" id=""post140285360235784"">
                  
                  <li onclick=""toggle('pre140285360235784', 'post140285360235784')""><pre>    return members</pre></li>
                  
                  <li onclick=""toggle('pre140285360235784', 'post140285360235784')""><pre></pre></li>
                  
                  <li onclick=""toggle('pre140285360235784', 'post140285360235784')""><pre></pre></li>
                  
                  <li onclick=""toggle('pre140285360235784', 'post140285360235784')""><pre>def remove_user_from_project(user, project):</pre></li>
                  
                  <li onclick=""toggle('pre140285360235784', 'post140285360235784')""><pre>    models.Membership.objects.get(project=project, user=user).delete()</pre></li>
                  
                  <li onclick=""toggle('pre140285360235784', 'post140285360235784')""><pre></pre></li>
                  
              </ol>
              
            </div>
          

          
            <div class=""commands"">
                
                    <a href=""#"" onclick=""return varToggle(this, '140285360235784')""><span>&#x25b6;</span> Local vars</a>
                
            </div>
            <table class=""vars"" id=""v140285360235784"">
              <thead>
                <tr>
                  <th>Variable</th>
                  <th>Value</th>
                </tr>
              </thead>
              <tbody>
                
                  <tr>
                    <td>additional_fields</td>
                    <td class=""code""><pre>{&#39;invitation_extra_text&#39;: None, &#39;project&#39;: &lt;Project 2&gt;}</pre></td>
                  </tr>
                
                  <tr>
                    <td>callback</td>
                    <td class=""code""><pre>&lt;bound method MembershipViewSet.post_save of &lt;taiga.projects.api.MembershipViewSet object at 0x7f96bb0575c0&gt;&gt;</pre></td>
                  </tr>
                
                  <tr>
                    <td>precall</td>
                    <td class=""code""><pre>&lt;bound method MembershipViewSet.pre_save of &lt;taiga.projects.api.MembershipViewSet object at 0x7f96bb0575c0&gt;&gt;</pre></td>
                  </tr>
                
                  <tr>
                    <td>members</td>
                    <td class=""code""><pre>[&lt;Membership: Membership object&gt;]</pre></td>
                  </tr>
                
                  <tr>
                    <td>bulk_data</td>
                    <td class=""code""><pre>[OrderedDictWithMetadata([(&#39;email&#39;, &#39;bernard.serandour@adventiel.fr&#39;),
                          (&#39;role_id&#39;, 7)])]</pre></td>
                  </tr>
                
              </tbody>
            </table>
          
        </li>
      
        
        <li class=""frame user"">
          <code>/usr/lib/python3.5/contextlib.py</code> in <code>inner</code>

          
            <div class=""context"" id=""c140285360234952"">
              
                <ol start=""23"" class=""pre-context"" id=""pre140285360234952"">
                
                  <li onclick=""toggle('pre140285360234952', 'post140285360234952')""><pre>        &quot;&quot;&quot;</pre></li>
                
                  <li onclick=""toggle('pre140285360234952', 'post140285360234952')""><pre>        return self</pre></li>
                
                  <li onclick=""toggle('pre140285360234952', 'post140285360234952')""><pre></pre></li>
                
                  <li onclick=""toggle('pre140285360234952', 'post140285360234952')""><pre>    def __call__(self, func):</pre></li>
                
                  <li onclick=""toggle('pre140285360234952', 'post140285360234952')""><pre>        @wraps(func)</pre></li>
                
                  <li onclick=""toggle('pre140285360234952', 'post140285360234952')""><pre>        def inner(*args, **kwds):</pre></li>
                
                  <li onclick=""toggle('pre140285360234952', 'post140285360234952')""><pre>            with self._recreate_cm():</pre></li>
                
                </ol>
              
              <ol start=""30"" class=""context-line"">
                <li onclick=""toggle('pre140285360234952', 'post140285360234952')""><pre>
                return func(*args, **kwds)</pre> <span>...</span></li></ol>
              
                <ol start='31' class=""post-context"" id=""post140285360234952"">
                  
                  <li onclick=""toggle('pre140285360234952', 'post140285360234952')""><pre>        return inner</pre></li>
                  
                  <li onclick=""toggle('pre140285360234952', 'post140285360234952')""><pre></pre></li>
                  
                  <li onclick=""toggle('pre140285360234952', 'post140285360234952')""><pre></pre></li>
                  
                  <li onclick=""toggle('pre140285360234952', 'post140285360234952')""><pre>class _GeneratorContextManager(ContextDecorator):</pre></li>
                  
                  <li onclick=""toggle('pre140285360234952', 'post140285360234952')""><pre>    &quot;&quot;&quot;Helper for @contextmanager decorator.&quot;&quot;&quot;</pre></li>
                  
                  <li onclick=""toggle('pre140285360234952', 'post140285360234952')""><pre></pre></li>
                  
              </ol>
              
            </div>
          

          
            <div class=""commands"">
                
                    <a href=""#"" onclick=""return varToggle(this, '140285360234952')""><span>&#x25b6;</span> Local vars</a>
                
            </div>
            <table class=""vars"" id=""v140285360234952"">
              <thead>
                <tr>
                  <th>Variable</th>
                  <th>Value</th>
                </tr>
              </thead>
              <tbody>
                
                  <tr>
                    <td>func</td>
                    <td class=""code""><pre>&lt;function save_in_bulk at 0x7f96bc6c2a60&gt;</pre></td>
                  </tr>
                
                  <tr>
                    <td>args</td>
                    <td class=""code""><pre>([&lt;Membership: Membership object&gt;],
 &lt;bound method MembershipViewSet.post_save of &lt;taiga.projects.api.MembershipViewSet object at 0x7f96bb0575c0&gt;&gt;,
 &lt;bound method MembershipViewSet.pre_save of &lt;taiga.projects.api.MembershipViewSet object at 0x7f96bb0575c0&gt;&gt;)</pre></td>
                  </tr>
                
                  <tr>
                    <td>self</td>
                    <td class=""code""><pre>&lt;django.db.transaction.Atomic object at 0x7f96bc6bd550&gt;</pre></td>
                  </tr>
                
                  <tr>
                    <td>kwds</td>
                    <td class=""code""><pre>{}</pre></td>
                  </tr>
                
              </tbody>
            </table>
          
        </li>
      
        
        <li class=""frame user"">
          <code>/home/taiga/taiga-back/taiga/base/utils/db.py</code> in <code>save_in_bulk</code>

          
            <div class=""context"" id=""c140285360237064"">
              
                <ol start=""92"" class=""pre-context"" id=""pre140285360237064"">
                
                  <li onclick=""toggle('pre140285360237064', 'post140285360237064')""><pre>    for instance in instances:</pre></li>
                
                  <li onclick=""toggle('pre140285360237064', 'post140285360237064')""><pre>        created = False</pre></li>
                
                  <li onclick=""toggle('pre140285360237064', 'post140285360237064')""><pre>        if instance.pk is None:</pre></li>
                
                  <li onclick=""toggle('pre140285360237064', 'post140285360237064')""><pre>            created = True</pre></li>
                
                  <li onclick=""toggle('pre140285360237064', 'post140285360237064')""><pre></pre></li>
                
                  <li onclick=""toggle('pre140285360237064', 'post140285360237064')""><pre>        precall(instance)</pre></li>
                
                  <li onclick=""toggle('pre140285360237064', 'post140285360237064')""><pre>        instance.save(**save_options)</pre></li>
                
                </ol>
              
              <ol start=""99"" class=""context-line"">
                <li onclick=""toggle('pre140285360237064', 'post140285360237064')""><pre>
        callback(instance, created=created)</pre> <span>...</span></li></ol>
              
                <ol start='100' class=""post-context"" id=""post140285360237064"">
                  
                  <li onclick=""toggle('pre140285360237064', 'post140285360237064')""><pre></pre></li>
                  
                  <li onclick=""toggle('pre140285360237064', 'post140285360237064')""><pre>    return ret</pre></li>
                  
                  <li onclick=""toggle('pre140285360237064', 'post140285360237064')""><pre></pre></li>
                  
                  <li onclick=""toggle('pre140285360237064', 'post140285360237064')""><pre></pre></li>
                  
                  <li onclick=""toggle('pre140285360237064', 'post140285360237064')""><pre>@transaction.atomic</pre></li>
                  
                  <li onclick=""toggle('pre140285360237064', 'post140285360237064')""><pre>def update_in_bulk(instances, list_of_new_values, callback=None, precall=None):</pre></li>
                  
              </ol>
              
            </div>
          

          
            <div class=""commands"">
                
                    <a href=""#"" onclick=""return varToggle(this, '140285360237064')""><span>&#x25b6;</span> Local vars</a>
                
            </div>
            <table class=""vars"" id=""v140285360237064"">
              <thead>
                <tr>
                  <th>Variable</th>
                  <th>Value</th>
                </tr>
              </thead>
              <tbody>
                
                  <tr>
                    <td>instances</td>
                    <td class=""code""><pre>[&lt;Membership: Membership object&gt;]</pre></td>
                  </tr>
                
                  <tr>
                    <td>callback</td>
                    <td class=""code""><pre>&lt;bound method MembershipViewSet.post_save of &lt;taiga.projects.api.MembershipViewSet object at 0x7f96bb0575c0&gt;&gt;</pre></td>
                  </tr>
                
                  <tr>
                    <td>precall</td>
                    <td class=""code""><pre>&lt;bound method MembershipViewSet.pre_save of &lt;taiga.projects.api.MembershipViewSet object at 0x7f96bb0575c0&gt;&gt;</pre></td>
                  </tr>
                
                  <tr>
                    <td>ret</td>
                    <td class=""code""><pre>[]</pre></td>
                  </tr>
                
                  <tr>
                    <td>save_options</td>
                    <td class=""code""><pre>{}</pre></td>
                  </tr>
                
                  <tr>
                    <td>created</td>
                    <td class=""code""><pre>True</pre></td>
                  </tr>
                
                  <tr>
                    <td>instance</td>
                    <td class=""code""><pre>&lt;Membership: Membership object&gt;</pre></td>
                  </tr>
                
              </tbody>
            </table>
          
        </li>
      
        
        <li class=""frame user"">
          <code>/home/taiga/taiga-back/taiga/projects/api.py</code> in <code>post_save</code>

          
            <div class=""context"" id=""c140285360235528"">
              
                <ol start=""759"" class=""pre-context"" id=""pre140285360235528"">
                
                  <li onclick=""toggle('pre140285360235528', 'post140285360235528')""><pre>    def post_save(self, object, created=False):</pre></li>
                
                  <li onclick=""toggle('pre140285360235528', 'post140285360235528')""><pre>        super().post_save(object, created=created)</pre></li>
                
                  <li onclick=""toggle('pre140285360235528', 'post140285360235528')""><pre></pre></li>
                
                  <li onclick=""toggle('pre140285360235528', 'post140285360235528')""><pre>        if not created:</pre></li>
                
                  <li onclick=""toggle('pre140285360235528', 'post140285360235528')""><pre>            return</pre></li>
                
                  <li onclick=""toggle('pre140285360235528', 'post140285360235528')""><pre></pre></li>
                
                  <li onclick=""toggle('pre140285360235528', 'post140285360235528')""><pre>        # Send email only if a new membership is created</pre></li>
                
                </ol>
              
              <ol start=""766"" class=""context-line"">
                <li onclick=""toggle('pre140285360235528', 'post140285360235528')""><pre>
        services.send_invitation(invitation=object)</pre> <span>...</span></li></ol>
              
                <ol start='767' class=""post-context"" id=""post140285360235528"">
                  
                  <li onclick=""toggle('pre140285360235528', 'post140285360235528')""><pre></pre></li>
                  
                  <li onclick=""toggle('pre140285360235528', 'post140285360235528')""><pre></pre></li>
                  
                  <li onclick=""toggle('pre140285360235528', 'post140285360235528')""><pre>class InvitationViewSet(ModelListViewSet):</pre></li>
                  
                  <li onclick=""toggle('pre140285360235528', 'post140285360235528')""><pre>    &quot;&quot;&quot;</pre></li>
                  
                  <li onclick=""toggle('pre140285360235528', 'post140285360235528')""><pre>    Only used by front for get invitation by it token.</pre></li>
                  
                  <li onclick=""toggle('pre140285360235528', 'post140285360235528')""><pre>    &quot;&quot;&quot;</pre></li>
                  
              </ol>
              
            </div>
          

          
            <div class=""commands"">
                
                    <a href=""#"" onclick=""return varToggle(this, '140285360235528')""><span>&#x25b6;</span> Local vars</a>
                
            </div>
            <table class=""vars"" id=""v140285360235528"">
              <thead>
                <tr>
                  <th>Variable</th>
                  <th>Value</th>
                </tr>
              </thead>
              <tbody>
                
                  <tr>
                    <td>__class__</td>
                    <td class=""code""><pre>&lt;class &#39;taiga.projects.api.MembershipViewSet&#39;&gt;</pre></td>
                  </tr>
                
                  <tr>
                    <td>object</td>
                    <td class=""code""><pre>&lt;Membership: Membership object&gt;</pre></td>
                  </tr>
                
                  <tr>
                    <td>created</td>
                    <td class=""code""><pre>True</pre></td>
                  </tr>
                
                  <tr>
                    <td>self</td>
                    <td class=""code""><pre>&lt;taiga.projects.api.MembershipViewSet object at 0x7f96bb0575c0&gt;</pre></td>
                  </tr>
                
              </tbody>
            </table>
          
        </li>
      
        
        <li class=""frame user"">
          <code>/home/taiga/taiga-back/taiga/projects/services/invitations.py</code> in <code>send_invitation</code>

          
            <div class=""context"" id=""c140285360235720"">
              
                <ol start=""27"" class=""pre-context"" id=""pre140285360235720"">
                
                  <li onclick=""toggle('pre140285360235720', 'post140285360235720')""><pre>    if invitation.user:</pre></li>
                
                  <li onclick=""toggle('pre140285360235720', 'post140285360235720')""><pre>        template = mail_builder.membership_notification</pre></li>
                
                  <li onclick=""toggle('pre140285360235720', 'post140285360235720')""><pre>        email = template(invitation.user, {&quot;membership&quot;: invitation})</pre></li>
                
                  <li onclick=""toggle('pre140285360235720', 'post140285360235720')""><pre>    else:</pre></li>
                
                  <li onclick=""toggle('pre140285360235720', 'post140285360235720')""><pre>        template = mail_builder.membership_invitation</pre></li>
                
                  <li onclick=""toggle('pre140285360235720', 'post140285360235720')""><pre>        email = template(invitation.email, {&quot;membership&quot;: invitation})</pre></li>
                
                  <li onclick=""toggle('pre140285360235720', 'post140285360235720')""><pre></pre></li>
                
                </ol>
              
              <ol start=""34"" class=""context-line"">
                <li onclick=""toggle('pre140285360235720', 'post140285360235720')""><pre>
    email.send()</pre> <span>...</span></li></ol>
              
                <ol start='35' class=""post-context"" id=""post140285360235720"">
                  
                  <li onclick=""toggle('pre140285360235720', 'post140285360235720')""><pre></pre></li>
                  
                  <li onclick=""toggle('pre140285360235720', 'post140285360235720')""><pre></pre></li>
                  
                  <li onclick=""toggle('pre140285360235720', 'post140285360235720')""><pre>def find_invited_user(email, default=None):</pre></li>
                  
                  <li onclick=""toggle('pre140285360235720', 'post140285360235720')""><pre>    &quot;&quot;&quot;Check if the invited user is already a registered.</pre></li>
                  
                  <li onclick=""toggle('pre140285360235720', 'post140285360235720')""><pre></pre></li>
                  
                  <li onclick=""toggle('pre140285360235720', 'post140285360235720')""><pre>    :param invitation: Invitation object.</pre></li>
                  
              </ol>
              
            </div>
          

          
            <div class=""commands"">
                
                    <a href=""#"" onclick=""return varToggle(this, '140285360235720')""><span>&#x25b6;</span> Local vars</a>
                
            </div>
            <table class=""vars"" id=""v140285360235720"">
              <thead>
                <tr>
                  <th>Variable</th>
                  <th>Value</th>
                </tr>
              </thead>
              <tbody>
                
                  <tr>
                    <td>invitation</td>
                    <td class=""code""><pre>&lt;Membership: Membership object&gt;</pre></td>
                  </tr>
                
                  <tr>
                    <td>email</td>
                    <td class=""code""><pre>&lt;django.core.mail.message.EmailMultiAlternatives object at 0x7f96baf3be10&gt;</pre></td>
                  </tr>
                
                  <tr>
                    <td>template</td>
                    <td class=""code""><pre>&lt;function MagicMailBuilder.__getattr__.&lt;locals&gt;._dynamic_email_generator at 0x7f96bafb5620&gt;</pre></td>
                  </tr>
                
              </tbody>
            </table>
          
        </li>
      
        
        <li class=""frame django"">
          <code>/home/taiga/.virtualenvs/taiga/lib/python3.5/site-packages/django/core/mail/message.py</code> in <code>send</code>

          
            <div class=""context"" id=""c140285360238216"">
              
                <ol start=""285"" class=""pre-context"" id=""pre140285360238216"">
                
                  <li onclick=""toggle('pre140285360238216', 'post140285360238216')""><pre></pre></li>
                
                  <li onclick=""toggle('pre140285360238216', 'post140285360238216')""><pre>    def send(self, fail_silently=False):</pre></li>
                
                  <li onclick=""toggle('pre140285360238216', 'post140285360238216')""><pre>        &quot;&quot;&quot;Sends the email message.&quot;&quot;&quot;</pre></li>
                
                  <li onclick=""toggle('pre140285360238216', 'post140285360238216')""><pre>        if not self.recipients():</pre></li>
                
                  <li onclick=""toggle('pre140285360238216', 'post140285360238216')""><pre>            # Don&#39;t bother creating the network connection if there&#39;s nobody to</pre></li>
                
                  <li onclick=""toggle('pre140285360238216', 'post140285360238216')""><pre>            # send to.</pre></li>
                
                  <li onclick=""toggle('pre140285360238216', 'post140285360238216')""><pre>            return 0</pre></li>
                
                </ol>
              
              <ol start=""292"" class=""context-line"">
                <li onclick=""toggle('pre140285360238216', 'post140285360238216')""><pre>
        return self.get_connection(fail_silently).send_messages([self])</pre> <span>...</span></li></ol>
              
                <ol start='293' class=""post-context"" id=""post140285360238216"">
                  
                  <li onclick=""toggle('pre140285360238216', 'post140285360238216')""><pre></pre></li>
                  
                  <li onclick=""toggle('pre140285360238216', 'post140285360238216')""><pre>    def attach(self, filename=None, content=None, mimetype=None):</pre></li>
                  
                  <li onclick=""toggle('pre140285360238216', 'post140285360238216')""><pre>        &quot;&quot;&quot;</pre></li>
                  
                  <li onclick=""toggle('pre140285360238216', 'post140285360238216')""><pre>        Attaches a file with the given filename and content. The filename can</pre></li>
                  
                  <li onclick=""toggle('pre140285360238216', 'post140285360238216')""><pre>        be omitted and the mimetype is guessed, if not provided.</pre></li>
                  
                  <li onclick=""toggle('pre140285360238216', 'post140285360238216')""><pre></pre></li>
                  
              </ol>
              
            </div>
          

          
            <div class=""commands"">
                
                    <a href=""#"" onclick=""return varToggle(this, '140285360238216')""><span>&#x25b6;</span> Local vars</a>
                
            </div>
            <table class=""vars"" id=""v140285360238216"">
              <thead>
                <tr>
                  <th>Variable</th>
                  <th>Value</th>
                </tr>
              </thead>
              <tbody>
                
                  <tr>
                    <td>fail_silently</td>
                    <td class=""code""><pre>False</pre></td>
                  </tr>
                
                  <tr>
                    <td>self</td>
                    <td class=""code""><pre>&lt;django.core.mail.message.EmailMultiAlternatives object at 0x7f96baf3be10&gt;</pre></td>
                  </tr>
                
              </tbody>
            </table>
          
        </li>
      
        
        <li class=""frame django"">
          <code>/home/taiga/.virtualenvs/taiga/lib/python3.5/site-packages/django/core/mail/backends/smtp.py</code> in <code>send_messages</code>

          
            <div class=""context"" id=""c140285360237960"">
              
                <ol start=""93"" class=""pre-context"" id=""pre140285360237960"">
                
                  <li onclick=""toggle('pre140285360237960', 'post140285360237960')""><pre>        &quot;&quot;&quot;</pre></li>
                
                  <li onclick=""toggle('pre140285360237960', 'post140285360237960')""><pre>        Sends one or more EmailMessage objects and returns the number of email</pre></li>
                
                  <li onclick=""toggle('pre140285360237960', 'post140285360237960')""><pre>        messages sent.</pre></li>
                
                  <li onclick=""toggle('pre140285360237960', 'post140285360237960')""><pre>        &quot;&quot;&quot;</pre></li>
                
                  <li onclick=""toggle('pre140285360237960', 'post140285360237960')""><pre>        if not email_messages:</pre></li>
                
                  <li onclick=""toggle('pre140285360237960', 'post140285360237960')""><pre>            return</pre></li>
                
                  <li onclick=""toggle('pre140285360237960', 'post140285360237960')""><pre>        with self._lock:</pre></li>
                
                </ol>
              
              <ol start=""100"" class=""context-line"">
                <li onclick=""toggle('pre140285360237960', 'post140285360237960')""><pre>
            new_conn_created = self.open()</pre> <span>...</span></li></ol>
              
                <ol start='101' class=""post-context"" id=""post140285360237960"">
                  
                  <li onclick=""toggle('pre140285360237960', 'post140285360237960')""><pre>            if not self.connection:</pre></li>
                  
                  <li onclick=""toggle('pre140285360237960', 'post140285360237960')""><pre>                # We failed silently on open().</pre></li>
                  
                  <li onclick=""toggle('pre140285360237960', 'post140285360237960')""><pre>                # Trying to send would be pointless.</pre></li>
                  
                  <li onclick=""toggle('pre140285360237960', 'post140285360237960')""><pre>                return</pre></li>
                  
                  <li onclick=""toggle('pre140285360237960', 'post140285360237960')""><pre>            num_sent = 0</pre></li>
                  
                  <li onclick=""toggle('pre140285360237960', 'post140285360237960')""><pre>            for message in email_messages:</pre></li>
                  
              </ol>
              
            </div>
          

          
            <div class=""commands"">
                
                    <a href=""#"" onclick=""return varToggle(this, '140285360237960')""><span>&#x25b6;</span> Local vars</a>
                
            </div>
            <table class=""vars"" id=""v140285360237960"">
              <thead>
                <tr>
                  <th>Variable</th>
                  <th>Value</th>
                </tr>
              </thead>
              <tbody>
                
                  <tr>
                    <td>email_messages</td>
                    <td class=""code""><pre>[&lt;django.core.mail.message.EmailMultiAlternatives object at 0x7f96baf3be10&gt;]</pre></td>
                  </tr>
                
                  <tr>
                    <td>self</td>
                    <td class=""code""><pre>&lt;django.core.mail.backends.smtp.EmailBackend object at 0x7f96baf3bef0&gt;</pre></td>
                  </tr>
                
              </tbody>
            </table>
          
        </li>
      
        
        <li class=""frame django"">
          <code>/home/taiga/.virtualenvs/taiga/lib/python3.5/site-packages/django/core/mail/backends/smtp.py</code> in <code>open</code>

          
            <div class=""context"" id=""c140285358841928"">
              
                <ol start=""51"" class=""pre-context"" id=""pre140285358841928"">
                
                  <li onclick=""toggle('pre140285358841928', 'post140285358841928')""><pre>            connection_params[&#39;timeout&#39;] = self.timeout</pre></li>
                
                  <li onclick=""toggle('pre140285358841928', 'post140285358841928')""><pre>        if self.use_ssl:</pre></li>
                
                  <li onclick=""toggle('pre140285358841928', 'post140285358841928')""><pre>            connection_params.update({</pre></li>
                
                  <li onclick=""toggle('pre140285358841928', 'post140285358841928')""><pre>                &#39;keyfile&#39;: self.ssl_keyfile,</pre></li>
                
                  <li onclick=""toggle('pre140285358841928', 'post140285358841928')""><pre>                &#39;certfile&#39;: self.ssl_certfile,</pre></li>
                
                  <li onclick=""toggle('pre140285358841928', 'post140285358841928')""><pre>            })</pre></li>
                
                  <li onclick=""toggle('pre140285358841928', 'post140285358841928')""><pre>        try:</pre></li>
                
                </ol>
              
              <ol start=""58"" class=""context-line"">
                <li onclick=""toggle('pre140285358841928', 'post140285358841928')""><pre>
            self.connection = connection_class(self.host, self.port, **connection_params)</pre> <span>...</span></li></ol>
              
                <ol start='59' class=""post-context"" id=""post140285358841928"">
                  
                  <li onclick=""toggle('pre140285358841928', 'post140285358841928')""><pre></pre></li>
                  
                  <li onclick=""toggle('pre140285358841928', 'post140285358841928')""><pre>            # TLS/SSL are mutually exclusive, so only attempt TLS over</pre></li>
                  
                  <li onclick=""toggle('pre140285358841928', 'post140285358841928')""><pre>            # non-secure connections.</pre></li>
                  
                  <li onclick=""toggle('pre140285358841928', 'post140285358841928')""><pre>            if not self.use_ssl and self.use_tls:</pre></li>
                  
                  <li onclick=""toggle('pre140285358841928', 'post140285358841928')""><pre>                self.connection.ehlo()</pre></li>
                  
                  <li onclick=""toggle('pre140285358841928', 'post140285358841928')""><pre>                self.connection.starttls(keyfile=self.ssl_keyfile, certfile=self.ssl_certfile)</pre></li>
                  
              </ol>
              
            </div>
          

          
            <div class=""commands"">
                
                    <a href=""#"" onclick=""return varToggle(this, '140285358841928')""><span>&#x25b6;</span> Local vars</a>
                
            </div>
            <table class=""vars"" id=""v140285358841928"">
              <thead>
                <tr>
                  <th>Variable</th>
                  <th>Value</th>
                </tr>
              </thead>
              <tbody>
                
                  <tr>
                    <td>connection_class</td>
                    <td class=""code""><pre>&lt;class &#39;smtplib.SMTP&#39;&gt;</pre></td>
                  </tr>
                
                  <tr>
                    <td>self</td>
                    <td class=""code""><pre>&lt;django.core.mail.backends.smtp.EmailBackend object at 0x7f96baf3bef0&gt;</pre></td>
                  </tr>
                
                  <tr>
                    <td>connection_params</td>
                    <td class=""code""><pre>{&#39;local_hostname&#39;: &#39;QUADVAGILE02.adventiel.fr&#39;}</pre></td>
                  </tr>
                
              </tbody>
            </table>
          
        </li>
      
        
        <li class=""frame user"">
          <code>/usr/lib/python3.5/smtplib.py</code> in <code>__init__</code>

          
            <div class=""context"" id=""c140285359437832"">
              
                <ol start=""244"" class=""pre-context"" id=""pre140285359437832"">
                
                  <li onclick=""toggle('pre140285359437832', 'post140285359437832')""><pre>        self._host = host</pre></li>
                
                  <li onclick=""toggle('pre140285359437832', 'post140285359437832')""><pre>        self.timeout = timeout</pre></li>
                
                  <li onclick=""toggle('pre140285359437832', 'post140285359437832')""><pre>        self.esmtp_features = {}</pre></li>
                
                  <li onclick=""toggle('pre140285359437832', 'post140285359437832')""><pre>        self.command_encoding = &#39;ascii&#39;</pre></li>
                
                  <li onclick=""toggle('pre140285359437832', 'post140285359437832')""><pre>        self.source_address = source_address</pre></li>
                
                  <li onclick=""toggle('pre140285359437832', 'post140285359437832')""><pre></pre></li>
                
                  <li onclick=""toggle('pre140285359437832', 'post140285359437832')""><pre>        if host:</pre></li>
                
                </ol>
              
              <ol start=""251"" class=""context-line"">
                <li onclick=""toggle('pre140285359437832', 'post140285359437832')""><pre>
            (code, msg) = self.connect(host, port)</pre> <span>...</span></li></ol>
              
                <ol start='252' class=""post-context"" id=""post140285359437832"">
                  
                  <li onclick=""toggle('pre140285359437832', 'post140285359437832')""><pre>            if code != 220:</pre></li>
                  
                  <li onclick=""toggle('pre140285359437832', 'post140285359437832')""><pre>                raise SMTPConnectError(code, msg)</pre></li>
                  
                  <li onclick=""toggle('pre140285359437832', 'post140285359437832')""><pre>        if local_hostname is not None:</pre></li>
                  
                  <li onclick=""toggle('pre140285359437832', 'post140285359437832')""><pre>            self.local_hostname = local_hostname</pre></li>
                  
                  <li onclick=""toggle('pre140285359437832', 'post140285359437832')""><pre>        else:</pre></li>
                  
                  <li onclick=""toggle('pre140285359437832', 'post140285359437832')""><pre>            # RFC 2821 says we should use the fqdn in the EHLO/HELO verb, and</pre></li>
                  
              </ol>
              
            </div>
          

          
            <div class=""commands"">
                
                    <a href=""#"" onclick=""return varToggle(this, '140285359437832')""><span>&#x25b6;</span> Local vars</a>
                
            </div>
            <table class=""vars"" id=""v140285359437832"">
              <thead>
                <tr>
                  <th>Variable</th>
                  <th>Value</th>
                </tr>
              </thead>
              <tbody>
                
                  <tr>
                    <td>source_address</td>
                    <td class=""code""><pre>None</pre></td>
                  </tr>
                
                  <tr>
                    <td>port</td>
                    <td class=""code""><pre>25</pre></td>
                  </tr>
                
                  <tr>
                    <td>host</td>
                    <td class=""code""><pre>&#39;localhost&#39;</pre></td>
                  </tr>
                
                  <tr>
                    <td>self</td>
                    <td class=""code""><pre>&lt;smtplib.SMTP object at 0x7f96baf83e10&gt;</pre></td>
                  </tr>
                
                  <tr>
                    <td>local_hostname</td>
                    <td class=""code""><pre>&#39;QUADVAGILE02.adventiel.fr&#39;</pre></td>
                  </tr>
                
                  <tr>
                    <td>timeout</td>
                    <td class=""code""><pre>&lt;object object at 0x7f96c8d680c0&gt;</pre></td>
                  </tr>
                
              </tbody>
            </table>
          
        </li>
      
        
        <li class=""frame user"">
          <code>/usr/lib/python3.5/smtplib.py</code> in <code>connect</code>

          
            <div class=""context"" id=""c140285360388616"">
              
                <ol start=""328"" class=""pre-context"" id=""pre140285360388616"">
                
                  <li onclick=""toggle('pre140285360388616', 'post140285360388616')""><pre>                    port = int(port)</pre></li>
                
                  <li onclick=""toggle('pre140285360388616', 'post140285360388616')""><pre>                except ValueError:</pre></li>
                
                  <li onclick=""toggle('pre140285360388616', 'post140285360388616')""><pre>                    raise OSError(&quot;nonnumeric port&quot;)</pre></li>
                
                  <li onclick=""toggle('pre140285360388616', 'post140285360388616')""><pre>        if not port:</pre></li>
                
                  <li onclick=""toggle('pre140285360388616', 'post140285360388616')""><pre>            port = self.default_port</pre></li>
                
                  <li onclick=""toggle('pre140285360388616', 'post140285360388616')""><pre>        if self.debuglevel &gt; 0:</pre></li>
                
                  <li onclick=""toggle('pre140285360388616', 'post140285360388616')""><pre>            self._print_debug(&#39;connect:&#39;, (host, port))</pre></li>
                
                </ol>
              
              <ol start=""335"" class=""context-line"">
                <li onclick=""toggle('pre140285360388616', 'post140285360388616')""><pre>
        self.sock = self._get_socket(host, port, self.timeout)</pre> <span>...</span></li></ol>
              
                <ol start='336' class=""post-context"" id=""post140285360388616"">
                  
                  <li onclick=""toggle('pre140285360388616', 'post140285360388616')""><pre>        self.file = None</pre></li>
                  
                  <li onclick=""toggle('pre140285360388616', 'post140285360388616')""><pre>        (code, msg) = self.getreply()</pre></li>
                  
                  <li onclick=""toggle('pre140285360388616', 'post140285360388616')""><pre>        if self.debuglevel &gt; 0:</pre></li>
                  
                  <li onclick=""toggle('pre140285360388616', 'post140285360388616')""><pre>            self._print_debug(&#39;connect:&#39;, repr(msg))</pre></li>
                  
                  <li onclick=""toggle('pre140285360388616', 'post140285360388616')""><pre>        return (code, msg)</pre></li>
                  
                  <li onclick=""toggle('pre140285360388616', 'post140285360388616')""><pre></pre></li>
                  
              </ol>
              
            </div>
          

          
            <div class=""commands"">
                
                    <a href=""#"" onclick=""return varToggle(this, '140285360388616')""><span>&#x25b6;</span> Local vars</a>
                
            </div>
            <table class=""vars"" id=""v140285360388616"">
              <thead>
                <tr>
                  <th>Variable</th>
                  <th>Value</th>
                </tr>
              </thead>
              <tbody>
                
                  <tr>
                    <td>source_address</td>
                    <td class=""code""><pre>None</pre></td>
                  </tr>
                
                  <tr>
                    <td>port</td>
                    <td class=""code""><pre>25</pre></td>
                  </tr>
                
                  <tr>
                    <td>self</td>
                    <td class=""code""><pre>&lt;smtplib.SMTP object at 0x7f96baf83e10&gt;</pre></td>
                  </tr>
                
                  <tr>
                    <td>host</td>
                    <td class=""code""><pre>&#39;localhost&#39;</pre></td>
                  </tr>
                
              </tbody>
            </table>
          
        </li>
      
        
        <li class=""frame user"">
          <code>/usr/lib/python3.5/smtplib.py</code> in <code>_get_socket</code>

          
            <div class=""context"" id=""c140285360386376"">
              
                <ol start=""299"" class=""pre-context"" id=""pre140285360386376"">
                
                  <li onclick=""toggle('pre140285360386376', 'post140285360386376')""><pre></pre></li>
                
                  <li onclick=""toggle('pre140285360386376', 'post140285360386376')""><pre>    def _get_socket(self, host, port, timeout):</pre></li>
                
                  <li onclick=""toggle('pre140285360386376', 'post140285360386376')""><pre>        # This makes it simpler for SMTP_SSL to use the SMTP connect code</pre></li>
                
                  <li onclick=""toggle('pre140285360386376', 'post140285360386376')""><pre>        # and just alter the socket connection bit.</pre></li>
                
                  <li onclick=""toggle('pre140285360386376', 'post140285360386376')""><pre>        if self.debuglevel &gt; 0:</pre></li>
                
                  <li onclick=""toggle('pre140285360386376', 'post140285360386376')""><pre>            self._print_debug(&#39;connect: to&#39;, (host, port), self.source_address)</pre></li>
                
                  <li onclick=""toggle('pre140285360386376', 'post140285360386376')""><pre>        return socket.create_connection((host, port), timeout,</pre></li>
                
                </ol>
              
              <ol start=""306"" class=""context-line"">
                <li onclick=""toggle('pre140285360386376', 'post140285360386376')""><pre>
                                        self.source_address)</pre> <span>...</span></li></ol>
              
                <ol start='307' class=""post-context"" id=""post140285360386376"">
                  
                  <li onclick=""toggle('pre140285360386376', 'post140285360386376')""><pre></pre></li>
                  
                  <li onclick=""toggle('pre140285360386376', 'post140285360386376')""><pre>    def connect(self, host=&#39;localhost&#39;, port=0, source_address=None):</pre></li>
                  
                  <li onclick=""toggle('pre140285360386376', 'post140285360386376')""><pre>        &quot;&quot;&quot;Connect to a host on a given port.</pre></li>
                  
                  <li onclick=""toggle('pre140285360386376', 'post140285360386376')""><pre></pre></li>
                  
                  <li onclick=""toggle('pre140285360386376', 'post140285360386376')""><pre>        If the hostname ends with a colon (`:&#39;) followed by a number, and</pre></li>
                  
                  <li onclick=""toggle('pre140285360386376', 'post140285360386376')""><pre>        there is no port specified, that suffix will be stripped off and the</pre></li>
                  
              </ol>
              
            </div>
          

          
            <div class=""commands"">
                
                    <a href=""#"" onclick=""return varToggle(this, '140285360386376')""><span>&#x25b6;</span> Local vars</a>
                
            </div>
            <table class=""vars"" id=""v140285360386376"">
              <thead>
                <tr>
                  <th>Variable</th>
                  <th>Value</th>
                </tr>
              </thead>
              <tbody>
                
                  <tr>
                    <td>port</td>
                    <td class=""code""><pre>25</pre></td>
                  </tr>
                
                  <tr>
                    <td>timeout</td>
                    <td class=""code""><pre>&lt;object object at 0x7f96c8d680c0&gt;</pre></td>
                  </tr>
                
                  <tr>
                    <td>self</td>
                    <td class=""code""><pre>&lt;smtplib.SMTP object at 0x7f96baf83e10&gt;</pre></td>
                  </tr>
                
                  <tr>
                    <td>host</td>
                    <td class=""code""><pre>&#39;localhost&#39;</pre></td>
                  </tr>
                
              </tbody>
            </table>
          
        </li>
      
        
        <li class=""frame user"">
          <code>/usr/lib/python3.5/socket.py</code> in <code>create_connection</code>

          
            <div class=""context"" id=""c140285358672776"">
              
                <ol start=""704"" class=""pre-context"" id=""pre140285358672776"">
                
                  <li onclick=""toggle('pre140285358672776', 'post140285358672776')""><pre></pre></li>
                
                  <li onclick=""toggle('pre140285358672776', 'post140285358672776')""><pre>        except error as _:</pre></li>
                
                  <li onclick=""toggle('pre140285358672776', 'post140285358672776')""><pre>            err = _</pre></li>
                
                  <li onclick=""toggle('pre140285358672776', 'post140285358672776')""><pre>            if sock is not None:</pre></li>
                
                  <li onclick=""toggle('pre140285358672776', 'post140285358672776')""><pre>                sock.close()</pre></li>
                
                  <li onclick=""toggle('pre140285358672776', 'post140285358672776')""><pre></pre></li>
                
                  <li onclick=""toggle('pre140285358672776', 'post140285358672776')""><pre>    if err is not None:</pre></li>
                
                </ol>
              
              <ol start=""711"" class=""context-line"">
                <li onclick=""toggle('pre140285358672776', 'post140285358672776')""><pre>
        raise err</pre> <span>...</span></li></ol>
              
                <ol start='712' class=""post-context"" id=""post140285358672776"">
                  
                  <li onclick=""toggle('pre140285358672776', 'post140285358672776')""><pre>    else:</pre></li>
                  
                  <li onclick=""toggle('pre140285358672776', 'post140285358672776')""><pre>        raise error(&quot;getaddrinfo returns an empty list&quot;)</pre></li>
                  
                  <li onclick=""toggle('pre140285358672776', 'post140285358672776')""><pre></pre></li>
                  
                  <li onclick=""toggle('pre140285358672776', 'post140285358672776')""><pre>def getaddrinfo(host, port, family=0, type=0, proto=0, flags=0):</pre></li>
                  
                  <li onclick=""toggle('pre140285358672776', 'post140285358672776')""><pre>    &quot;&quot;&quot;Resolve host and port into list of address info entries.</pre></li>
                  
                  <li onclick=""toggle('pre140285358672776', 'post140285358672776')""><pre></pre></li>
                  
              </ol>
              
            </div>
          

          
            <div class=""commands"">
                
                    <a href=""#"" onclick=""return varToggle(this, '140285358672776')""><span>&#x25b6;</span> Local vars</a>
                
            </div>
            <table class=""vars"" id=""v140285358672776"">
              <thead>
                <tr>
                  <th>Variable</th>
                  <th>Value</th>
                </tr>
              </thead>
              <tbody>
                
                  <tr>
                    <td>port</td>
                    <td class=""code""><pre>25</pre></td>
                  </tr>
                
                  <tr>
                    <td>sock</td>
                    <td class=""code""><pre>&lt;socket.socket [closed] fd=-1, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6&gt;</pre></td>
                  </tr>
                
                  <tr>
                    <td>af</td>
                    <td class=""code""><pre>&lt;AddressFamily.AF_INET: 2&gt;</pre></td>
                  </tr>
                
                  <tr>
                    <td>host</td>
                    <td class=""code""><pre>&#39;localhost&#39;</pre></td>
                  </tr>
                
                  <tr>
                    <td>res</td>
                    <td class=""code""><pre>(&lt;AddressFamily.AF_INET: 2&gt;,
 &lt;SocketKind.SOCK_STREAM: 1&gt;,
 6,
 &#39;&#39;,
 (&#39;127.0.0.1&#39;, 25))</pre></td>
                  </tr>
                
                  <tr>
                    <td>canonname</td>
                    <td class=""code""><pre>&#39;&#39;</pre></td>
                  </tr>
                
                  <tr>
                    <td>address</td>
                    <td class=""code""><pre>(&#39;localhost&#39;, 25)</pre></td>
                  </tr>
                
                  <tr>
                    <td>source_address</td>
                    <td class=""code""><pre>None</pre></td>
                  </tr>
                
                  <tr>
                    <td>socktype</td>
                    <td class=""code""><pre>&lt;SocketKind.SOCK_STREAM: 1&gt;</pre></td>
                  </tr>
                
                  <tr>
                    <td>err</td>
                    <td class=""code""><pre>ConnectionRefusedError(111, &#39;Connection refused&#39;)</pre></td>
                  </tr>
                
                  <tr>
                    <td>timeout</td>
                    <td class=""code""><pre>&lt;object object at 0x7f96c8d680c0&gt;</pre></td>
                  </tr>
                
                  <tr>
                    <td>sa</td>
                    <td class=""code""><pre>(&#39;127.0.0.1&#39;, 25)</pre></td>
                  </tr>
                
                  <tr>
                    <td>proto</td>
                    <td class=""code""><pre>6</pre></td>
                  </tr>
                
              </tbody>
            </table>
          
        </li>
      
        
        <li class=""frame user"">
          <code>/usr/lib/python3.5/socket.py</code> in <code>create_connection</code>

          
            <div class=""context"" id=""c140285358396808"">
              
                <ol start=""695"" class=""pre-context"" id=""pre140285358396808"">
                
                  <li onclick=""toggle('pre140285358396808', 'post140285358396808')""><pre>        sock = None</pre></li>
                
                  <li onclick=""toggle('pre140285358396808', 'post140285358396808')""><pre>        try:</pre></li>
                
                  <li onclick=""toggle('pre140285358396808', 'post140285358396808')""><pre>            sock = socket(af, socktype, proto)</pre></li>
                
                  <li onclick=""toggle('pre140285358396808', 'post140285358396808')""><pre>            if timeout is not _GLOBAL_DEFAULT_TIMEOUT:</pre></li>
                
                  <li onclick=""toggle('pre140285358396808', 'post140285358396808')""><pre>                sock.settimeout(timeout)</pre></li>
                
                  <li onclick=""toggle('pre140285358396808', 'post140285358396808')""><pre>            if source_address:</pre></li>
                
                  <li onclick=""toggle('pre140285358396808', 'post140285358396808')""><pre>                sock.bind(source_address)</pre></li>
                
                </ol>
              
              <ol start=""702"" class=""context-line"">
                <li onclick=""toggle('pre140285358396808', 'post140285358396808')""><pre>
            sock.connect(sa)</pre> <span>...</span></li></ol>
              
                <ol start='703' class=""post-context"" id=""post140285358396808"">
                  
                  <li onclick=""toggle('pre140285358396808', 'post140285358396808')""><pre>            return sock</pre></li>
                  
                  <li onclick=""toggle('pre140285358396808', 'post140285358396808')""><pre></pre></li>
                  
                  <li onclick=""toggle('pre140285358396808', 'post140285358396808')""><pre>        except error as _:</pre></li>
                  
                  <li onclick=""toggle('pre140285358396808', 'post140285358396808')""><pre>            err = _</pre></li>
                  
                  <li onclick=""toggle('pre140285358396808', 'post140285358396808')""><pre>            if sock is not None:</pre></li>
                  
                  <li onclick=""toggle('pre140285358396808', 'post140285358396808')""><pre>                sock.close()</pre></li>
                  
              </ol>
              
            </div>
          

          
            <div class=""commands"">
                
                    <a href=""#"" onclick=""return varToggle(this, '140285358396808')""><span>&#x25b6;</span> Local vars</a>
                
            </div>
            <table class=""vars"" id=""v140285358396808"">
              <thead>
                <tr>
                  <th>Variable</th>
                  <th>Value</th>
                </tr>
              </thead>
              <tbody>
                
                  <tr>
                    <td>port</td>
                    <td class=""code""><pre>25</pre></td>
                  </tr>
                
                  <tr>
                    <td>sock</td>
                    <td class=""code""><pre>&lt;socket.socket [closed] fd=-1, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6&gt;</pre></td>
                  </tr>
                
                  <tr>
                    <td>af</td>
                    <td class=""code""><pre>&lt;AddressFamily.AF_INET: 2&gt;</pre></td>
                  </tr>
                
                  <tr>
                    <td>host</td>
                    <td class=""code""><pre>&#39;localhost&#39;</pre></td>
                  </tr>
                
                  <tr>
                    <td>res</td>
                    <td class=""code""><pre>(&lt;AddressFamily.AF_INET: 2&gt;,
 &lt;SocketKind.SOCK_STREAM: 1&gt;,
 6,
 &#39;&#39;,
 (&#39;127.0.0.1&#39;, 25))</pre></td>
                  </tr>
                
                  <tr>
                    <td>canonname</td>
                    <td class=""code""><pre>&#39;&#39;</pre></td>
                  </tr>
                
                  <tr>
                    <td>address</td>
                    <td class=""code""><pre>(&#39;localhost&#39;, 25)</pre></td>
                  </tr>
                
                  <tr>
                    <td>source_address</td>
                    <td class=""code""><pre>None</pre></td>
                  </tr>
                
                  <tr>
                    <td>socktype</td>
                    <td class=""code""><pre>&lt;SocketKind.SOCK_STREAM: 1&gt;</pre></td>
                  </tr>
                
                  <tr>
                    <td>err</td>
                    <td class=""code""><pre>ConnectionRefusedError(111, &#39;Connection refused&#39;)</pre></td>
                  </tr>
                
                  <tr>
                    <td>timeout</td>
                    <td class=""code""><pre>&lt;object object at 0x7f96c8d680c0&gt;</pre></td>
                  </tr>
                
                  <tr>
                    <td>sa</td>
                    <td class=""code""><pre>(&#39;127.0.0.1&#39;, 25)</pre></td>
                  </tr>
                
                  <tr>
                    <td>proto</td>
                    <td class=""code""><pre>6</pre></td>
                  </tr>
                
              </tbody>
            </table>
          
        </li>
      
    </ul>
  </div>
  
  <form action=""http://dpaste.com/"" name=""pasteform"" id=""pasteform"" method=""post"">

  <div id=""pastebinTraceback"" class=""pastebin"">
    <input type=""hidden"" name=""language"" value=""PythonConsole"">
    <input type=""hidden"" name=""title""
      value=""ConnectionRefusedError at /api/v1/memberships/bulk_create"">
    <input type=""hidden"" name=""source"" value=""Django Dpaste Agent"">
    <input type=""hidden"" name=""poster"" value=""Django"">
    <textarea name=""content"" id=""traceback_area"" cols=""140"" rows=""25"">
Environment:


Request Method: POST
Request URL: http://qualif.taiga.adventiel.com/api/v1/memberships/bulk_create

Django Version: 1.9.2
Python Version: 3.5.2
Installed Applications:
[&#39;django.contrib.auth&#39;,
 &#39;django.contrib.contenttypes&#39;,
 &#39;django.contrib.sessions&#39;,
 &#39;django.contrib.messages&#39;,
 &#39;django.contrib.admin&#39;,
 &#39;django.contrib.staticfiles&#39;,
 &#39;django.contrib.sitemaps&#39;,
 &#39;taiga.base&#39;,
 &#39;taiga.base.api&#39;,
 &#39;taiga.locale&#39;,
 &#39;taiga.events&#39;,
 &#39;taiga.front&#39;,
 &#39;taiga.users&#39;,
 &#39;taiga.userstorage&#39;,
 &#39;taiga.external_apps&#39;,
 &#39;taiga.projects&#39;,
 &#39;taiga.projects.references&#39;,
 &#39;taiga.projects.custom_attributes&#39;,
 &#39;taiga.projects.history&#39;,
 &#39;taiga.projects.notifications&#39;,
 &#39;taiga.projects.attachments&#39;,
 &#39;taiga.projects.likes&#39;,
 &#39;taiga.projects.votes&#39;,
 &#39;taiga.projects.milestones&#39;,
 &#39;taiga.projects.epics&#39;,
 &#39;taiga.projects.userstories&#39;,
 &#39;taiga.projects.tasks&#39;,
 &#39;taiga.projects.issues&#39;,
 &#39;taiga.projects.wiki&#39;,
 &#39;taiga.searches&#39;,
 &#39;taiga.timeline&#39;,
 &#39;taiga.mdrender&#39;,
 &#39;taiga.export_import&#39;,
 &#39;taiga.feedback&#39;,
 &#39;taiga.stats&#39;,
 &#39;taiga.hooks.github&#39;,
 &#39;taiga.hooks.gitlab&#39;,
 &#39;taiga.hooks.bitbucket&#39;,
 &#39;taiga.hooks.gogs&#39;,
 &#39;taiga.webhooks&#39;,
 &#39;djmail&#39;,
 &#39;django_jinja&#39;,
 &#39;django_jinja.contrib._humanize&#39;,
 &#39;sr&#39;,
 &#39;easy_thumbnails&#39;,
 &#39;raven.contrib.django.raven_compat&#39;]
Installed Middleware:
[&#39;taiga.base.middleware.cors.CoorsMiddleware&#39;,
 &#39;taiga.events.middleware.SessionIDMiddleware&#39;,
 &#39;django.middleware.common.CommonMiddleware&#39;,
 &#39;django.middleware.locale.LocaleMiddleware&#39;,
 &#39;django.contrib.sessions.middleware.SessionMiddleware&#39;,
 &#39;django.contrib.auth.middleware.AuthenticationMiddleware&#39;,
 &#39;django.contrib.messages.middleware.MessageMiddleware&#39;]



Traceback:

File ""/home/taiga/.virtualenvs/taiga/lib/python3.5/site-packages/django/core/handlers/base.py"" in get_response
  149.                     response = self.process_exception_by_middleware(e, request)

File ""/home/taiga/.virtualenvs/taiga/lib/python3.5/site-packages/django/core/handlers/base.py"" in get_response
  147.                     response = wrapped_callback(request, *callback_args, **callback_kwargs)

File ""/home/taiga/taiga-back/taiga/base/api/viewsets.py"" in view
  106.             return self.dispatch(request, *args, **kwargs)

File ""/home/taiga/.virtualenvs/taiga/lib/python3.5/site-packages/django/views/decorators/csrf.py"" in wrapped_view
  58.         return view_func(*args, **kwargs)

File ""/home/taiga/taiga-back/taiga/base/api/views.py"" in dispatch
  446.             response = self.handle_exception(exc)

File ""/home/taiga/taiga-back/taiga/base/api/views.py"" in dispatch
  443.             response = handler(request, *args, **kwargs)

File ""/home/taiga/taiga-back/taiga/projects/api.py"" in bulk_create
  726.                                                           precall=self.pre_save)

File ""/home/taiga/taiga-back/taiga/projects/services/members.py"" in create_members_in_bulk
  52.     db.save_in_bulk(members, callback, precall)

File ""/usr/lib/python3.5/contextlib.py"" in inner
  30.                 return func(*args, **kwds)

File ""/home/taiga/taiga-back/taiga/base/utils/db.py"" in save_in_bulk
  99.         callback(instance, created=created)

File ""/home/taiga/taiga-back/taiga/projects/api.py"" in post_save
  766.         services.send_invitation(invitation=object)

File ""/home/taiga/taiga-back/taiga/projects/services/invitations.py"" in send_invitation
  34.     email.send()

File ""/home/taiga/.virtualenvs/taiga/lib/python3.5/site-packages/django/core/mail/message.py"" in send
  292.         return self.get_connection(fail_silently).send_messages([self])

File ""/home/taiga/.virtualenvs/taiga/lib/python3.5/site-packages/django/core/mail/backends/smtp.py"" in send_messages
  100.             new_conn_created = self.open()

File ""/home/taiga/.virtualenvs/taiga/lib/python3.5/site-packages/django/core/mail/backends/smtp.py"" in open
  58.             self.connection = connection_class(self.host, self.port, **connection_params)

File ""/usr/lib/python3.5/smtplib.py"" in __init__
  251.             (code, msg) = self.connect(host, port)

File ""/usr/lib/python3.5/smtplib.py"" in connect
  335.         self.sock = self._get_socket(host, port, self.timeout)

File ""/usr/lib/python3.5/smtplib.py"" in _get_socket
  306.                                         self.source_address)

File ""/usr/lib/python3.5/socket.py"" in create_connection
  711.         raise err

File ""/usr/lib/python3.5/socket.py"" in create_connection
  702.             sock.connect(sa)

Exception Type: ConnectionRefusedError at /api/v1/memberships/bulk_create
Exception Value: [Errno 111] Connection refused
</textarea>
  <br><br>
  <input type=""submit"" value=""Share this traceback on a public website"">
  </div>
</form>
</div>



<div id=""requestinfo"">
  <h2>Request information</h2>


  <h3 id=""get-info"">GET</h3>
  
    <p>No GET data</p>
  

  <h3 id=""post-info"">POST</h3>
  
    <p>No POST data</p>
  
  <h3 id=""files-info"">FILES</h3>
  
    <p>No FILES data</p>
  


  <h3 id=""cookie-info"">COOKIES</h3>
  
    <table class=""req"">
      <thead>
        <tr>
          <th>Variable</th>
          <th>Value</th>
        </tr>
      </thead>
      <tbody>
        
          <tr>
            <td>sessionid</td>
            <td class=""code""><pre>&#39;q8ryeum4furwu94q04xz3c2x38q9rxt7&#39;</pre></td>
          </tr>
        
          <tr>
            <td>csrftoken</td>
            <td class=""code""><pre>&#39;TDxlq4muuKKA6fgHbB1eZ0bjcAAqRBGk&#39;</pre></td>
          </tr>
        
      </tbody>
    </table>
  

  <h3 id=""meta-info"">META</h3>
  <table class=""req"">
    <thead>
      <tr>
        <th>Variable</th>
        <th>Value</th>
      </tr>
    </thead>
    <tbody>
      
        <tr>
          <td>wsgi.run_once</td>
          <td class=""code""><pre>False</pre></td>
        </tr>
      
        <tr>
          <td>HTTP_COOKIE</td>
          <td class=""code""><pre>(&#39;csrftoken=TDxlq4muuKKA6fgHbB1eZ0bjcAAqRBGk; &#39;
 &#39;sessionid=q8ryeum4furwu94q04xz3c2x38q9rxt7&#39;)</pre></td>
        </tr>
      
        <tr>
          <td>wsgi.version</td>
          <td class=""code""><pre>(1, 0)</pre></td>
        </tr>
      
        <tr>
          <td>wsgi.multithread</td>
          <td class=""code""><pre>False</pre></td>
        </tr>
      
        <tr>
          <td>HTTP_HOST</td>
          <td class=""code""><pre>&#39;qualif.taiga.adventiel.com&#39;</pre></td>
        </tr>
      
        <tr>
          <td>HTTP_X_REAL_IP</td>
          <td class=""code""><pre>&#39;10.200.8.191&#39;</pre></td>
        </tr>
      
        <tr>
          <td>gunicorn.socket</td>
          <td class=""code""><pre>&lt;socket.socket fd=11, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=(&#39;127.0.0.1&#39;, 8001), raddr=(&#39;127.0.0.1&#39;, 47826)&gt;</pre></td>
        </tr>
      
        <tr>
          <td>HTTP_USER_AGENT</td>
          <td class=""code""><pre>&#39;Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:50.0) Gecko/20100101 Firefox/50.0&#39;</pre></td>
        </tr>
      
        <tr>
          <td>RAW_URI</td>
          <td class=""code""><pre>&#39;/api/v1/memberships/bulk_create&#39;</pre></td>
        </tr>
      
        <tr>
          <td>wsgi.input</td>
          <td class=""code""><pre>&lt;gunicorn.http.body.Body object at 0x7f96bb03d438&gt;</pre></td>
        </tr>
      
        <tr>
          <td>SERVER_PROTOCOL</td>
          <td class=""code""><pre>&#39;HTTP/1.0&#39;</pre></td>
        </tr>
      
        <tr>
          <td>SERVER_SOFTWARE</td>
          <td class=""code""><pre>&#39;gunicorn/19.4.5&#39;</pre></td>
        </tr>
      
        <tr>
          <td>HTTP_AUTHORIZATION</td>
          <td class=""code""><pre>(&#39;Bearer &#39;
 &#39;eyJ1c2VyX2F1dGhlbnRpY2F0aW9uX2lkIjo1fQ:1cRF6j:a3HoN12IGXr7KClc1m4d1r_5H60&#39;)</pre></td>
        </tr>
      
        <tr>
          <td>HTTP_X_SESSION_ID</td>
          <td class=""code""><pre>&#39;9293fb651f227190d912f4545de98b9689dec865&#39;</pre></td>
        </tr>
      
        <tr>
          <td>HTTP_X_SCHEME</td>
          <td class=""code""><pre>&#39;http&#39;</pre></td>
        </tr>
      
        <tr>
          <td>SCRIPT_NAME</td>
          <td class=""code""><pre>&#39;&#39;</pre></td>
        </tr>
      
        <tr>
          <td>HTTP_ACCEPT_ENCODING</td>
          <td class=""code""><pre>&#39;gzip, deflate&#39;</pre></td>
        </tr>
      
        <tr>
          <td>QUERY_STRING</td>
          <td class=""code""><pre>&#39;&#39;</pre></td>
        </tr>
      
        <tr>
          <td>CONTENT_TYPE</td>
          <td class=""code""><pre>&#39;application/json&#39;</pre></td>
        </tr>
      
        <tr>
          <td>HTTP_ACCEPT</td>
          <td class=""code""><pre>&#39;application/json, text/plain, */*&#39;</pre></td>
        </tr>
      
        <tr>
          <td>HTTP_REFERER</td>
          <td class=""code""><pre>&#39;http://qualif.taiga.adventiel.com/project/project-1/admin/memberships&#39;</pre></td>
        </tr>
      
        <tr>
          <td>REMOTE_ADDR</td>
          <td class=""code""><pre>&#39;127.0.0.1&#39;</pre></td>
        </tr>
      
        <tr>
          <td>wsgi.file_wrapper</td>
          <td class=""code""><pre>&#39;&#39;</pre></td>
        </tr>
      
        <tr>
          <td>HTTP_DNT</td>
          <td class=""code""><pre>&#39;1&#39;</pre></td>
        </tr>
      
        <tr>
          <td>HTTP_ACCEPT_LANGUAGE</td>
          <td class=""code""><pre>&#39;fr&#39;</pre></td>
        </tr>
      
        <tr>
          <td>PATH_INFO</td>
          <td class=""code""><pre>&#39;/api/v1/memberships/bulk_create&#39;</pre></td>
        </tr>
      
        <tr>
          <td>SERVER_NAME</td>
          <td class=""code""><pre>&#39;127.0.0.1&#39;</pre></td>
        </tr>
      
        <tr>
          <td>REQUEST_METHOD</td>
          <td class=""code""><pre>&#39;POST&#39;</pre></td>
        </tr>
      
        <tr>
          <td>wsgi.url_scheme</td>
          <td class=""code""><pre>&#39;http&#39;</pre></td>
        </tr>
      
        <tr>
          <td>HTTP_X_FORWARDED_PROTO</td>
          <td class=""code""><pre>&#39;http&#39;</pre></td>
        </tr>
      
        <tr>
          <td>wsgi.errors</td>
          <td class=""code""><pre>&lt;gunicorn.http.wsgi.WSGIErrorsWrapper object at 0x7f96bb03dac8&gt;</pre></td>
        </tr>
      
        <tr>
          <td>CONTENT_LENGTH</td>
          <td class=""code""><pre>&#39;92&#39;</pre></td>
        </tr>
      
        <tr>
          <td>wsgi.multiprocess</td>
          <td class=""code""><pre>True</pre></td>
        </tr>
      
        <tr>
          <td>HTTP_CONNECTION</td>
          <td class=""code""><pre>&#39;close&#39;</pre></td>
        </tr>
      
        <tr>
          <td>SERVER_PORT</td>
          <td class=""code""><pre>&#39;8001&#39;</pre></td>
        </tr>
      
        <tr>
          <td>HTTP_X_FORWARDED_FOR</td>
          <td class=""code""><pre>&#39;10.200.8.191&#39;</pre></td>
        </tr>
      
        <tr>
          <td>REMOTE_PORT</td>
          <td class=""code""><pre>&#39;47826&#39;</pre></td>
        </tr>
      
    </tbody>
  </table>


  <h3 id=""settings-info"">Settings</h3>
  <h4>Using settings module <code>settings</code></h4>
  <table class=""req"">
    <thead>
      <tr>
        <th>Setting</th>
        <th>Value</th>
      </tr>
    </thead>
    <tbody>
      
        <tr>
          <td>USE_I18N</td>
          <td class=""code""><pre>True</pre></td>
        </tr>
      
        <tr>
          <td>CSRF_TRUSTED_ORIGINS</td>
          <td class=""code""><pre>[]</pre></td>
        </tr>
      
        <tr>
          <td>SEARCHES_MAX_RESULTS</td>
          <td class=""code""><pre>150</pre></td>
        </tr>
      
        <tr>
          <td>CELERY_DEFAULT_EXCHANGE</td>
          <td class=""code""><pre>&#39;tasks&#39;</pre></td>
        </tr>
      
        <tr>
          <td>BASE_DIR</td>
          <td class=""code""><pre>&#39;/home/taiga/taiga-back&#39;</pre></td>
        </tr>
      
        <tr>
          <td>SECURE_BROWSER_XSS_FILTER</td>
          <td class=""code""><pre>False</pre></td>
        </tr>
      
        <tr>
          <td>EVENTS_PUSH_BACKEND</td>
          <td class=""code""><pre>&#39;taiga.events.backends.rabbitmq.EventsPushBackend&#39;</pre></td>
        </tr>
      
        <tr>
          <td>STATS_ENABLED</td>
          <td class=""code""><pre>False</pre></td>
        </tr>
      
        <tr>
          <td>DJMAIL_TEMPLATE_EXTENSION</td>
          <td class=""code""><pre>&#39;jinja&#39;</pre></td>
        </tr>
      
        <tr>
          <td>STATIC_URL</td>
          <td class=""code""><pre>&#39;http://qualif.taiga.adventiel.com/static/&#39;</pre></td>
        </tr>
      
        <tr>
          <td>CACHES</td>
          <td class=""code""><pre>{&#39;default&#39;: {&#39;BACKEND&#39;: &#39;django.core.cache.backends.locmem.LocMemCache&#39;,
             &#39;LOCATION&#39;: &#39;unique-snowflake&#39;}}</pre></td>
        </tr>
      
        <tr>
          <td>MESSAGE_STORAGE</td>
          <td class=""code""><pre>&#39;django.contrib.messages.storage.session.SessionStorage&#39;</pre></td>
        </tr>
      
        <tr>
          <td>SETTINGS_MODULE</td>
          <td class=""code""><pre>&#39;settings&#39;</pre></td>
        </tr>
      
        <tr>
          <td>TEMPLATE_STRING_IF_INVALID</td>
          <td class=""code""><pre>&#39;&#39;</pre></td>
        </tr>
      
        <tr>
          <td>WEBHOOKS_ENABLED</td>
          <td class=""code""><pre>False</pre></td>
        </tr>
      
        <tr>
          <td>FEEDBACK_EMAIL</td>
          <td class=""code""><pre>&#39;support@taiga.io&#39;</pre></td>
        </tr>
      
        <tr>
          <td>THOUSAND_SEPARATOR</td>
          <td class=""code""><pre>&#39;,&#39;</pre></td>
        </tr>
      
        <tr>
          <td>BROKER_URL</td>
          <td class=""code""><pre>&#39;amqp://guest:guest@localhost:5672//&#39;</pre></td>
        </tr>
      
        <tr>
          <td>THN_LOGO_SMALL</td>
          <td class=""code""><pre>&#39;logo-small&#39;</pre></td>
        </tr>
      
        <tr>
          <td>SECURE_HSTS_INCLUDE_SUBDOMAINS</td>
          <td class=""code""><pre>False</pre></td>
        </tr>
      
        <tr>
          <td>STATICFILES_DIRS</td>
          <td class=""code""><pre>()</pre></td>
        </tr>
      
        <tr>
          <td>TEMPLATE_LOADERS</td>
          <td class=""code""><pre>[&#39;django.template.loaders.filesystem.Loader&#39;,
 &#39;django.template.loaders.app_directories.Loader&#39;]</pre></td>
        </tr>
      
        <tr>
          <td>SECURE_PROXY_SSL_HEADER</td>
          <td class=""code""><pre>(&#39;HTTP_X_FORWARDED_PROTOCOL&#39;, &#39;https&#39;)</pre></td>
        </tr>
      
        <tr>
          <td>EXPORTS_TTL</td>
          <td class=""code""><pre>86400</pre></td>
        </tr>
      
        <tr>
          <td>THN_ATTACHMENT_TIMELINE</td>
          <td class=""code""><pre>&#39;timeline-image&#39;</pre></td>
        </tr>
      
        <tr>
          <td>EMAIL_TIMEOUT</td>
          <td class=""code""><pre>None</pre></td>
        </tr>
      
        <tr>
          <td>SECURE_SSL_REDIRECT</td>
          <td class=""code""><pre>False</pre></td>
        </tr>
      
        <tr>
          <td>IGNORABLE_404_URLS</td>
          <td class=""code""><pre>[]</pre></td>
        </tr>
      
        <tr>
          <td>CSRF_COOKIE_PATH</td>
          <td class=""code""><pre>&#39;/&#39;</pre></td>
        </tr>
      
        <tr>
          <td>IGNORABLE_404_ENDS</td>
          <td class=""code""><pre>(&#39;.php&#39;, &#39;.cgi&#39;)</pre></td>
        </tr>
      
        <tr>
          <td>SESSION_COOKIE_HTTPONLY</td>
          <td class=""code""><pre>True</pre></td>
        </tr>
      
        <tr>
          <td>SILENCED_SYSTEM_CHECKS</td>
          <td class=""code""><pre>[]</pre></td>
        </tr>
      
        <tr>
          <td>FEEDBACK_ENABLED</td>
          <td class=""code""><pre>True</pre></td>
        </tr>
      
        <tr>
          <td>PREPEND_WWW</td>
          <td class=""code""><pre>False</pre></td>
        </tr>
      
        <tr>
          <td>CSRF_COOKIE_SECURE</td>
          <td class=""code""><pre>False</pre></td>
        </tr>
      
        <tr>
          <td>THN_TIMELINE_IMAGE_SIZE</td>
          <td class=""code""><pre>640</pre></td>
        </tr>
      
        <tr>
          <td>ROOT_URLCONF</td>
          <td class=""code""><pre>&#39;taiga.urls&#39;</pre></td>
        </tr>
      
        <tr>
          <td>SESSION_COOKIE_SECURE</td>
          <td class=""code""><pre>False</pre></td>
        </tr>
      
        <tr>
          <td>MAX_AGE_AUTH_TOKEN</td>
          <td class=""code""><pre>&#39;********************&#39;</pre></td>
        </tr>
      
        <tr>
          <td>PASSWORD_RESET_TIMEOUT_DAYS</td>
          <td class=""code""><pre>&#39;********************&#39;</pre></td>
        </tr>
      
        <tr>
          <td>MIDDLEWARE_CLASSES</td>
          <td class=""code""><pre>[&#39;taiga.base.middleware.cors.CoorsMiddleware&#39;,
 &#39;taiga.events.middleware.SessionIDMiddleware&#39;,
 &#39;django.middleware.common.CommonMiddleware&#39;,
 &#39;django.middleware.locale.LocaleMiddleware&#39;,
 &#39;django.contrib.sessions.middleware.SessionMiddleware&#39;,
 &#39;django.contrib.auth.middleware.AuthenticationMiddleware&#39;,
 &#39;django.contrib.messages.middleware.MessageMiddleware&#39;]</pre></td>
        </tr>
      
        <tr>
          <td>DEFAULT_FROM_EMAIL</td>
          <td class=""code""><pre>&#39;taiga@adventiel.fr&#39;</pre></td>
        </tr>
      
        <tr>
          <td>THN_AVATAR_SMALL</td>
          <td class=""code""><pre>&#39;avatar&#39;</pre></td>
        </tr>
      
        <tr>
          <td>LOCALE_PATHS</td>
          <td class=""code""><pre>(&#39;/home/taiga/taiga-back/locale&#39;, &#39;/home/taiga/taiga-back/taiga/locale&#39;)</pre></td>
        </tr>
      
        <tr>
          <td>SESSION_SAVE_EVERY_REQUEST</td>
          <td class=""code""><pre>False</pre></td>
        </tr>
      
        <tr>
          <td>EMAIL_BACKEND</td>
          <td class=""code""><pre>&#39;django.core.mail.backends.smtp.EmailBackend&#39;</pre></td>
        </tr>
      
        <tr>
          <td>THN_CARD_IMAGE_WIDTH</td>
          <td class=""code""><pre>300</pre></td>
        </tr>
      
        <tr>
          <td>MAX_AGE_CANCEL_ACCOUNT</td>
          <td class=""code""><pre>2592000</pre></td>
        </tr>
      
        <tr>
          <td>SITE_ID</td>
          <td class=""code""><pre>&#39;api&#39;</pre></td>
        </tr>
      
        <tr>
          <td>SESSION_FILE_PATH</td>
          <td class=""code""><pre>None</pre></td>
        </tr>
      
        <tr>
          <td>EMAIL_SUBJECT_PREFIX</td>
          <td class=""code""><pre>&#39;[Django] &#39;</pre></td>
        </tr>
      
        <tr>
          <td>DATABASE_ROUTERS</td>
          <td class=""code""><pre>[]</pre></td>
        </tr>
      
        <tr>
          <td>DEFAULT_TABLESPACE</td>
          <td class=""code""><pre>&#39;&#39;</pre></td>
        </tr>
      
        <tr>
          <td>SECURE_SSL_HOST</td>
          <td class=""code""><pre>None</pre></td>
        </tr>
      
        <tr>
          <td>CSRF_HEADER_NAME</td>
          <td class=""code""><pre>&#39;HTTP_X_CSRFTOKEN&#39;</pre></td>
        </tr>
      
        <tr>
          <td>THN_LOGO_BIG_SIZE</td>
          <td class=""code""><pre>300</pre></td>
        </tr>
      
        <tr>
          <td>SESSION_COOKIE_PATH</td>
          <td class=""code""><pre>&#39;/&#39;</pre></td>
        </tr>
      
        <tr>
          <td>DEFAULT_PROJECT_TEMPLATE</td>
          <td class=""code""><pre>&#39;scrum&#39;</pre></td>
        </tr>
      
        <tr>
          <td>LOGIN_REDIRECT_URL</td>
          <td class=""code""><pre>&#39;/accounts/profile/&#39;</pre></td>
        </tr>
      
        <tr>
          <td>LANGUAGE_COOKIE_AGE</td>
          <td class=""code""><pre>None</pre></td>
        </tr>
      
        <tr>
          <td>DEFAULT_INDEX_TABLESPACE</td>
          <td class=""code""><pre>&#39;&#39;</pre></td>
        </tr>
      
        <tr>
          <td>AUTHENTICATION_BACKENDS</td>
          <td class=""code""><pre>(&#39;django.contrib.auth.backends.ModelBackend&#39;,)</pre></td>
        </tr>
      
        <tr>
          <td>MAX_MEMBERSHIPS_PRIVATE_PROJECTS</td>
          <td class=""code""><pre>None</pre></td>
        </tr>
      
        <tr>
          <td>CACHE_MIDDLEWARE_SECONDS</td>
          <td class=""code""><pre>600</pre></td>
        </tr>
      
        <tr>
          <td>LANGUAGE_COOKIE_NAME</td>
          <td class=""code""><pre>&#39;django_language&#39;</pre></td>
        </tr>
      
        <tr>
          <td>DEBUG</td>
          <td class=""code""><pre>True</pre></td>
        </tr>
      
        <tr>
          <td>ADMINS</td>
          <td class=""code""><pre>((&#39;Rémy Garrigue&#39;, &#39;remy.garrigue@adventiel.fr&#39;),)</pre></td>
        </tr>
      
        <tr>
          <td>TIME_INPUT_FORMATS</td>
          <td class=""code""><pre>[&#39;%H:%M:%S&#39;, &#39;%H:%M:%S.%f&#39;, &#39;%H:%M&#39;]</pre></td>
        </tr>
      
        <tr>
          <td>AUTH_USER_MODEL</td>
          <td class=""code""><pre>&#39;users.User&#39;</pre></td>
        </tr>
      
        <tr>
          <td>GITLAB_VALID_ORIGIN_IPS</td>
          <td class=""code""><pre>[]</pre></td>
        </tr>
      
        <tr>
          <td>SESSION_COOKIE_DOMAIN</td>
          <td class=""code""><pre>None</pre></td>
        </tr>
      
        <tr>
          <td>X_FRAME_OPTIONS</td>
          <td class=""code""><pre>&#39;SAMEORIGIN&#39;</pre></td>
        </tr>
      
        <tr>
          <td>THN_AVATAR_SIZE</td>
          <td class=""code""><pre>80</pre></td>
        </tr>
      
        <tr>
          <td>EMAIL_HOST</td>
          <td class=""code""><pre>&#39;localhost&#39;</pre></td>
        </tr>
      
        <tr>
          <td>LOGGING</td>
          <td class=""code""><pre>{&#39;disable_existing_loggers&#39;: True,
 &#39;filters&#39;: {&#39;require_debug_false&#39;: {&#39;()&#39;: &#39;django.utils.log.RequireDebugFalse&#39;}},
 &#39;formatters&#39;: {&#39;complete&#39;: {&#39;format&#39;: &#39;%(levelname)s:%(asctime)s:%(module)s &#39;
                                       &#39;%(message)s&#39;},
                &#39;null&#39;: {&#39;format&#39;: &#39;%(message)s&#39;},
                &#39;simple&#39;: {&#39;format&#39;: &#39;%(levelname)s:%(asctime)s: %(message)s&#39;}},
 &#39;handlers&#39;: {&#39;console&#39;: {&#39;class&#39;: &#39;logging.StreamHandler&#39;,
                          &#39;formatter&#39;: &#39;simple&#39;,
                          &#39;level&#39;: &#39;DEBUG&#39;},
              &#39;mail_admins&#39;: {&#39;class&#39;: &#39;django.utils.log.AdminEmailHandler&#39;,
                              &#39;filters&#39;: [&#39;require_debug_false&#39;],
                              &#39;level&#39;: &#39;ERROR&#39;},
              &#39;null&#39;: {&#39;class&#39;: &#39;logging.NullHandler&#39;, &#39;level&#39;: &#39;DEBUG&#39;}},
 &#39;loggers&#39;: {&#39;django&#39;: {&#39;handlers&#39;: [&#39;null&#39;],
                        &#39;level&#39;: &#39;INFO&#39;,
                        &#39;propagate&#39;: True},
             &#39;django.request&#39;: {&#39;handlers&#39;: [&#39;mail_admins&#39;, &#39;console&#39;],
                                &#39;level&#39;: &#39;ERROR&#39;,
                                &#39;propagate&#39;: False},
             &#39;taiga&#39;: {&#39;handlers&#39;: [&#39;console&#39;],
                       &#39;level&#39;: &#39;DEBUG&#39;,
                       &#39;propagate&#39;: False},
             &#39;taiga.export_import&#39;: {&#39;handlers&#39;: [&#39;mail_admins&#39;, &#39;console&#39;],
                                     &#39;level&#39;: &#39;ERROR&#39;,
                                     &#39;propagate&#39;: False}},
 &#39;version&#39;: 1}</pre></td>
        </tr>
      
        <tr>
          <td>APPEND_SLASH</td>
          <td class=""code""><pre>False</pre></td>
        </tr>
      
        <tr>
          <td>USE_THOUSAND_SEPARATOR</td>
          <td class=""code""><pre>False</pre></td>
        </tr>
      
        <tr>
          <td>DJMAIL_SEND_ASYNC</td>
          <td class=""code""><pre>True</pre></td>
        </tr>
      
        <tr>
          <td>PASSWORD_HASHERS</td>
          <td class=""code""><pre>&#39;********************&#39;</pre></td>
        </tr>
      
        <tr>
          <td>THN_LOGO_BIG</td>
          <td class=""code""><pre>&#39;logo-big&#39;</pre></td>
        </tr>
      
        <tr>
          <td>DJMAIL_REAL_BACKEND</td>
          <td class=""code""><pre>&#39;django.core.mail.backends.console.EmailBackend&#39;</pre></td>
        </tr>
      
        <tr>
          <td>MAX_MEMBERSHIPS_PUBLIC_PROJECTS</td>
          <td class=""code""><pre>None</pre></td>
        </tr>
      
        <tr>
          <td>USE_L10N</td>
          <td class=""code""><pre>True</pre></td>
        </tr>
      
        <tr>
          <td>THN_ATTACHMENT_CARD</td>
          <td class=""code""><pre>&#39;card-image&#39;</pre></td>
        </tr>
      
        <tr>
          <td>FILE_UPLOAD_MAX_MEMORY_SIZE</td>
          <td class=""code""><pre>2621440</pre></td>
        </tr>
      
        <tr>
          <td>EXTRA_BLOCKING_CODES</td>
          <td class=""code""><pre>[]</pre></td>
        </tr>
      
        <tr>
          <td>DATE_FORMAT</td>
          <td class=""code""><pre>&#39;N j, Y&#39;</pre></td>
        </tr>
      
        <tr>
          <td>APP_EXTRA_EXPOSE_HEADERS</td>
          <td class=""code""><pre>[&#39;taiga-info-total-opened-milestones&#39;,
 &#39;taiga-info-total-closed-milestones&#39;,
 &#39;taiga-info-project-memberships&#39;,
 &#39;taiga-info-project-is-private&#39;,
 &#39;taiga-info-order-updated&#39;]</pre></td>
        </tr>
      
        <tr>
          <td>CSRF_FAILURE_VIEW</td>
          <td class=""code""><pre>&#39;django.views.csrf.csrf_failure&#39;</pre></td>
        </tr>
      
        <tr>
          <td>CHANGE_NOTIFICATIONS_MIN_INTERVAL</td>
          <td class=""code""><pre>0</pre></td>
        </tr>
      
        <tr>
          <td>TEMPLATE_DEBUG</td>
          <td class=""code""><pre>True</pre></td>
        </tr>
      
        <tr>
          <td>LANGUAGES</td>
          <td class=""code""><pre>[(&#39;ca&#39;, &#39;Català&#39;),
 (&#39;de&#39;, &#39;Deutsch&#39;),
 (&#39;en&#39;, &#39;English (US)&#39;),
 (&#39;es&#39;, &#39;Español&#39;),
 (&#39;fi&#39;, &#39;Suomi&#39;),
 (&#39;fr&#39;, &#39;Français&#39;),
 (&#39;it&#39;, &#39;Italiano&#39;),
 (&#39;nb&#39;, &#39;Norsk (bokmål)&#39;),
 (&#39;nl&#39;, &#39;Nederlands&#39;),
 (&#39;pl&#39;, &#39;Polski&#39;),
 (&#39;pt-br&#39;, &#39;Português (Brasil)&#39;),
 (&#39;ru&#39;, &#39;Русский&#39;),
 (&#39;sv&#39;, &#39;Svenska&#39;),
 (&#39;tr&#39;, &#39;Türkçe&#39;),
 (&#39;zh-hant&#39;, &#39;中文(香港)&#39;)]</pre></td>
        </tr>
      
        <tr>
          <td>THN_AVATAR_BIG_SIZE</td>
          <td class=""code""><pre>300</pre></td>
        </tr>
      
        <tr>
          <td>PROJECT_MODULES_CONFIGURATORS</td>
          <td class=""code""><pre>{&#39;bitbucket&#39;: &#39;taiga.hooks.bitbucket.services.get_or_generate_config&#39;,
 &#39;github&#39;: &#39;taiga.hooks.github.services.get_or_generate_config&#39;,
 &#39;gitlab&#39;: &#39;taiga.hooks.gitlab.services.get_or_generate_config&#39;,
 &#39;gogs&#39;: &#39;taiga.hooks.gogs.services.get_or_generate_config&#39;}</pre></td>
        </tr>
      
        <tr>
          <td>ALLOWED_HOSTS</td>
          <td class=""code""><pre>[&#39;*&#39;]</pre></td>
        </tr>
      
        <tr>
          <td>LOGGING_CONFIG</td>
          <td class=""code""><pre>&#39;logging.config.dictConfig&#39;</pre></td>
        </tr>
      
        <tr>
          <td>SECRET_KEY</td>
          <td class=""code""><pre>&#39;********************&#39;</pre></td>
        </tr>
      
        <tr>
          <td>CELERY_ENABLE_UTC</td>
          <td class=""code""><pre>True</pre></td>
        </tr>
      
        <tr>
          <td>THN_AVATAR_BIG</td>
          <td class=""code""><pre>&#39;big-avatar&#39;</pre></td>
        </tr>
      
        <tr>
          <td>CSRF_COOKIE_DOMAIN</td>
          <td class=""code""><pre>None</pre></td>
        </tr>
      
        <tr>
          <td>THUMBNAIL_ALIASES</td>
          <td class=""code""><pre>{&#39;&#39;: {&#39;avatar&#39;: {&#39;crop&#39;: True, &#39;size&#39;: (80, 80)},
      &#39;big-avatar&#39;: {&#39;crop&#39;: True, &#39;size&#39;: (300, 300)},
      &#39;card-image&#39;: {&#39;crop&#39;: True, &#39;size&#39;: (300, 200)},
      &#39;logo-big&#39;: {&#39;crop&#39;: True, &#39;size&#39;: (300, 300)},
      &#39;logo-small&#39;: {&#39;crop&#39;: True, &#39;size&#39;: (80, 80)},
      &#39;timeline-image&#39;: {&#39;crop&#39;: True, &#39;size&#39;: (640, 0)}}}</pre></td>
        </tr>
      
        <tr>
          <td>THN_CARD_IMAGE_HEIGHT</td>
          <td class=""code""><pre>200</pre></td>
        </tr>
      
        <tr>
          <td>USE_ETAGS</td>
          <td class=""code""><pre>False</pre></td>
        </tr>
      
        <tr>
          <td>SERVER_EMAIL</td>
          <td class=""code""><pre>&#39;root@localhost&#39;</pre></td>
        </tr>
      
        <tr>
          <td>EMAIL_SSL_KEYFILE</td>
          <td class=""code""><pre>&#39;********************&#39;</pre></td>
        </tr>
      
        <tr>
          <td>THN_LOGO_SMALL_SIZE</td>
          <td class=""code""><pre>80</pre></td>
        </tr>
      
        <tr>
          <td>SESSION_COOKIE_AGE</td>
          <td class=""code""><pre>1209600</pre></td>
        </tr>
      
        <tr>
          <td>STATICFILES_FINDERS</td>
          <td class=""code""><pre>[&#39;django.contrib.staticfiles.finders.FileSystemFinder&#39;,
 &#39;django.contrib.staticfiles.finders.AppDirectoriesFinder&#39;]</pre></td>
        </tr>
      
        <tr>
          <td>LANGUAGE_COOKIE_DOMAIN</td>
          <td class=""code""><pre>None</pre></td>
        </tr>
      
        <tr>
          <td>EMAIL_HOST_PASSWORD</td>
          <td class=""code""><pre>&#39;********************&#39;</pre></td>
        </tr>
      
        <tr>
          <td>STATICFILES_STORAGE</td>
          <td class=""code""><pre>&#39;django.contrib.staticfiles.storage.StaticFilesStorage&#39;</pre></td>
        </tr>
      
        <tr>
          <td>TEMPLATE_DIRS</td>
          <td class=""code""><pre>[]</pre></td>
        </tr>
      
        <tr>
          <td>TAGS_PREDEFINED_COLORS</td>
          <td class=""code""><pre>[&#39;#fce94f&#39;,
 &#39;#edd400&#39;,
 &#39;#c4a000&#39;,
 &#39;#8ae234&#39;,
 &#39;#73d216&#39;,
 &#39;#4e9a06&#39;,
 &#39;#d3d7cf&#39;,
 &#39;#fcaf3e&#39;,
 &#39;#f57900&#39;,
 &#39;#ce5c00&#39;,
 &#39;#729fcf&#39;,
 &#39;#3465a4&#39;,
 &#39;#204a87&#39;,
 &#39;#888a85&#39;,
 &#39;#ad7fa8&#39;,
 &#39;#75507b&#39;,
 &#39;#5c3566&#39;,
 &#39;#ef2929&#39;,
 &#39;#cc0000&#39;,
 &#39;#a40000&#39;,
 &#39;#2e3436&#39;]</pre></td>
        </tr>
      
        <tr>
          <td>USE_X_FORWARDED_HOST</td>
          <td class=""code""><pre>True</pre></td>
        </tr>
      
        <tr>
          <td>FORMAT_MODULE_PATH</td>
          <td class=""code""><pre>&#39;taiga.base.formats&#39;</pre></td>
        </tr>
      
        <tr>
          <td>SECURE_CONTENT_TYPE_NOSNIFF</td>
          <td class=""code""><pre>False</pre></td>
        </tr>
      
        <tr>
          <td>DATABASES</td>
          <td class=""code""><pre>{&#39;default&#39;: {&#39;ATOMIC_REQUESTS&#39;: False,
             &#39;AUTOCOMMIT&#39;: True,
             &#39;CONN_MAX_AGE&#39;: 0,
             &#39;ENGINE&#39;: &#39;django.db.backends.postgresql&#39;,
             &#39;HOST&#39;: &#39;localhost&#39;,
             &#39;NAME&#39;: &#39;taiga&#39;,
             &#39;OPTIONS&#39;: {},
             &#39;PASSWORD&#39;: &#39;********************&#39;,
             &#39;PORT&#39;: &#39;5432&#39;,
             &#39;TEST&#39;: {&#39;CHARSET&#39;: None,
                      &#39;COLLATION&#39;: None,
                      &#39;MIRROR&#39;: None,
                      &#39;NAME&#39;: None},
             &#39;TIME_ZONE&#39;: None,
             &#39;USER&#39;: &#39;taiga&#39;}}</pre></td>
        </tr>
      
        <tr>
          <td>MANAGERS</td>
          <td class=""code""><pre>[]</pre></td>
        </tr>
      
        <tr>
          <td>BITBUCKET_VALID_ORIGIN_IPS</td>
          <td class=""code""><pre>[&#39;131.103.20.165&#39;, &#39;131.103.20.166&#39;, &#39;104.192.143.192/28&#39;, &#39;104.192.143.208/28&#39;]</pre></td>
        </tr>
      
        <tr>
          <td>SIGNING_BACKEND</td>
          <td class=""code""><pre>&#39;django.core.signing.TimestampSigner&#39;</pre></td>
        </tr>
      
        <tr>
          <td>TEST_RUNNER</td>
          <td class=""code""><pre>&#39;django.test.runner.DiscoverRunner&#39;</pre></td>
        </tr>
      
        <tr>
          <td>EMAIL_USE_TLS</td>
          <td class=""code""><pre>False</pre></td>
        </tr>
      
        <tr>
          <td>TIME_FORMAT</td>
          <td class=""code""><pre>&#39;P&#39;</pre></td>
        </tr>
      
        <tr>
          <td>CSRF_COOKIE_AGE</td>
          <td class=""code""><pre>31449600</pre></td>
        </tr>
      
        <tr>
          <td>CELERY_ENABLED</td>
          <td class=""code""><pre>False</pre></td>
        </tr>
      
        <tr>
          <td>FILE_UPLOAD_PERMISSIONS</td>
          <td class=""code""><pre>None</pre></td>
        </tr>
      
        <tr>
          <td>FRONT_SITEMAP_ENABLED</td>
          <td class=""code""><pre>False</pre></td>
        </tr>
      
        <tr>
          <td>DATETIME_FORMAT</td>
          <td class=""code""><pre>&#39;N j, Y, P&#39;</pre></td>
        </tr>
      
        <tr>
          <td>SESSION_SERIALIZER</td>
          <td class=""code""><pre>&#39;django.contrib.sessions.serializers.JSONSerializer&#39;</pre></td>
        </tr>
      
        <tr>
          <td>LANGUAGE_CODE</td>
          <td class=""code""><pre>&#39;en-us&#39;</pre></td>
        </tr>
      
        <tr>
          <td>DJMAIL_MAX_RETRY_NUMBER</td>
          <td class=""code""><pre>3</pre></td>
        </tr>
      
        <tr>
          <td>CACHE_MIDDLEWARE_ALIAS</td>
          <td class=""code""><pre>&#39;default&#39;</pre></td>
        </tr>
      
        <tr>
          <td>LOGIN_URL</td>
          <td class=""code""><pre>&#39;/auth/login/&#39;</pre></td>
        </tr>
      
        <tr>
          <td>INTERNAL_IPS</td>
          <td class=""code""><pre>[]</pre></td>
        </tr>
      
        <tr>
          <td>CSRF_COOKIE_NAME</td>
          <td class=""code""><pre>&#39;csrftoken&#39;</pre></td>
        </tr>
      
        <tr>
          <td>FIRST_DAY_OF_WEEK</td>
          <td class=""code""><pre>0</pre></td>
        </tr>
      
        <tr>
          <td>DATE_INPUT_FORMATS</td>
          <td class=""code""><pre>(&#39;%Y-%m-%d&#39;,
 &#39;%m/%d/%Y&#39;,
 &#39;%d/%m/%Y&#39;,
 &#39;%b %d %Y&#39;,
 &#39;%b %d, %Y&#39;,
 &#39;%d %b %Y&#39;,
 &#39;%d %b, %Y&#39;,
 &#39;%B %d %Y&#39;,
 &#39;%B %d, %Y&#39;,
 &#39;%d %B %Y&#39;,
 &#39;%d %B, %Y&#39;)</pre></td>
        </tr>
      
        <tr>
          <td>INSTALLED_APPS</td>
          <td class=""code""><pre>[&#39;django.contrib.auth&#39;,
 &#39;django.contrib.contenttypes&#39;,
 &#39;django.contrib.sessions&#39;,
 &#39;django.contrib.messages&#39;,
 &#39;django.contrib.admin&#39;,
 &#39;django.contrib.staticfiles&#39;,
 &#39;django.contrib.sitemaps&#39;,
 &#39;taiga.base&#39;,
 &#39;taiga.base.api&#39;,
 &#39;taiga.locale&#39;,
 &#39;taiga.events&#39;,
 &#39;taiga.front&#39;,
 &#39;taiga.users&#39;,
 &#39;taiga.userstorage&#39;,
 &#39;taiga.external_apps&#39;,
 &#39;taiga.projects&#39;,
 &#39;taiga.projects.references&#39;,
 &#39;taiga.projects.custom_attributes&#39;,
 &#39;taiga.projects.history&#39;,
 &#39;taiga.projects.notifications&#39;,
 &#39;taiga.projects.attachments&#39;,
 &#39;taiga.projects.likes&#39;,
 &#39;taiga.projects.votes&#39;,
 &#39;taiga.projects.milestones&#39;,
 &#39;taiga.projects.epics&#39;,
 &#39;taiga.projects.userstories&#39;,
 &#39;taiga.projects.tasks&#39;,
 &#39;taiga.projects.issues&#39;,
 &#39;taiga.projects.wiki&#39;,
 &#39;taiga.searches&#39;,
 &#39;taiga.timeline&#39;,
 &#39;taiga.mdrender&#39;,
 &#39;taiga.export_import&#39;,
 &#39;taiga.feedback&#39;,
 &#39;taiga.stats&#39;,
 &#39;taiga.hooks.github&#39;,
 &#39;taiga.hooks.gitlab&#39;,
 &#39;taiga.hooks.bitbucket&#39;,
 &#39;taiga.hooks.gogs&#39;,
 &#39;taiga.webhooks&#39;,
 &#39;djmail&#39;,
 &#39;django_jinja&#39;,
 &#39;django_jinja.contrib._humanize&#39;,
 &#39;sr&#39;,
 &#39;easy_thumbnails&#39;,
 &#39;raven.contrib.django.raven_compat&#39;]</pre></td>
        </tr>
      
        <tr>
          <td>REST_FRAMEWORK</td>
          <td class=""code""><pre>{&#39;DATETIME_FORMAT&#39;: &#39;%Y-%m-%dT%H:%M:%S%z&#39;,
 &#39;DEFAULT_AUTHENTICATION_CLASSES&#39;: (&#39;taiga.auth.backends.Token&#39;,
                                    &#39;taiga.auth.backends.Session&#39;,
                                    &#39;taiga.external_apps.auth_backends.Token&#39;),
 &#39;DEFAULT_THROTTLE_CLASSES&#39;: (&#39;taiga.base.throttling.AnonRateThrottle&#39;,
                              &#39;taiga.base.throttling.UserRateThrottle&#39;),
 &#39;DEFAULT_THROTTLE_RATES&#39;: {&#39;anon&#39;: None,
                            &#39;create-memberships&#39;: None,
                            &#39;import-dump-mode&#39;: &#39;1/minute&#39;,
                            &#39;import-mode&#39;: None,
                            &#39;user&#39;: None},
 &#39;EXCEPTION_HANDLER&#39;: &#39;taiga.base.exceptions.exception_handler&#39;,
 &#39;FILTER_BACKEND&#39;: &#39;taiga.base.filters.FilterBackend&#39;,
 &#39;MAX_PAGINATE_BY&#39;: 1000,
 &#39;PAGINATE_BY&#39;: 30,
 &#39;PAGINATE_BY_PARAM&#39;: &#39;page_size&#39;}</pre></td>
        </tr>
      
        <tr>
          <td>MEDIA_ROOT</td>
          <td class=""code""><pre>&#39;/home/taiga/taiga-back/media&#39;</pre></td>
        </tr>
      
        <tr>
          <td>IGNORABLE_404_STARTS</td>
          <td class=""code""><pre>(&#39;/phpmyadmin/&#39;,)</pre></td>
        </tr>
      
        <tr>
          <td>SITES</td>
          <td class=""code""><pre>{&#39;api&#39;: {&#39;domain&#39;: &#39;localhost:8000&#39;, &#39;name&#39;: &#39;api&#39;, &#39;scheme&#39;: &#39;http&#39;},
 &#39;front&#39;: {&#39;domain&#39;: &#39;qualif.taiga.adventiel.com&#39;,
           &#39;name&#39;: &#39;front&#39;,
           &#39;scheme&#39;: &#39;http&#39;}}</pre></td>
        </tr>
      
        <tr>
          <td>YEAR_MONTH_FORMAT</td>
          <td class=""code""><pre>&#39;F Y&#39;</pre></td>
        </tr>
      
        <tr>
          <td>FIXTURE_DIRS</td>
          <td class=""code""><pre>[]</pre></td>
        </tr>
      
        <tr>
          <td>USE_X_FORWARDED_PORT</td>
          <td class=""code""><pre>False</pre></td>
        </tr>
      
        <tr>
          <td>EMAIL_USE_SSL</td>
          <td class=""code""><pre>False</pre></td>
        </tr>
      
        <tr>
          <td>USER_EMAIL_ALLOWED_DOMAINS</td>
          <td class=""code""><pre>None</pre></td>
        </tr>
      
        <tr>
          <td>MIGRATION_MODULES</td>
          <td class=""code""><pre>{}</pre></td>
        </tr>
      
        <tr>
          <td>USE_TZ</td>
          <td class=""code""><pre>True</pre></td>
        </tr>
      
        <tr>
          <td>SESSION_CACHE_ALIAS</td>
          <td class=""code""><pre>&#39;default&#39;</pre></td>
        </tr>
      
        <tr>
          <td>EMAIL_SSL_CERTFILE</td>
          <td class=""code""><pre>None</pre></td>
        </tr>
      
        <tr>
          <td>TEST_NON_SERIALIZED_APPS</td>
          <td class=""code""><pre>[]</pre></td>
        </tr>
      
        <tr>
          <td>ATOMIC_REQUESTS</td>
          <td class=""code""><pre>True</pre></td>
        </tr>
      
        <tr>
          <td>NUMBER_GROUPING</td>
          <td class=""code""><pre>0</pre></td>
        </tr>
      
        <tr>
          <td>DECIMAL_SEPARATOR</td>
          <td class=""code""><pre>&#39;.&#39;</pre></td>
        </tr>
      
        <tr>
          <td>MAX_PENDING_MEMBERSHIPS</td>
          <td class=""code""><pre>30</pre></td>
        </tr>
      
        <tr>
          <td>CACHE_MIDDLEWARE_KEY_PREFIX</td>
          <td class=""code""><pre>&#39;********************&#39;</pre></td>
        </tr>
      
        <tr>
          <td>CELERY_DEFAULT_ROUTING_KEY</td>
          <td class=""code""><pre>&#39;********************&#39;</pre></td>
        </tr>
      
        <tr>
          <td>LANGUAGE_COOKIE_PATH</td>
          <td class=""code""><pre>&#39;/&#39;</pre></td>
        </tr>
      
        <tr>
          <td>CELERY_TIMEZONE</td>
          <td class=""code""><pre>&#39;Europe/Madrid&#39;</pre></td>
        </tr>
      
        <tr>
          <td>CELERY_DEFAULT_EXCHANGE_TYPE</td>
          <td class=""code""><pre>&#39;topic&#39;</pre></td>
        </tr>
      
        <tr>
          <td>AUTH_PASSWORD_VALIDATORS</td>
          <td class=""code""><pre>&#39;********************&#39;</pre></td>
        </tr>
      
        <tr>
          <td>SHORT_DATETIME_FORMAT</td>
          <td class=""code""><pre>&#39;m/d/Y P&#39;</pre></td>
        </tr>
      
        <tr>
          <td>SR</td>
          <td class=""code""><pre>{&#39;social&#39;: {&#39;github_url&#39;: &#39;https://github.com/taigaio&#39;,
            &#39;twitter_url&#39;: &#39;https://twitter.com/taigaio&#39;},
 &#39;support&#39;: {&#39;email&#39;: &#39;support@taiga.io&#39;,
             &#39;mailing_list&#39;: &#39;https://groups.google.com/forum/#!forum/taigaio&#39;,
             &#39;url&#39;: &#39;https://tree.taiga.io/support&#39;},
 &#39;taigaio_url&#39;: &#39;https://taiga.io&#39;}</pre></td>
        </tr>
      
        <tr>
          <td>FORCE_SCRIPT_NAME</td>
          <td class=""code""><pre>None</pre></td>
        </tr>
      
        <tr>
          <td>SECURE_REDIRECT_EXEMPT</td>
          <td class=""code""><pre>[]</pre></td>
        </tr>
      
        <tr>
          <td>ALLOWED_INCLUDE_ROOTS</td>
          <td class=""code""><pre>[]</pre></td>
        </tr>
      
        <tr>
          <td>FILE_UPLOAD_TEMP_DIR</td>
          <td class=""code""><pre>None</pre></td>
        </tr>
      
        <tr>
          <td>SECURE_HSTS_SECONDS</td>
          <td class=""code""><pre>0</pre></td>
        </tr>
      
        <tr>
          <td>TIME_ZONE</td>
          <td class=""code""><pre>&#39;UTC&#39;</pre></td>
        </tr>
      
        <tr>
          <td>STATIC_ROOT</td>
          <td class=""code""><pre>&#39;/home/taiga/taiga-back/static&#39;</pre></td>
        </tr>
      
        <tr>
          <td>EMAIL_PORT</td>
          <td class=""code""><pre>25</pre></td>
        </tr>
      
        <tr>
          <td>SEND_BROKEN_LINK_EMAILS</td>
          <td class=""code""><pre>True</pre></td>
        </tr>
      
        <tr>
          <td>SHORT_DATE_FORMAT</td>
          <td class=""code""><pre>&#39;m/d/Y&#39;</pre></td>
        </tr>
      
        <tr>
          <td>CELERY_DEFAULT_QUEUE</td>
          <td class=""code""><pre>&#39;tasks&#39;</pre></td>
        </tr>
      
        <tr>
          <td>DEFAULT_EXCEPTION_REPORTER_FILTER</td>
          <td class=""code""><pre>&#39;django.views.debug.SafeExceptionReporterFilter&#39;</pre></td>
        </tr>
      
        <tr>
          <td>MEDIA_URL</td>
          <td class=""code""><pre>&#39;http://qualif.taiga.adventiel.com/media/&#39;</pre></td>
        </tr>
      
        <tr>
          <td>ABSOLUTE_URL_OVERRIDES</td>
          <td class=""code""><pre>{}</pre></td>
        </tr>
      
        <tr>
          <td>DATETIME_INPUT_FORMATS</td>
          <td class=""code""><pre>[&#39;%Y-%m-%d %H:%M:%S&#39;,
 &#39;%Y-%m-%d %H:%M:%S.%f&#39;,
 &#39;%Y-%m-%d %H:%M&#39;,
 &#39;%Y-%m-%d&#39;,
 &#39;%m/%d/%Y %H:%M:%S&#39;,
 &#39;%m/%d/%Y %H:%M:%S.%f&#39;,
 &#39;%m/%d/%Y %H:%M&#39;,
 &#39;%m/%d/%Y&#39;,
 &#39;%m/%d/%y %H:%M:%S&#39;,
 &#39;%m/%d/%y %H:%M:%S.%f&#39;,
 &#39;%m/%d/%y %H:%M&#39;,
 &#39;%m/%d/%y&#39;]</pre></td>
        </tr>
      
        <tr>
          <td>DEFAULT_CHARSET</td>
          <td class=""code""><pre>&#39;utf-8&#39;</pre></td>
        </tr>
      
        <tr>
          <td>FILE_UPLOAD_DIRECTORY_PERMISSIONS</td>
          <td class=""code""><pre>None</pre></td>
        </tr>
      
        <tr>
          <td>TEMPLATE_CONTEXT_PROCESSORS</td>
          <td class=""code""><pre>[&#39;django.contrib.auth.context_processors.auth&#39;,
 &#39;django.template.context_processors.debug&#39;,
 &#39;django.template.context_processors.i18n&#39;,
 &#39;django.template.context_processors.media&#39;,
 &#39;django.template.context_processors.static&#39;,
 &#39;django.template.context_processors.tz&#39;,
 &#39;django.contrib.messages.context_processors.messages&#39;]</pre></td>
        </tr>
      
        <tr>
          <td>MONTH_DAY_FORMAT</td>
          <td class=""code""><pre>&#39;F j&#39;</pre></td>
        </tr>
      
        <tr>
          <td>MAX_PRIVATE_PROJECTS_PER_USER</td>
          <td class=""code""><pre>None</pre></td>
        </tr>
      
        <tr>
          <td>FILE_CHARSET</td>
          <td class=""code""><pre>&#39;utf-8&#39;</pre></td>
        </tr>
      
        <tr>
          <td>STATS_CACHE_TIMEOUT</td>
          <td class=""code""><pre>3600</pre></td>
        </tr>
      
        <tr>
          <td>SESSION_COOKIE_NAME</td>
          <td class=""code""><pre>&#39;sessionid&#39;</pre></td>
        </tr>
      
        <tr>
          <td>CELERY_QUEUES</td>
          <td class=""code""><pre>(&lt;unbound Queue tasks -&gt; &lt;unbound Exchange &#39;&#39;(direct)&gt; -&gt; task.#&gt;,
 &lt;unbound Queue transient -&gt; &lt;unbound Exchange &#39;&#39;(direct)&gt; -&gt; transient.#&gt;)</pre></td>
        </tr>
      
        <tr>
          <td>TEMPLATES</td>
          <td class=""code""><pre>[{&#39;APP_DIRS&#39;: True,
  &#39;BACKEND&#39;: &#39;django_jinja.backend.Jinja2&#39;,
  &#39;DIRS&#39;: [&#39;/home/taiga/taiga-back/templates&#39;],
  &#39;OPTIONS&#39;: {&#39;context_processors&#39;: [&#39;django.contrib.auth.context_processors.auth&#39;,
                                     &#39;django.template.context_processors.request&#39;,
                                     &#39;django.template.context_processors.i18n&#39;,
                                     &#39;django.template.context_processors.media&#39;,
                                     &#39;django.template.context_processors.static&#39;,
                                     &#39;django.template.context_processors.tz&#39;,
                                     &#39;django.contrib.messages.context_processors.messages&#39;,
                                     &#39;d&#39;,
                                     &#39;j&#39;,
                                     &#39;a&#39;,
                                     &#39;n&#39;,
                                     &#39;g&#39;,
                                     &#39;o&#39;,
                                     &#39;.&#39;,
                                     &#39;t&#39;,
                                     &#39;e&#39;,
                                     &#39;m&#39;,
                                     &#39;p&#39;,
                                     &#39;l&#39;,
                                     &#39;a&#39;,
                                     &#39;t&#39;,
                                     &#39;e&#39;,
                                     &#39;.&#39;,
                                     &#39;c&#39;,
                                     &#39;o&#39;,
                                     &#39;n&#39;,
                                     &#39;t&#39;,
                                     &#39;e&#39;,
                                     &#39;x&#39;,
                                     &#39;t&#39;,
                                     &#39;_&#39;,
                                     &#39;p&#39;,
                                     &#39;r&#39;,
                                     &#39;o&#39;,
                                     &#39;c&#39;,
                                     &#39;e&#39;,
                                     &#39;s&#39;,
                                     &#39;s&#39;,
                                     &#39;o&#39;,
                                     &#39;r&#39;,
                                     &#39;s&#39;,
                                     &#39;.&#39;,
                                     &#39;d&#39;,
                                     &#39;e&#39;,
                                     &#39;b&#39;,
                                     &#39;u&#39;,
                                     &#39;g&#39;],
              &#39;match_extension&#39;: &#39;.jinja&#39;}},
 {&#39;APP_DIRS&#39;: True,
  &#39;BACKEND&#39;: &#39;django.template.backends.django.DjangoTemplates&#39;,
  &#39;DIRS&#39;: [&#39;/home/taiga/taiga-back/templates&#39;],
  &#39;OPTIONS&#39;: {&#39;context_processors&#39;: [&#39;django.contrib.auth.context_processors.auth&#39;,
                                     &#39;django.template.context_processors.request&#39;,
                                     &#39;django.template.context_processors.i18n&#39;,
                                     &#39;django.template.context_processors.media&#39;,
                                     &#39;django.template.context_processors.static&#39;,
                                     &#39;django.template.context_processors.tz&#39;,
                                     &#39;django.contrib.messages.context_processors.messages&#39;]}}]</pre></td>
        </tr>
      
        <tr>
          <td>DISALLOWED_USER_AGENTS</td>
          <td class=""code""><pre>[]</pre></td>
        </tr>
      
        <tr>
          <td>SOUTH_MIGRATION_MODULES</td>
          <td class=""code""><pre>{&#39;easy_thumbnails&#39;: &#39;easy_thumbnails.south_migrations&#39;}</pre></td>
        </tr>
      
        <tr>
          <td>FILE_UPLOAD_HANDLERS</td>
          <td class=""code""><pre>[&#39;django.core.files.uploadhandler.MemoryFileUploadHandler&#39;,
 &#39;django.core.files.uploadhandler.TemporaryFileUploadHandler&#39;]</pre></td>
        </tr>
      
        <tr>
          <td>CSRF_COOKIE_HTTPONLY</td>
          <td class=""code""><pre>False</pre></td>
        </tr>
      
        <tr>
          <td>SESSION_EXPIRE_AT_BROWSER_CLOSE</td>
          <td class=""code""><pre>False</pre></td>
        </tr>
      
        <tr>
          <td>SESSION_ENGINE</td>
          <td class=""code""><pre>&#39;django.contrib.sessions.backends.db&#39;</pre></td>
        </tr>
      
        <tr>
          <td>DEFAULT_CONTENT_TYPE</td>
          <td class=""code""><pre>&#39;text/html&#39;</pre></td>
        </tr>
      
        <tr>
          <td>DEFAULT_FILE_STORAGE</td>
          <td class=""code""><pre>&#39;taiga.base.storage.FileSystemStorage&#39;</pre></td>
        </tr>
      
        <tr>
          <td>LOGOUT_URL</td>
          <td class=""code""><pre>&#39;/accounts/logout/&#39;</pre></td>
        </tr>
      
        <tr>
          <td>DEBUG_PROPAGATE_EXCEPTIONS</td>
          <td class=""code""><pre>False</pre></td>
        </tr>
      
        <tr>
          <td>EVENTS_PUSH_BACKEND_OPTIONS</td>
          <td class=""code""><pre>{&#39;url&#39;: &#39;amqp://taiga:taigapwd@localhost:5672/taiga&#39;}</pre></td>
        </tr>
      
        <tr>
          <td>LANGUAGES_BIDI</td>
          <td class=""code""><pre>[&#39;he&#39;, &#39;ar&#39;, &#39;fa&#39;, &#39;ur&#39;]</pre></td>
        </tr>
      
        <tr>
          <td>MAX_PUBLIC_PROJECTS_PER_USER</td>
          <td class=""code""><pre>None</pre></td>
        </tr>
      
        <tr>
          <td>PUBLIC_REGISTER_ENABLED</td>
          <td class=""code""><pre>False</pre></td>
        </tr>
      
        <tr>
          <td>CELERY_RESULT_BACKEND</td>
          <td class=""code""><pre>&#39;redis://localhost:6379/0&#39;</pre></td>
        </tr>
      
        <tr>
          <td>EMAIL_HOST_USER</td>
          <td class=""code""><pre>&#39;user&#39;</pre></td>
        </tr>
      
        <tr>
          <td>ADMIN_MEDIA_PREFIX</td>
          <td class=""code""><pre>&#39;http://qualif.taiga.adventiel.com/static/admin/&#39;</pre></td>
        </tr>
      
        <tr>
          <td>FRONT_SITEMAP_CACHE_TIMEOUT</td>
          <td class=""code""><pre>86400</pre></td>
        </tr>
      
        <tr>
          <td>WSGI_APPLICATION</td>
          <td class=""code""><pre>&#39;taiga.wsgi.application&#39;</pre></td>
        </tr>
      
    </tbody>
  </table>

</div>

  <div id=""explanation"">
    <p>
      You're seeing this error because you have <code>DEBUG = True</code> in your
      Django settings file. Change that to <code>False</code>, and Django will
      display a standard page generated by the handler for this status code.
    </p>
  </div>

</body>
</html>
```"
4818,mirumee,saleor,23,closed,1830,3,https://api.github.com/repos/mirumee/saleor/issues/1830/comments,https://github.com/mirumee/saleor/issues/1830,[],Localization of duplicate email account doesn't make sense,"I saw this weird thing in post production when I was creating a customer account that was already registered.

![](https://i.imgur.com/DIT6uHC.png)

![](https://i.imgur.com/SXlwkvt.png)

---

Edit: note, the untranslated string is ` User with this Email already exists. `

---

I'm not quite sure how to explain this, it doesn't make sense in other language, but make sense in English. It's understandable for a French or a Polish for example but doesn't make real sense it shouldn't be that way, it looks like a debug string (as a dev).

I will wait to hear back from you. I also know it's not from your side, so I'm not quite sure of what you can do about this.

The error is generated by `django.db.models.base.Model#unique_error_message` (sourcing from `django.forms.models.BaseModelForm#_post_clean`).
```python
    def unique_error_message(self, model_class, unique_check):
        opts = model_class._meta

        params = {
            'model': self,
            'model_class': model_class,
            'model_name': capfirst(opts.verbose_name),
            'unique_check': unique_check,
        }

        # A unique field
        if len(unique_check) == 1:
            field = opts.get_field(unique_check[0])
            params['field_label'] = capfirst(field.verbose_name)
            return ValidationError(
                message=field.error_messages['unique'],
                code='unique',
                params=params,
            )

        # unique_together
        else:
            field_labels = [capfirst(opts.get_field(f).verbose_name) for f in unique_check]
            params['field_labels'] = get_text_list(field_labels, _('and'))
            return ValidationError(
                message=_(""%(model_name)s with this %(field_labels)s already exists.""),
                code='unique_together',
                params=params,
            )
            # ^^^^^^
```"
6136,mirumee,saleor,36,closed,448,2,https://api.github.com/repos/mirumee/saleor/issues/448/comments,https://github.com/mirumee/saleor/pull/448,[],Remove unnecessary broken add_error method.,"This method is now implemented by Django itself, but in a subtly different way. With this implementation, if you raise a ValidationError in the clean() method it will getting added to form.errors under they key `None` instead of `NON_FIELD_ERRORS`, and therefore silently disappear from rendering.
"
7043,ansible,awx,6,closed,3475,1,https://api.github.com/repos/ansible/awx/issues/3475/comments,https://github.com/ansible/awx/issues/3475,"[{""default"": false, ""name"": ""component:api"", ""url"": ""https://api.github.com/repos/ansible/awx/labels/component:api"", ""color"": ""fbca04"", ""node_id"": ""MDU6TGFiZWw2ODcxNjkyNDY="", ""id"": 687169246}, {""default"": false, ""name"": ""component:installer"", ""url"": ""https://api.github.com/repos/ansible/awx/labels/component:installer"", ""color"": ""d4c5f9"", ""node_id"": ""MDU6TGFiZWw2ODc5Nzk5NjQ="", ""id"": 687979964}, {""default"": false, ""name"": ""component:ui"", ""url"": ""https://api.github.com/repos/ansible/awx/labels/component:ui"", ""color"": ""009800"", ""node_id"": ""MDU6TGFiZWw2ODcxNjkyOTU="", ""id"": 687169295}, {""default"": false, ""name"": ""state:needs_triage"", ""url"": ""https://api.github.com/repos/ansible/awx/labels/state:needs_triage"", ""color"": ""A0522D"", ""node_id"": ""MDU6TGFiZWw2ODcxNzI4NTg="", ""id"": 687172858}, {""default"": false, ""name"": ""type:bug"", ""url"": ""https://api.github.com/repos/ansible/awx/labels/type:bug"", ""color"": ""F79F81"", ""node_id"": ""MDU6TGFiZWw2MDcyODM3NDg="", ""id"": 607283748}]",Unable to create  ALB with AWX,"##### ISSUE TYPE
 - Bug Report

##### COMPONENT NAME
<!-- Pick the area of AWX for this issue, you can have multiple, delete the rest: -->
 - API
 - UI
 - Installer

##### SUMMARY
Hello, I have written a playbook to create ALB on AWS. The playbook is working if i am executing it on directly on a Linux tty, but same playbook with AWX giving error as bellow. 

AWX is not taking both the subnets simultaneously, it s taking subnet id one by one. Please suggest me in order to resolve the issue.
. 
TASK [Creating ALB] ************************************************************
task path: /var/lib/awx/projects/_225__sccoe_awx_dev/ELB_ALB/ELB_ALB-Playbook.yml:97
An exception occurred during task execution. To see the full traceback, use -vvv. The error was: ClientError: An error occurred (ValidationError) when calling the CreateLoadBalancer operation: At least two subnets in two different Availability Zones must be specified
failed: [10.218.110.183] (item=subnet-8e471ea3) => {""boto3_version"": ""1.5.20"", ""botocore_version"": ""1.8.34"", ""changed"": false, ""error"": {""code"": ""ValidationError"", ""message"": ""At least two subnets in two different Availability Zones must be specified"", ""type"": ""Sender""}, ""item"": ""subnet-8e471ea3"", ""msg"": ""An error occurred (ValidationError) when calling the CreateLoadBalancer operation: At least two subnets in two different Availability Zones must be specified"", ""response_metadata"": {""http_headers"": {""connection"": ""close"", ""content-length"": ""337"", ""content-type"": ""text/xml"", ""date"": ""Fri, 22 Mar 2019 06:23:55 GMT"", ""x-amzn-requestid"": ""121490cf-4c6b-11e9-b02c-3f673408bdd8""}, ""http_status_code"": 400, ""request_id"": ""121490cf-4c6…
An exception occurred during task execution. To see the full traceback, use -vvv. The error was: ClientError: An error occurred (ValidationError) when calling the CreateLoadBalancer operation: At least two subnets in two different Availability Zones must be specified
failed: [10.218.110.183] (item=subnet-a99049f1) => {""boto3_version"": ""1.5.20"", ""botocore_version"": ""1.8.34"", ""changed"": false, ""error"": {""code"": ""ValidationError"", ""message"": ""At least two subnets in two different Availability Zones must be specified"", ""type"": ""Sender""}, ""item"": ""subnet-a99049f1"", ""msg"": ""An error occurred (ValidationError) when calling the CreateLoadBalancer operation: At least two subnets in two different Availability Zones must be specified"", ""response_metadata"": {""http_headers"": {""connection"": ""close"", ""content-length"": ""337"", ""content-type"": ""text/xml"", ""date"": ""Fri, 22 Mar 2019 06:24:00 GMT"", ""x-amzn-requestid"": ""14d7f6e3-4c6b-11e9-b188-978194d0c8e9""}, ""http_status_code"": 400, ""request_id"": ""14d7f6e3-4c6…



##### ENVIRONMENT
Tower CLI 3.2.1
API v2
AWX 2.0.1
Ansible 2.7.1

"
7927,ansible,awx,15,closed,2411,5,https://api.github.com/repos/ansible/awx/issues/2411/comments,https://github.com/ansible/awx/pull/2411,"[{""default"": false, ""name"": ""mergeit"", ""url"": ""https://api.github.com/repos/ansible/awx/labels/mergeit"", ""color"": ""b345d8"", ""node_id"": ""MDU6TGFiZWwxMDgwODE2Mzcw"", ""id"": 1080816370}, {""default"": false, ""name"": ""type:bug"", ""url"": ""https://api.github.com/repos/ansible/awx/labels/type:bug"", ""color"": ""F79F81"", ""node_id"": ""MDU6TGFiZWw2MDcyODM3NDg="", ""id"": 607283748}]",Add serviceName to Kubernetes StatefulSet spec,"Signed-off-by: Ashley Nelson <fantashley@gmail.com>

##### SUMMARY
<!--- Describe the change, including rationale and design decisions -->
The apiVersion of the StatefulSet was recently changed to apps/v1beta1, which requires that the serviceName attribute be set in StatefulSet.spec. My kubernetes deployment was failing with the message ""error validating data: ValidationError(StatefulSet.spec): missing required field ""serviceName"" in io.k8s.api.apps.v1beta1.StatefulSetSpec"". After this fix, the deployment completes successfully.
<!---
If you are fixing an existing issue, please include ""related #nnn"" in your
commit message and your description; but you should still explain what
the change does.
-->

##### ISSUE TYPE
<!--- Pick one below and delete the rest: -->
 - Bugfix Pull Request

##### COMPONENT NAME
<!--- Name of the module/plugin/module/task -->
 - Installer - Kubernetes

##### AWX VERSION
<!--- Paste verbatim output from `make VERSION` between quotes below -->
```
2.0.1
```


##### ADDITIONAL INFORMATION
<!---
Include additional information to help people understand the change here.
For bugs that don't have a linked bug report, a step-by-step reproduction
of the problem is helpful.
  -->

<!--- Paste verbatim command output below, e.g. before and after your change -->
```

```
"
8249,ansible,awx,18,closed,2019,1,https://api.github.com/repos/ansible/awx/issues/2019/comments,https://github.com/ansible/awx/pull/2019,[],update dev pytest,"##### SUMMARY
Upgrades pytest to 3.6.0 to fix the following error on test runs:

```
pluggy.PluginValidationError: Plugin 'timeout' could not be loaded: (pytest 3.5.1 (/venv/awx/lib/python2.7/site-packages), Requirement.parse('pytest>=3.6.0'))!
```

One of our pytest plugins 'timeout' requires pytest 3.6.0.  Upgrading pytest to 3.6.0 fixes this. I have tested it locally.

##### ISSUE TYPE
<!--- Pick one below and delete the rest: -->

 - Bugfix Pull Request


##### COMPONENT NAME
<!--- Name of the module/plugin/module/task -->
 - API



##### ADDITIONAL INFORMATION
This is due to this recent release of pytest-timeout -- https://pypi.org/project/pytest-timeout/"
8640,ansible,awx,22,closed,1568,5,https://api.github.com/repos/ansible/awx/issues/1568/comments,https://github.com/ansible/awx/issues/1568,"[{""default"": false, ""name"": ""component:installer"", ""url"": ""https://api.github.com/repos/ansible/awx/labels/component:installer"", ""color"": ""d4c5f9"", ""node_id"": ""MDU6TGFiZWw2ODc5Nzk5NjQ="", ""id"": 687979964}, {""default"": false, ""name"": ""priority:high"", ""url"": ""https://api.github.com/repos/ansible/awx/labels/priority:high"", ""color"": ""f7c6c7"", ""node_id"": ""MDU6TGFiZWw2ODYyNTUzODc="", ""id"": 686255387}, {""default"": false, ""name"": ""type:bug"", ""url"": ""https://api.github.com/repos/ansible/awx/labels/type:bug"", ""color"": ""F79F81"", ""node_id"": ""MDU6TGFiZWw2MDcyODM3NDg="", ""id"": 607283748}]",installer/kubernetes/templates/deployment.yml.j2 cpu and memory mismatch + limit supported only with apiVersion: extensions/v1beta2,"##### ISSUE TYPE

 - Bug Report

##### COMPONENT NAME
 - Installer

##### SUMMARY

in installer/kubernetes/templates/deployment.yml.j2

issues introduced with following commit https://github.com/ansible/awx/commit/b0cf4de07224902992de5ad9bb957cd94855f759#diff-d975205ae64de1b20726919b50ffcc75

- limits are only supported since apiVersion: extensions/v1beta2
- cpu and memory mismatch on lines 55-59
- please cast variables to integer
- additionally, requirements should be adapted in the documentation:  At leasts 6GB of memory, At least 3 cpu cores
- additionally, organisation in a single pod makes it impossible to have components running on separate nodes of a kubernetes cluster

##### STEPS TO REPRODUCE

exexute the install playbook on a kubernetes cluster

##### EXPECTED RESULTS

```
TASK [kubernetes : Apply Deployment] ******************************************************************************************************************************************************************************
changed: [vars]
```

##### ACTUAL RESULTS

- limits are only supported since apiVersion: extensions/v1beta2

```
TASK [kubernetes : Apply Deployment] ******************************************************************************************************************************************************************************
fatal: [vars]: FAILED! => {""changed"": true, ""cmd"": ""kubectl apply -f /tmp/awx-config/deployment.yml"", ""delta"": ""0:00:00.255991"", ""end"": ""2018-03-15 11:46:32.239584"", ""msg"": ""non-zero return code"", ""rc"": 1, ""start"": ""2018-03-15 11:46:31.983593"", ""stderr"": ""error: error validating \""/tmp/awx-config/deployment.yml\"": error validating data: ValidationError(Deployment.spec.template.spec.containers[1].resources): unknown field \""limit\"" in io.k8s.api.core.v1.ResourceRequirements; if you choose to ignore these errors, turn validation off with --validate=false"", ""stderr_lines"": [""error: error validating \""/tmp/awx-config/deployment.yml\"": error validating data: ValidationError(Deployment.spec.template.spec.containers[1].resources): unknown field \""limit\"" in io.k8s.api.core.v1.ResourceRequirements; if you choose to ignore these errors, turn validation off with --validate=false""], ""stdout"": """", ""stdout_lines"": []}
```

-  cpu and memory mismatch on lines 55-59

```
0/3 nodes are available: 1 Insufficient memory, 1 PodToleratesNodeTaints, 3 Insufficient cpu.
```

- Variable not casted as an integer:

```
TASK [kubernetes : Template Kubernetes AWX Config] ****************************************************************************************************************************************************************
fatal: [vars]: FAILED! => {""changed"": false, ""msg"": ""AnsibleError: Unexpected templating type error occurred on (apiVersion: v1\nkind: ConfigMap\nmetadata:\n  name: awx-config\n  namespace: {{ awx_kubernetes_namespace }}\ndata:\n  secret_key: {{ awx_secret_key }}\n  awx_settings: |\n    import os\n    import socket\n    ADMINS = ()\n    \n    # Container environments don't like chroots\n    AWX_PROOT_ENABLED = False\n\n    # Automatically deprovision pods that go offline\n    AWX_AUTO_DEPROVISION_INSTANCES = True\n\n    SYSTEM_TASK_ABS_CPU = {{ ((awx_task_cpu_request|default(1500) / 1000) * 4)|int }}\n    SYSTEM_TASK_ABS_MEM = {{ ((awx_task_mem_request|default(2) * 1024) / 100)|int }}\n\n    #Autoprovisioning should replace this\n    CLUSTER_HOST_ID = socket.gethostname()\n    SYSTEM_UUID = '00000000-0000-0000-0000-000000000000'\n\n    SESSION_COOKIE_SECURE = False\n    CSRF_COOKIE_SECURE = False \n\n    REMOTE_HOST_HEADERS = ['HTTP_X_FORWARDED_FOR']\n    \n    STATIC_ROOT = '/var/lib/awx/public/static'\n    PROJECTS_ROOT = '/var/lib/awx/projects'\n    JOBOUTPUT_ROOT = '/var/lib/awx/job_status'\n    SECRET_KEY = file('/etc/tower/SECRET_KEY', 'rb').read().strip()\n    ALLOWED_HOSTS = ['*']\n    INTERNAL_API_URL = 'http://127.0.0.1:8052'\n    SERVER_EMAIL = 'root@localhost'\n    DEFAULT_FROM_EMAIL = 'webmaster@localhost'\n    EMAIL_SUBJECT_PREFIX = '[AWX] '\n    EMAIL_HOST = 'localhost'\n    EMAIL_PORT = 25\n    EMAIL_HOST_USER = ''\n    EMAIL_HOST_PASSWORD = ''\n    EMAIL_USE_TLS = False\n    \n    LOGGING['handlers']['console'] = {\n        '()': 'logging.StreamHandler',\n        'level': 'DEBUG',\n        'formatter': 'simple',\n    }\n    \n    LOGGING['loggers']['django.request']['handlers'] = ['console']\n    LOGGING['loggers']['rest_framework.request']['handlers'] = ['console']\n    LOGGING['loggers']['awx']['handlers'] = ['console']\n    LOGGING['loggers']['awx.main.commands.run_callback_receiver']['handlers'] = ['console']\n    LOGGING['loggers']['awx.main.commands.inventory_import']['handlers'] = ['console']\n    LOGGING['loggers']['awx.main.tasks']['handlers'] = ['console']\n    LOGGING['loggers']['awx.main.scheduler']['handlers'] = ['console']\n    LOGGING['loggers']['django_auth_ldap']['handlers'] = ['console']\n    LOGGING['loggers']['social']['handlers'] = ['console']\n    LOGGING['loggers']['system_tracking_migrations']['handlers'] = ['console']\n    LOGGING['loggers']['rbac_migrations']['handlers'] = ['console']\n    LOGGING['loggers']['awx.isolated.manager.playbooks']['handlers'] = ['console']\n    LOGGING['handlers']['callback_receiver'] = {'class': 'logging.NullHandler'}\n    LOGGING['handlers']['fact_receiver'] = {'class': 'logging.NullHandler'}\n    LOGGING['handlers']['task_system'] = {'class': 'logging.NullHandler'}\n    LOGGING['handlers']['tower_warnings'] = {'class': 'logging.NullHandler'}\n    LOGGING['handlers']['rbac_migrations'] = {'class': 'logging.NullHandler'}\n    LOGGING['handlers']['system_tracking_migrations'] = {'class': 'logging.NullHandler'}\n    LOGGING['handlers']['management_playbooks'] = {'class': 'logging.NullHandler'}\n    \n    DATABASES = {\n        'default': {\n            'ATOMIC_REQUESTS': True,\n            'ENGINE': 'django.db.backends.postgresql',\n            'NAME': \""{{ pg_database }}\"",\n            'USER': \""{{ pg_username }}\"",\n            'PASSWORD': \""{{ pg_password }}\"",\n            'HOST': \""{{ pg_hostname|default('postgresql') }}\"",\n            'PORT': \""{{ pg_port }}\"",\n        }\n    }\n    BROKER_URL = 'amqp://{}:{}@{}:{}/{}'.format(\n        \""awx\"",\n        \""abcdefg\"",\n        \""localhost\"",\n        \""5672\"",\n        \""awx\"")\n    CHANNEL_LAYERS = {\n        'default': {'BACKEND': 'asgi_amqp.AMQPChannelLayer',\n                    'ROUTING': 'awx.main.routing.channel_routing',\n                    'CONFIG': {'url': BROKER_URL}}\n    }\n    CACHES = {\n        'default': {\n            'BACKEND': 'django.core.cache.backends.memcached.MemcachedCache',\n            'LOCATION': '{}:{}'.format(\""localhost\"", \""11211\"")\n        },\n        'ephemeral': {\n            'BACKEND': 'django.core.cache.backends.locmem.LocMemCache',\n        },\n    }\n): unsupported operand type(s) for /: 'unicode' and 'int'""}

```

- Attempt to run on a cluster with nodes with  4GB of memory and 2 cpu cores

```
0/3 nodes are available: 1 Insufficient memory, 1 PodToleratesNodeTaints, 3 Insufficient cpu.
```


##### ADDITIONAL INFORMATION

````
-apiVersion: extensions/v1beta1
+apiVersion: extensions/v1beta2
 kind: Deployment
 metadata:
   name: awx
@@ -52,11 +52,11 @@ spec:
               value: {{ default_admin_password|default('password') }}
           resources:
             requests:
-              memory: ""{{ awx_task_cpu_request|default('2') }}Gi""
-              cpu: ""{{ awx_task_mem_request|default('1500') }}m""
+              cpu: ""{{ awx_task_cpu_request|default('1500')|int }}m""
+              memory: ""{{ awx_task_mem_request|default('2')|int }}Gi""
             limit:
-              memory: ""{{ awx_task_cpu_request|default('2') }}Gi""
-              cpu: ""{{ awx_task_mem_request|default('1500') }}m""
+              cpu: ""{{ awx_task_cpu_request|default('1500')|int }}m""
+              memory: ""{{ awx_task_mem_request|default('2')|int }}Gi""
         - name: awx-rabbit
           image: ansible/awx_rabbitmq:{{ rabbitmq_version }}
           imagePullPolicy: Always
````"
8724,ansible,awx,23,closed,1464,4,https://api.github.com/repos/ansible/awx/issues/1464/comments,https://github.com/ansible/awx/issues/1464,"[{""default"": false, ""name"": ""component:api"", ""url"": ""https://api.github.com/repos/ansible/awx/labels/component:api"", ""color"": ""fbca04"", ""node_id"": ""MDU6TGFiZWw2ODcxNjkyNDY="", ""id"": 687169246}, {""default"": false, ""name"": ""state:needs_triage"", ""url"": ""https://api.github.com/repos/ansible/awx/labels/state:needs_triage"", ""color"": ""A0522D"", ""node_id"": ""MDU6TGFiZWw2ODcxNzI4NTg="", ""id"": 687172858}, {""default"": false, ""name"": ""type:bug"", ""url"": ""https://api.github.com/repos/ansible/awx/labels/type:bug"", ""color"": ""F79F81"", ""node_id"": ""MDU6TGFiZWw2MDcyODM3NDg="", ""id"": 607283748}]",Invalid key names: REFRESH_TOKEN_EXPIRE_SECONDS,"##### ISSUE TYPE
 - Bug Report

##### COMPONENT NAME
 - API

##### SUMMARY
There seems to be something missing in the newly implemented OAuth.. I'm having problems with websockets.. Daphne is not working correctly:

mar 06 22:20:04 akiva.outerrim.lan daphne[10618]: 2018-03-06 22:20:04,844 WARNING  The current value ""{u'ACCESS_TOKEN_EXPIRE_SECONDS': 31536000000, u'REFRESH_TOKEN_EXPIRE_SECONDS': 31536000000, u'AUTHORIZATION_CODE
mar 06 22:20:04 akiva.outerrim.lan daphne[10618]: Traceback (most recent call last):
mar 06 22:20:04 akiva.outerrim.lan daphne[10618]: File ""/opt/awx/embedded/lib/python2.7/site-packages/awx/conf/settings.py"", line 371, in _get_local
mar 06 22:20:04 akiva.outerrim.lan daphne[10618]: return field.run_validation(value)
mar 06 22:20:04 akiva.outerrim.lan daphne[10618]: File ""/opt/awx/embedded/lib/python2.7/site-packages/rest_framework/fields.py"", line 523, in run_validation
mar 06 22:20:04 akiva.outerrim.lan daphne[10618]: value = self.to_internal_value(data)
mar 06 22:20:04 akiva.outerrim.lan daphne[10618]: File ""/opt/awx/embedded/lib/python2.7/site-packages/awx/api/fields.py"", line 88, in to_internal_value
mar 06 22:20:04 akiva.outerrim.lan daphne[10618]: self.fail('invalid_key_names', invalid_key_names=', '.join(list(invalid_flags)))
mar 06 22:20:04 akiva.outerrim.lan daphne[10618]: File ""/opt/awx/embedded/lib/python2.7/site-packages/rest_framework/fields.py"", line 585, in fail
mar 06 22:20:04 akiva.outerrim.lan daphne[10618]: raise ValidationError(message_string, code=key)
mar 06 22:20:04 akiva.outerrim.lan daphne[10618]: ValidationError: [u'Invalid key names: REFRESH_TOKEN_EXPIRE_SECONDS']

REFRESH_TOKEN_EXPIRE_SECONDS seems to be missing from:

/opt/awx/embedded/lib/python2.7/site-packages/awx/api/fields.py

 valid_key_names = {'ACCESS_TOKEN_EXPIRE_SECONDS', 'AUTHORIZATION_CODE_EXPIRE_SECONDS'}

If I add it to the list, I no longer get the error, but websockets are still not working..

I'm using my own RPM build, but just want to let you guys know that there is something wrong.."
9251,ansible,awx,28,closed,871,1,https://api.github.com/repos/ansible/awx/issues/871/comments,https://github.com/ansible/awx/pull/871,[],Fix bug when creating system job schedule,"the bug was

```
2017-12-19 19:30:24,764 ERROR    django.request Internal Server Error: /api/v1/system_job_templates/1/schedules/
Traceback (most recent call last):
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/core/handlers/exception.py"", line 41, in inner
    response = get_response(request)
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/core/handlers/base.py"", line 249, in _legacy_get_response
    response = self._get_response(request)
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/core/handlers/base.py"", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/core/handlers/base.py"", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/utils/decorators.py"", line 185, in inner
    return func(*args, **kwargs)
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/views/decorators/csrf.py"", line 58, in wrapped_view
    return view_func(*args, **kwargs)
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/views/generic/base.py"", line 68, in view
    return self.dispatch(request, *args, **kwargs)
  File ""/lib/python2.7/site-packages/awx/api/generics.py"", line 253, in dispatch
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/rest_framework/views.py"", line 489, in dispatch
    response = self.handle_exception(exc)
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/rest_framework/views.py"", line 449, in handle_exception
    self.raise_uncaught_exception(exc)
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/rest_framework/views.py"", line 486, in dispatch
    response = handler(request, *args, **kwargs)
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/rest_framework/generics.py"", line 244, in post
    return self.create(request, *args, **kwargs)
  File ""/lib/python2.7/site-packages/awx/api/generics.py"", line 526, in create
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/rest_framework/serializers.py"", line 236, in is_valid
    self._validated_data = self.run_validation(self.initial_data)
  File ""/lib/python2.7/site-packages/awx/api/serializers.py"", line 479, in run_validation
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/rest_framework/serializers.py"", line 434, in run_validation
    value = self.validate(value)
  File ""/lib/python2.7/site-packages/awx/api/serializers.py"", line 3121, in validate
  File ""/lib/python2.7/site-packages/awx/api/serializers.py"", line 513, in validate
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/db/models/base.py"", line 1228, in full_clean
    self.clean_fields(exclude=exclude)
  File ""/lib/python2.7/site-packages/awx/main/models/base.py"", line 117, in clean_fields
  File ""/lib/python2.7/site-packages/awx/main/models/schedules.py"", line 126, in clean_extra_data
  File ""/lib/python2.7/site-packages/awx/main/models/schedules.py"", line 115, in _clean_extra_data_system_jobs
NameError: global name 'ValidationError' is not defined
```

expected results

```json
{
    ""extra_data"": [
        ""days must be a positive integer.""
    ]
}
```

this is still accomplished by the logic that now lives in the SystemJob model."
9408,ansible,awx,30,closed,705,10,https://api.github.com/repos/ansible/awx/issues/705/comments,https://github.com/ansible/awx/issues/705,"[{""default"": false, ""name"": ""component:api"", ""url"": ""https://api.github.com/repos/ansible/awx/labels/component:api"", ""color"": ""fbca04"", ""node_id"": ""MDU6TGFiZWw2ODcxNjkyNDY="", ""id"": 687169246}, {""default"": false, ""name"": ""priority:medium"", ""url"": ""https://api.github.com/repos/ansible/awx/labels/priority:medium"", ""color"": ""fad8c7"", ""node_id"": ""MDU6TGFiZWw2ODYyNTU2NTY="", ""id"": 686255656}, {""default"": false, ""name"": ""type:bug"", ""url"": ""https://api.github.com/repos/ansible/awx/labels/type:bug"", ""color"": ""F79F81"", ""node_id"": ""MDU6TGFiZWw2MDcyODM3NDg="", ""id"": 607283748}]",CloudForms inventory import fails with django.core.exceptions.ValidationError,"##### ISSUE TYPE
<!--- Pick one below and delete the rest: -->
 - Bug Report

##### COMPONENT NAME
<!-- Pick the area of AWX for this issue, you can have multiple, delete the rest: -->
 - API

##### SUMMARY
<!-- Briefly describe the problem. -->
CloudForms inventory import fails with django.core.exceptions.ValidationError. Have tried with both a ""normal"" Cloudforms user credential and an ""admin"" one but same result both times.

##### ENVIRONMENT
* AWX version: 1.0.1.225 
* AWX install method: docker for mac
* Ansible version:  2.4.1
* Operating System: MacOS 10.12.6
* Web Browser: Chrome 62
* Cloudforms: 4.2 (Management engine Version 5.7.3.2.20170621144854_6c833cc)

##### STEPS TO REPRODUCE

<!-- For bugs, please show exactly how to reproduce the problem. For new
features, show how the feature would be used.  -->

1. Create new inventory source with source type of Red Hat Cloudforms
2. Run sync

##### EXPECTED RESULTS

<!-- For bug reports, what did you expect to happen when running the steps
above? -->

* Inventory import successfully completes.

##### ACTUAL RESULTS

<!-- For bug reports, what actually happened? -->

* Inventory import fails with ""django.core.exceptions.ValidationError: [u\""'<object object at 0x7830fe0>' value must be either True or False.\""]"" error

##### ADDITIONAL INFORMATION

<!-- Include any links to sosreport, database dumps, screenshots or other
information. -->
Log file:
```
2017-11-23 01:44:04,433 INFO     awx.main.commands.inventory_import Updating inventory 2: CF
2017-11-23 01:44:04,472 INFO     awx.main.commands.inventory_import Reading Ansible inventory source: /usr/lib/python2.7/site-packages/awx/plugins/inventory/cloudforms.py
2017-11-23 01:44:34,698 INFO     awx.main.commands.inventory_import Processing JSON output...
2017-11-23 01:44:34,720 INFO     awx.main.commands.inventory_import Loaded 322 groups, 266 hosts
...
2017-11-23 01:44:34,739 WARNING  awx.main.commands.inventory_import Host \""<redacted1>\"" has no \""id\"" variable
2017-11-23 01:44:34,739 WARNING  awx.main.commands.inventory_import Host \""<redacted2>\"" has no \""id\"" variable
2017-11-23 01:44:34,739 WARNING  awx.main.commands.inventory_import Host \""<redacted3>\"" has no \""id\"" variable
...
2017-11-23 01:44:38,254 INFO     awx.main.commands.inventory_import Group \""<redacted4>_ovf\"" added
2017-11-23 01:44:38,261 INFO     awx.main.commands.inventory_import Group \""<redacted5>_ovf\"" added
2017-11-23 01:44:38,269 INFO     awx.main.commands.inventory_import Group \""location\"" added
2017-11-23 01:44:38,276 INFO     awx.main.commands.inventory_import Group \""redhat\"" added
2017-11-23 01:44:38,283 INFO     awx.main.commands.inventory_import Group \""tags\"" added
2017-11-23 01:44:38,290 INFO     awx.main.commands.inventory_import Group \""type\"" added
2017-11-23 01:44:38,298 INFO     awx.main.commands.inventory_import Group \""vendor\"" added
Traceback (most recent call last):
  File \""/usr/bin/awx-manage\"", line 9, in <module>
    load_entry_point('awx==1.0.1.225', 'console_scripts', 'awx-manage')()
  File \""/usr/lib/python2.7/site-packages/awx/__init__.py\"", line 109, in manage
    execute_from_command_line(sys.argv)
  File \""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/core/management/__init__.py\"", line 364, in execute_from_command_line
    utility.execute()
  File \""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/core/management/__init__.py\"", line 356, in execute
    self.fetch_command(subcommand).run_from_argv(self.argv)
  File \""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/core/management/base.py\"", line 283, in run_from_argv
    self.execute(*args, **cmd_options)
  File \""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/core/management/base.py\"", line 330, in execute
    output = self.handle(*args, **options)
  File \""/usr/lib/python2.7/site-packages/awx/main/management/commands/inventory_import.py\"", line 1020, in handle
    self.load_into_database()
  File \""/usr/lib/python2.7/site-packages/awx/main/management/commands/inventory_import.py\"", line 892, in load_into_database
    self._create_update_hosts()
  File \""/usr/lib/python2.7/site-packages/awx/main/management/commands/inventory_import.py\"", line 798, in _create_update_hosts
    db_host = self.inventory.hosts.update_or_create(name=mem_host_name, defaults=host_attrs)[0]
  File \""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/db/models/fields/related_descriptors.py\"", line 665, in update_or_create
    return super(RelatedManager, self.db_manager(db)).update_or_create(**kwargs)
  File \""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/db/models/manager.py\"", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File \""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/db/models/query.py\"", line 482, in update_or_create
    obj, created = self._create_object_from_params(lookup, params)
  File \""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/db/models/query.py\"", line 498, in _create_object_from_params
    obj = self.create(**params)
  File \""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/db/models/query.py\"", line 394, in create
    obj.save(force_insert=True, using=self.db)
  File \""/usr/lib/python2.7/site-packages/awx/main/models/inventory.py\"", line 665, in save
    super(Host, self).save(*args, **kwargs)
  File \""/usr/lib/python2.7/site-packages/awx/main/models/base.py\"", line 264, in save
    super(PrimordialModel, self).save(*args, **kwargs)
  File \""/usr/lib/python2.7/site-packages/awx/main/models/base.py\"", line 159, in save
    super(CreatedModifiedModel, self).save(*args, **kwargs)
  File \""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/db/models/base.py\"", line 808, in save
    force_update=force_update, update_fields=update_fields)
  File \""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/db/models/base.py\"", line 838, in save_base
    updated = self._save_table(raw, cls, force_insert, force_update, using, update_fields)
  File \""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/db/models/base.py\"", line 924, in _save_table
    result = self._do_insert(cls._base_manager, using, fields, update_pk, raw)
  File \""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/db/models/base.py\"", line 963, in _do_insert
    using=using, raw=raw)
  File \""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/db/models/manager.py\"", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File \""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/db/models/query.py\"", line 1076, in _insert
    return query.get_compiler(using=using).execute_sql(return_id)
  File \""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/db/models/sql/compiler.py\"", line 1106, in execute_sql
    for sql, params in self.as_sql():
  File \""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/db/models/sql/compiler.py\"", line 1059, in as_sql
    for obj in self.query.objs
  File \""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/db/models/sql/compiler.py\"", line 998, in prepare_value
    value = field.get_db_prep_save(value, connection=self.connection)
  File \""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/db/models/fields/__init__.py\"", line 770, in get_db_prep_save
    prepared=False)
  File \""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/db/models/fields/__init__.py\"", line 762, in get_db_prep_value
    value = self.get_prep_value(value)
  File \""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/db/models/fields/__init__.py\"", line 1043, in get_prep_value
    return self.to_python(value)
  File \""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/db/models/fields/__init__.py\"", line 1036, in to_python
    params={'value': value},
django.core.exceptions.ValidationError: [u\""'<object object at 0x6aa0f40>' value must be either True or False.\""]
```"
10269,django-oscar,django-oscar,4,closed,2783,2,https://api.github.com/repos/django-oscar/django-oscar/issues/2783/comments,https://github.com/django-oscar/django-oscar/issues/2783,[],Editing child products in dashboard emits ValidationError,"### Issue Summary

First time creating a child product works fine but trying to edit and save the child product after it has been creating always emits the ValidationError ""a child product can't have a product class"".

I saw here that this was already found in a PR but the bug seems to still exists in 1.6.2
https://github.com/django-oscar/django-oscar/pull/1441#issuecomment-52473882
### Steps to Reproduce

1. Create Product Class
2. Add new Product in previously created product class
3. Add new Variant and press save
4. Edit Variant and press save


### Technical details

* Python version: 3.6.4
* Django version: 2.0.7
* Oscar version: 1.6.2
"
10367,django-oscar,django-oscar,5,closed,2679,4,https://api.github.com/repos/django-oscar/django-oscar/issues/2679/comments,https://github.com/django-oscar/django-oscar/pull/2679,[],Decouple price and availability in base strategies.,"Revert the changes in #1913 that required a stock record to have `price_excl_tax` set in order to report the product as available, on the basis that price and availability should be kept separate.

Add separate checks to the basket form/add logic that checks at the time of
adding a product to the basket whether a price exists, and report an error if it doesn't. If a price is not found, then the add to basket form will raise a `ValidationError` - projects are responsible for ensuring that they supply a valid pricing strategy in such cases.

Fixes #2664."
10762,django-oscar,django-oscar,9,closed,2273,2,https://api.github.com/repos/django-oscar/django-oscar/issues/2273/comments,https://github.com/django-oscar/django-oscar/issues/2273,[],offers cause unorderable types: NoneType() > int() error,"when I tried to create a new offer benefit with value 'None' and any choice that involves 'fixed/percentage discounts' it throws an error `unorderable types: NoneType() > int()` in oscar 1.4.

Below is my effort to create an offer 
![oscar](https://cloud.githubusercontent.com/assets/18322595/24358786/e7b468c6-131f-11e7-82ea-2fab2e65aa03.png)

This is the error encountered 
![oscar 2](https://cloud.githubusercontent.com/assets/18322595/24358882/342036a4-1320-11e7-9f27-41fc96197a51.png)

In 'oscar/apps/offer/abstract_models.py' the following method should be changed

` 


def clean_percentage(self):

        if not self.range:

            raise exceptions.ValidationError(

                _(""Percentage benefits require a product range""))

        if self.value > 100:

            raise exceptions.ValidationError(

                _(""Percentage discount cannot be greater than 100""))

`

Change recommended

`def clean_percentage(self):

        if not self.value:

            raise exceptions.ValidationError(

                _(""A discount value is required""))

        if not self.range:

            raise exceptions.ValidationError(

                _(""Percentage benefits require a product range""))

        if self.value > 100:

            raise exceptions.ValidationError(

                _(""Percentage discount cannot be greater than 100""))`


"
11024,django-oscar,django-oscar,12,closed,2007,5,https://api.github.com/repos/django-oscar/django-oscar/issues/2007/comments,https://github.com/django-oscar/django-oscar/pull/2007,[],BankcardNumberField raise ValidationError instead of AttributeError,"Fix for https://github.com/django-oscar/django-oscar/issues/2006

If the form data doesn't include the credit card, it raises a `VadliationError` instead of the (less helpful) `AttributeError`.

Includes a test.
"
11025,django-oscar,django-oscar,12,closed,2006,1,https://api.github.com/repos/django-oscar/django-oscar/issues/2006/comments,https://github.com/django-oscar/django-oscar/issues/2006,[],BankcardNumberField.clean raises AttributeError instead of ValidationError,"If you pass `None` as a value to `BankcardNumberField` instead of `''`, it raises an `AttributeError` instead of raising a `ValidationError`.

This occurred because I was trying to make an optional bank card field.

I'll submit a PR briefly.
"
11239,django-oscar,django-oscar,14,closed,1786,3,https://api.github.com/repos/django-oscar/django-oscar/issues/1786/comments,https://github.com/django-oscar/django-oscar/issues/1786,[],Typo in translatable string in oscar.core.validators,"On line number 99 in the function `non_python_keyword`

``` python
def non_python_keyword(value):
    if keyword.iskeyword(value):
        raise ValidationError(
            _(""This field is invalid as its valud is forbidden"")
        )
    return value
```

It says ""valud"" where it should be ""value"".
"
11371,django-oscar,django-oscar,15,closed,1652,0,https://api.github.com/repos/django-oscar/django-oscar/issues/1652/comments,https://github.com/django-oscar/django-oscar/issues/1652,"[{""default"": false, ""name"": ""\u2601 Bug"", ""url"": ""https://api.github.com/repos/django-oscar/django-oscar/labels/%E2%98%81%20Bug"", ""color"": ""F8C1C1"", ""node_id"": ""MDU6TGFiZWw5NzM0NA=="", ""id"": 97344}]",Postcode field raises ValidationError even if set as not required,"I've set up

<pre>
OSCAR_REQUIRED_ADDRESS_FIELDS = ('first_name', 'last_name', 'line4', 'line1', 'country')
</pre>

but form does not validates empty postcode field. Seems like _ensure_postcode_is_valid_for_country_ [1] method doesnt know anything about this feature.

[1] https://github.com/django-oscar/django-oscar/blob/master/src/oscar/apps/address/abstract_models.py#L262
"
11612,django-oscar,django-oscar,17,closed,1399,0,https://api.github.com/repos/django-oscar/django-oscar/issues/1399/comments,https://github.com/django-oscar/django-oscar/issues/1399,[],Product Attribute Validation fails,"When a product has a bool attribute it fails to validate in 

/oscar/apps/catalogue/abstract_models.py line 742

``` python
    def validate_value(self, value):
        validator = getattr(self, '_validate_%s' % self.type)
        validator(value)
```

because the attribute name it's boolean not bool.
/oscar/apps/catalogue/abstract_models.py line 715

``` python
    def _validate_bool(self, value):
        if not type(value) == bool:
            raise ValidationError(_(""Must be a boolean""))
```

should be 

``` python
    def _validate_boolean(self, value):
        if not type(value) == bool:
            raise ValidationError(_(""Must be a boolean""))
```
"
11724,django-oscar,django-oscar,19,closed,1281,3,https://api.github.com/repos/django-oscar/django-oscar/issues/1281/comments,https://github.com/django-oscar/django-oscar/issues/1281,"[{""default"": false, ""name"": ""\u2601 Bug"", ""url"": ""https://api.github.com/repos/django-oscar/django-oscar/labels/%E2%98%81%20Bug"", ""color"": ""F8C1C1"", ""node_id"": ""MDU6TGFiZWw5NzM0NA=="", ""id"": 97344}]",ValidationError in validate_attributes during review saving,"I'd caught it while trying to add review on parent product with some ""required"" attributes defined.
It's seems like new condition ""validate_attributes"" has been used in the dashboard product update/create form (https://github.com/tangentlabs/django-oscar/blob/master/oscar/apps/dashboard/catalogue/forms.py#L362), but not in review's form.

Here is my solution ( just move is_group condition checking to catalogue.abstract_models.AbstractProduct.save method ( 46ff5e0c12c9e2cc3d11bb57c90b204e5a479306 )

Traceback:

<blockquote><pre>
File ""/home/projects/butik-shop/lib/python2.7/site-packages/django/core/handlers/base.py"" in get_response
  114.                     response = wrapped_callback(request, *callback_args, **callback_kwargs)
File ""/home/projects/butik-shop/lib/python2.7/site-packages/django/contrib/auth/decorators.py"" in _wrapped_view
  22.                 return view_func(request, *args, **kwargs)
File ""/home/projects/butik-shop/lib/python2.7/site-packages/django/contrib/auth/decorators.py"" in _wrapped_view
  22.                 return view_func(request, *args, **kwargs)
File ""/home/projects/butik-shop/lib/python2.7/site-packages/django/contrib/auth/decorators.py"" in _wrapped_view
  22.                 return view_func(request, *args, **kwargs)
File ""/home/projects/butik-shop/lib/python2.7/site-packages/django/views/generic/base.py"" in view
  69.             return self.dispatch(request, *args, **kwargs)
File ""/home/projects/butik-shop/src/django-oscar/oscar/apps/catalogue/reviews/views.py"" in dispatch
  38.             request, *args, **kwargs)
File ""/home/projects/butik-shop/lib/python2.7/site-packages/django/views/generic/base.py"" in dispatch
  87.         return handler(request, *args, **kwargs)
File ""/home/projects/butik-shop/lib/python2.7/site-packages/django/views/generic/edit.py"" in post
  205.         return super(BaseCreateView, self).post(request, *args, **kwargs)
File ""/home/projects/butik-shop/lib/python2.7/site-packages/django/views/generic/edit.py"" in post
  171.             return self.form_valid(form)
File ""/home/projects/butik-shop/src/django-oscar/oscar/apps/catalogue/reviews/views.py"" in form_valid
  52.         response = super(CreateProductReview, self).form_valid(form)
File ""/home/projects/butik-shop/lib/python2.7/site-packages/django/views/generic/edit.py"" in form_valid
  147.         self.object = form.save()
File ""/home/projects/butik-shop/lib/python2.7/site-packages/django/forms/models.py"" in save
  446.                              construct=False)
File ""/home/projects/butik-shop/lib/python2.7/site-packages/django/forms/models.py"" in save_instance
  99.         instance.save()
File ""/home/projects/butik-shop/src/django-oscar/oscar/apps/catalogue/reviews/abstract_models.py"" in save
  98.         self.product.update_rating()
File ""/home/projects/butik-shop/src/django-oscar/oscar/apps/catalogue/abstract_models.py"" in update_rating
  519.         self.save()
File ""/home/projects/butik-shop/src/django-oscar/oscar/apps/catalogue/abstract_models.py"" in save
  315.             self.attr.validate_attributes()
File ""/home/projects/butik-shop/src/django-oscar/oscar/apps/catalogue/abstract_models.py"" in validate_attributes
  609.                         {'attr': attribute.code})

Exception Type: ValidationError at /catalogue/shtany-na-liamkakh_292/reviews/add/
Exception Value: [u'size \u0430\u0442\u0440\u0438\u0431\u0443\u0442 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c']
</pre></blockquote>
"
11834,django-oscar,django-oscar,20,closed,1165,1,https://api.github.com/repos/django-oscar/django-oscar/issues/1165/comments,https://github.com/django-oscar/django-oscar/issues/1165,[],Improve ValidationError wording for product attributes,"https://github.com/tangentlabs/django-oscar/blob/master/oscar/apps/catalogue/abstract_models.py#L790 and https://github.com/tangentlabs/django-oscar/blob/master/oscar/apps/catalogue/abstract_models.py#L793 are probably hard to understand for the general public.
"
12643,django-oscar,django-oscar,28,closed,324,4,https://api.github.com/repos/django-oscar/django-oscar/issues/324/comments,https://github.com/django-oscar/django-oscar/pull/324,[],Check for existing email when updating profile,"A user in Oscar is identified by email address instead of the
username. This is, however, not set as a `unique` constraint
in the user model in `django.contrib.auth.models.User`. Checks
if an email already exists are carried out when a user registers
but are ignored when a registered user changes their
profile. This can lead to multiple users having the same email
address which should not happen.

I provide a failing test with a mixin that can be used in both
the `UserForm` and `UserAndProfileForm` to clean the email
field when validating the form. A `ValidationError` is raised
when a user with this email address already exists and is not
the currently edited instance (makes sure that profile updates
with unchanged email work still).

I am not sure if this is the best way of handling the validation.
Feedback is welcome.

_Note:_ It might also be worth considering to change to a custom
`User` model when Oscar starts using Django 1.5 as it now
supports swappable user models. It would allow for making the
email field truely unique.
"
12654,django-oscar,django-oscar,28,closed,312,2,https://api.github.com/repos/django-oscar/django-oscar/issues/312/comments,https://github.com/django-oscar/django-oscar/pull/312,[],creating product now checks for unique UPC,"Attempting to create a new product with a UPC that already exists
raises an `IntegrityError` instead of handling the `ProductForm`
as an invalid form with an appropriate `ValidationError`.

I fixed that by adding a `clean_upc` validation method to the
form by checking for an existing product by UPC. I am not sure if
that is the most efficient way to validate this. If there's a
better alternative, I am happy to change it...and learn something
:)

**Note:** I switched the functional tests in `product_tests.py`
to use `WebTest` while I was at it.
"
12976,GetBlimp,django-rest-framework-jwt,2,closed,428,2,https://api.github.com/repos/GetBlimp/django-rest-framework-jwt/issues/428/comments,https://github.com/GetBlimp/django-rest-framework-jwt/issues/428,[],ObtainJSONWebToken endpoint not working for user.is_active = False,"when user is not active..endpoint does not shows ""User account is disabled""

???????
if all(credentials.values()):
            user = authenticate(**credentials)

            if user:
                if not user.is_active:
                    msg = _('User account is disabled.')
                    raise serializers.ValidationError(msg)

                payload = jwt_payload_handler(user)

                return {
                    'token': jwt_encode_handler(payload),
                    'user': user
                }
            else:
                msg = _('Unable to log in with provided credentials.')
                raise serializers.ValidationError(msg)"
13005,GetBlimp,django-rest-framework-jwt,2,closed,345,1,https://api.github.com/repos/GetBlimp/django-rest-framework-jwt/issues/345/comments,https://github.com/GetBlimp/django-rest-framework-jwt/issues/345,[],Refresh token after username change,"I allow my users to change their usernames so I need to update their tokens after that action.
I have a custom refresh serializer:

```
class CustomRefreshJSONWebTokenSerializer(RefreshJSONWebTokenSerializer):
    """"""Checks user using user_id instead of username""""""
    def _check_user(self, payload):
        user_id = api_settings.JWT_PAYLOAD_GET_USER_ID_HANDLER(payload)

        if not user_id:
            msg = _('Invalid payload.')
            raise serializers.ValidationError(msg)

        # Make sure user exists
        try:
            user = get_user_model().objects.get(pk=user_id)
        except get_user_model().DoesNotExist:
            msg = _(""User doesn't exist."")
            raise serializers.ValidationError(msg)

        if not user.is_active:
            msg = _('User account is disabled.')
            print('Disabled')
            raise serializers.ValidationError(msg)
        return user 
```


When I try to refresh token after username change I receive ""Invalid signature.""

Is it possible to refresh token after username change? "
13025,GetBlimp,django-rest-framework-jwt,2,closed,314,2,https://api.github.com/repos/GetBlimp/django-rest-framework-jwt/issues/314/comments,https://github.com/GetBlimp/django-rest-framework-jwt/issues/314,[],AttributeError when using custom UserDetailsSerializer,"We have created a custom `UserDetailsSerializer` but when trying to run the application we get the error:

`AttributeError: module 'path.to.serializers' has no attribute 'MPUserDetailsSerializer'`

The full error is [pasted here](http://pastebin.com/c6NFpmFF).

The setup for REST_AUTH_SERIALIZERS and USER_DETAILS_SERIALIZER in the django settings is:
```
REST_AUTH_SERIALIZERS = {
    'LOGIN_SERIALIZER': 'questions.serializers.LoginSerializer',
    'JWT_SERIALIZER' : 'questions.serializers.JWTSerializer',
    'USER_DETAILS_SERIALIZER' : 'questions.serializers.MPUserDetailsSerializer',
}
```

The custom serializer is:

```
from rest_auth import serializers as auth_serializers

class MPUserDetailsSerializer(auth_serializers.UserDetailsSerializer):
""""""
User model w/o password
""""""
class Meta:
    model = User
    fields = ('pk', 'username', 'email', 'name')
    read_only_fields = ('username', )

def validate_email(self, email):
    email = get_adapter().clean_email(email)
    if allauth_settings.UNIQUE_EMAIL:
        if email and email_address_exists(email):
            raise serializers.ValidationError(
                _(""A user is already registered with this e-mail address.""))
    return email
```

The workaround that we did was to remove the following lines from our local virtualenv, in the file `/lib/python3.5/site-packages/rest-auth/serializers.py`:

```
# Required to allow using custom USER_DETAILS_SERIALIZER  in
# JWTSerializer. Defining it here to avoid circular imports
rest_auth_serializers = getattr(settings, 'REST_AUTH_SERIALIZERS', {})
JWTUserDetailsSerializer = import_callable(
  rest_auth_serializers.get('USER_DETAILS_SERIALIZER', UserDetailsSerializer)
)
```

And replacing `JWTUserDetailsSerializer` with `UserDetailsSerializer` in the same file. But that's a really bad solution since we are changing third parties code and it doesn't make any sense to remove specifically the lines that are told to be required to allow custom `USER_DETAILS_SERIALIZER`, but we don't know what else to do to make it work, are we missing something? a config maybe?

We're using django v1.10.1, djangorestframework v3.4.7 and django-rest-auth v0.9.0

(This issue was firstly created at [stackoverflow](http://stackoverflow.com/questions/41965340/attributeerror-when-using-custom-userdetailsserializer-in-django-rest-auth))
"
13183,GetBlimp,django-rest-framework-jwt,4,closed,107,2,https://api.github.com/repos/GetBlimp/django-rest-framework-jwt/issues/107/comments,https://github.com/GetBlimp/django-rest-framework-jwt/issues/107,[],ObtainJSONWebToken post method should return 401 status code for invalid credentials,"JSONWebTokenSerailizer:validate() should raise exception.AuthenticationFailed exception instead of serializer.ValidationError exception when authenticate() fails.
"
13596,Fantomas42,django-blog-zinnia,2,closed,506,3,https://api.github.com/repos/Fantomas42/django-blog-zinnia/issues/506/comments,https://github.com/Fantomas42/django-blog-zinnia/issues/506,[],Catch error with circular categories nesting,"# Actual behavior
I tried it in the demo site. If it's not up-to-date, maybe it has already been corrected.
If you edit category 1 (https://demo.django-blog-zinnia.com/admin/zinnia/category/1/change/) and define its mother category to Templates (for example), you get an error 500 (as Templates is a child of category 1).

# Expected behavior
You should get a ValidationError or ValueError (like the one you have when setting the mother category to the category itself), with an error messagedisplayed in the admin, instead of getting out of the admin with the error 500. 

# Steps to reproduce the issue
Go to https://demo.django-blog-zinnia.com/admin/zinnia/category/1/change/
  1. Set parent/mother category to Template
  2. Save
  3. -> error 500 (and lose the other changes you made during in the form)

# Specifications

 - Zinnia version: The one on the demo server
 - Django version: The one on the demo server
 - Python version: The one on the demo server
 - Operating system: The one on the demo server

# Disclaimer

Please read these questions **carefully** and answer honestly with an `x`
into all the boxes `[ ]`:

 - [x] I have read the guidelines for contributing linked to above.
 - [x] I have checked for duplicate issues.
 - [x] This is not a support request.

# More info
I'm not (yet) a user, I've just played with the demo site and the admin, and looked a bit in the code. And I'll probably use it as it seems a good solution to what I need.
If I do chose it, I'll probably write a test case for this issue, and make the correction if it hasn't been done already, but I might not be able to do that before some weeks.

- Brice"
14366,awesto,django-shop,4,closed,447,5,https://api.github.com/repos/awesto/django-shop/issues/447/comments,https://github.com/awesto/django-shop/pull/447,[],Fail with ValidationError (rather than 500) if user does not exist,"This fixes a 500 if a client hits `/shop/api/checkout/purchase/` before the corresponding user exists in the database. The bug does not affect legitimate users, but bots sometimes hit that endpoint directly."
16001,Tivix,django-rest-auth,2,closed,500,1,https://api.github.com/repos/Tivix/django-rest-auth/issues/500/comments,https://github.com/Tivix/django-rest-auth/issues/500,[],Reverse for 'account_inactive' not found. 'account_inactive' is not a valid view function or pattern name.,"try change is_active to False after adding

class MyRegisterSerializer(serializers.Serializer):
    email = serializers.EmailField(required=settings.EMAIL_REQUIRED)
    contract = serializers.CharField(required=False, write_only=False)
    tole = serializers.CharField(required=False, write_only=False)
    # is_active= serializers.CharField(required=True, write_only=True)
    password1 = serializers.CharField(required=True, write_only=True)
    password2 = serializers.CharField(required=True, write_only=True)

    def validate_email(self, email):
        email = get_adapter().clean_email(email)
        if settings.UNIQUE_EMAIL:
            if email and email_address_exists(email):
                raise serializers.ValidationError(
                    _(""Этот email уже занят""))
        return email

    def validate_password1(self, password):
        return get_adapter().clean_password(password)

    def validate(self, data):
        if data['contract']:
            try:
                ContractModel.objects.get(number=data['contract'])
            except ContractModel.DoesNotExist:
                raise serializers.ValidationError(
                    _(""Договора '"" + data['contract'] + ""' не существует.""))

        # if data['role']:
        #     try:
        #         ContractModel.objects.get(number=data['contract'])
        #     except ContractModel.DoesNotExist:
        #         raise serializers.ValidationError(
        #             _(""Договора '"" + data['contract'] + ""' не существует.""))

        if data['password1'] != data['password2']:
            raise serializers.ValidationError(
                _(""Пароли не совпадают.""))

        return data

    def get_cleaned_data(self):
        return {
            'is_active': False,
            # 'email': self.validated_data.get('email', ''),
            'contract': self.validated_data.get('contract', ''),
            'password1': self.validated_data.get('password1', ''),
            'email': self.validated_data.get('email', ''),
        }

    def save(self, request):
        adapter = get_adapter()
        user = adapter.new_user(request)
        self.cleaned_data = self.get_cleaned_data()
        adapter.save_user(request, user, self)
        setup_user_email(request, user, [])
        user.profile.save()
        return user


@receiver(pre_save, sender=User)
def set_new_user_inactive(sender, instance, **kwargs):
    if instance._state.adding is True:
        instance.is_active = False

But get error 

Reverse for 'account_inactive' not found. 'account_inactive' is not a valid view function or pattern name.

How i can fix it?"
16041,Tivix,django-rest-auth,2,closed,399,0,https://api.github.com/repos/Tivix/django-rest-auth/issues/399/comments,https://github.com/Tivix/django-rest-auth/issues/399,[],Use HTTP Status Code 403 when login authentication fails ,"Currently, the login view returns HTTP Code 400 (bad request) when a bad login credential was provided - not an ""apparent client error"" as code 400 implicates. The framework is doing this only because 400 is the default code of rest_framework.exceptions.ValidationError, which was raised when login authentication fails. Code 403 should be appropriate here. The problem can be easily resolved by adding a ""code=403"" parameter to the exception.
"
16084,Tivix,django-rest-auth,3,closed,333,2,https://api.github.com/repos/Tivix/django-rest-auth/issues/333/comments,https://github.com/Tivix/django-rest-auth/issues/333,[],Support for Google Captcha code,"It is possible to add Google Recaptcha validation by adding these code in the RegisterSerializer class:

    import requests
    class RegisterSerializer(serializers.Serializer):
         captcha_token = serializers.CharField(required=True, write_only=True)
    
        def validate_captcha_token(self, value):
            try:
                r = requests.post(
                    'https://www.google.com/recaptcha/api/siteverify',
                    {
                        'secret': settings.RECAPTCHA_PRIVATE_KEY,
                        'response': value
                    },
                    timeout=5
                )
                r.raise_for_status()
            except requests.RequestException as e:
                raise ValidationError(
                    _('Connection to reCaptcha server failed')
                )
    
            json_response = r.json()
    
            if bool(json_response['success']):
                return value
            else:
                if 'error-codes' in json_response:
                    if 'missing-input-secret' in json_response['error-codes'] or \
                                    'invalid-input-secret' in json_response['error-codes']:
                        raise serializers.ValidationError(
                            _('Connection to reCaptcha server failed')
                        )
                    else:
                        raise serializers.ValidationError(
                            _('reCaptcha invalid or expired, try again')
                        )
                else:
                    raise serializers.ValidationError(
                        _('reCaptcha response from Google not valid, try again')
                    )

The code comes from [here](https://github.com/kbytesys/django-recaptcha2/blob/master/snowpenguin/django/recaptcha2/fields.py)

In settings.py add:

    RECAPTCHA_PRIVATE_KEY = ''"
16093,Tivix,django-rest-auth,3,closed,318,2,https://api.github.com/repos/Tivix/django-rest-auth/issues/318/comments,https://github.com/Tivix/django-rest-auth/issues/318,[],AttributeError when using custom UserDetailsSerializer,"We have created a custom `UserDetailsSerializer` but when trying to run the application we get the error:

`AttributeError: module 'path.to.serializers' has no attribute 'MPUserDetailsSerializer'`

The full error is [pasted here](http://pastebin.com/c6NFpmFF).

The setup for REST_AUTH_SERIALIZERS and USER_DETAILS_SERIALIZER in the django settings is:
```
REST_AUTH_SERIALIZERS = {
    'LOGIN_SERIALIZER': 'questions.serializers.LoginSerializer',
    'JWT_SERIALIZER' : 'questions.serializers.JWTSerializer',
    'USER_DETAILS_SERIALIZER' : 'questions.serializers.MPUserDetailsSerializer',
}
```

The custom serializer is:

```
from rest_auth import serializers as auth_serializers

class MPUserDetailsSerializer(auth_serializers.UserDetailsSerializer):
""""""
User model w/o password
""""""
class Meta:
    model = User
    fields = ('pk', 'username', 'email', 'name')
    read_only_fields = ('username', )

def validate_email(self, email):
    email = get_adapter().clean_email(email)
    if allauth_settings.UNIQUE_EMAIL:
        if email and email_address_exists(email):
            raise serializers.ValidationError(
                _(""A user is already registered with this e-mail address.""))
    return email
```

The workaround that we did was to remove the following lines from our local virtualenv, in the file `/lib/python3.5/site-packages/rest-auth/serializers.py`:

```
# Required to allow using custom USER_DETAILS_SERIALIZER  in
# JWTSerializer. Defining it here to avoid circular imports
rest_auth_serializers = getattr(settings, 'REST_AUTH_SERIALIZERS', {})
JWTUserDetailsSerializer = import_callable(
  rest_auth_serializers.get('USER_DETAILS_SERIALIZER', UserDetailsSerializer)
)
```

And replacing `JWTUserDetailsSerializer` with `UserDetailsSerializer` in the same file. But that's a really bad solution since we are changing third parties code and it doesn't make any sense to remove specifically the lines that are told to be required to allow custom `USER_DETAILS_SERIALIZER`, but we don't know what else to do to make it work, are we missing something? a config maybe?

We're using django v1.10.1, djangorestframework v3.4.7 and django-rest-auth v0.9.0

(This issue was firstly created at [stackoverflow](http://stackoverflow.com/questions/41965340/attributeerror-when-using-custom-userdetailsserializer-in-django-rest-auth))
"
16137,Tivix,django-rest-auth,3,closed,253,3,https://api.github.com/repos/Tivix/django-rest-auth/issues/253/comments,https://github.com/Tivix/django-rest-auth/issues/253,[],rest_framework.exceptions.ValidationError: {'non_field_errors': ['Incorrect value']},"Hey guys,

I'm trying to do Facebook login, but I don't know what this `code` is that I have to send up. 

I sent the Facebook App ID, but I'm getting `{'non_field_errors': ['Incorrect value']}` for `self.serializer.is_valid(raise_exception=True)`.

What is this?
"
16146,Tivix,django-rest-auth,3,closed,243,4,https://api.github.com/repos/Tivix/django-rest-auth/issues/243/comments,https://github.com/Tivix/django-rest-auth/issues/243,[],Triggering 500 for duplicate emails,"Hi, 

If a project doesn't include allauth.url there is a case when someone using the same email address as local user tries to sign in with SocialAccount and same email address. There is a 500 triggered on social_acount_signup reverse.

I've seen it mentioned in closed issues.

Allauth provides a hook on the adapter pre_social_login.

I've noticed that the only type of exception covered in the SocialLoginSerializer you provide is:

``` #!python
try:
    login = self.get_social_login(adapter, app, token, access_token)
    complete_social_login(request, login)
except HTTPError:
    raise serializers.ValidationError(_('Incorrect value'))
```

This seems like a bad way to intercept anything put in pre_social_login hook. Also there are other errors which could happen in the process to which maybe other messages apply.

Do you guys think there is maybe a better way to go about this?
"
16270,Tivix,django-rest-auth,4,closed,102,1,https://api.github.com/repos/Tivix/django-rest-auth/issues/102/comments,https://github.com/Tivix/django-rest-auth/issues/102,[],Commit #47 broke compatibility with drf <3,"ValidationError is not included in earlier versions on DRF and it is not trivial to upgrade. Perhaps there is a more backward compatible solution, e.g using the django.core.exceptions ValidationError
"
16297,Tivix,django-rest-auth,5,closed,73,2,https://api.github.com/repos/Tivix/django-rest-auth/issues/73/comments,https://github.com/Tivix/django-rest-auth/issues/73,[],Django 1.8 breaks rest-auth,"See https://github.com/pennersr/django-allauth/issues/858#issuecomment-92357122

There is an invocation of the user when the account is not setup yet.

``` python
        try:
            login = self.adapter.complete_login(request, app, token,
                                                response=access_token)
            token.account = login.account
            login.token = token
            complete_social_login(request, login)
        except HTTPError:
            raise serializers.ValidationError('Incorrect value')
```
"
16318,Tivix,django-rest-auth,5,closed,51,7,https://api.github.com/repos/Tivix/django-rest-auth/issues/51/comments,https://github.com/Tivix/django-rest-auth/issues/51,[],How to update extended user profile?,"I had a need to store additional information for the user. So I created a UserProfile model by adding this in my `models.py`

``` python
from django.db import models
from django.contrib.auth.models import User

class UserProfile(models.Model):
    user = models.OneToOneField(User)
    company_name = models.CharField(max_length=100)
```

Further I made a `serializers.py` file in my application and added the following to it so that whenever the user is created a `UserProfile` could be created as well and whenever a user is updated the `company_name` field would be updated as well. 

``` python
from rest_framework import serializers
#from django.forms.exceptions import ValidationError
from rest_framework.serializers import ValidationError
from .models import *
from django.contrib.auth import get_user_model
import re


class UserProfileSerializer(serializers.ModelSerializer):
    #follows = serializers.PrimaryKeyRelatedField(many=True, read_only=True)
    class Meta:
        model = models.UserProfile
        fields = ('company_name',)

class UserSerializer(serializers.ModelSerializer):
    profile = UserProfileSerializer()

    class Meta:
        model = User
        fields = ('username', 'email', 'profile')

    def create(self, validated_data):
        profile_data = validated_data.pop('profile')
        user = User.objects.create(**validated_data)
        Profile.objects.create(user=user, **profile_data)
        return user

    def update(self, instance, validated_data):
        profile_data = validated_data.pop('profile')
        # Unless the application properly enforces that this field is
        # always set, the follow could raise a `DoesNotExist`, which
        # would need to be handled.
        profile = instance.profile

        instance.username = validated_data.get('username', instance.username)
        instance.email = validated_data.get('email', instance.email)
        instance.save()

        profile.company_name = profile_data.get(
            'company_name',
            profile.company_name
        )
        profile.save()

        return instance
```

However, the changes I made to serializers.py don't seem to be having any effect. 
How would I go about updating the `company_name` field when the user profile is updated on this url `http://localhost:8080/rest-auth/user/` ? FYI, I'm trying all this in the demo application that ships with application.
"
16322,Tivix,django-rest-auth,5,closed,47,3,https://api.github.com/repos/Tivix/django-rest-auth/issues/47/comments,https://github.com/Tivix/django-rest-auth/issues/47,"[{""default"": true, ""name"": ""bug"", ""url"": ""https://api.github.com/repos/Tivix/django-rest-auth/labels/bug"", ""color"": ""fc2929"", ""node_id"": ""MDU6TGFiZWw5NjMyMzg4Ng=="", ""id"": 96323886}]",(Security bug) PasswordResetConfirm doesn't check token! It allows to change password for anyone,"https://github.com/Tivix/django-rest-auth/blob/master/rest_auth/serializers.py#L116 

Perhaps, you forgot to raise an exception, for example like that:

<pre>
if self._errors:
            raise serializers.ValidationError(self._errors)
</pre>
"
4713,mirumee,saleor,22,closed,1943,1,https://api.github.com/repos/mirumee/saleor/issues/1943/comments,https://github.com/mirumee/saleor/pull/1943,[],Enable creating sale either for products or categories ,"I want to merge this change because it enables creating sale either for products or categories (or both). It also adds displaying `non_field_errors` in the template, which is not made by default.

Closes #1920 

### Pull Request Checklist

1. [ ] Privileged views and APIs are guarded by proper permission checks.
1. [x] All visible strings are translated with proper context.
1. [ ] All data-formatting is locale-aware (dates, numbers, and so on).
1. [ ] Database queries are optimized and the number of queries is constant.
1. [x] The changes are tested.
1. [ ] The code is documented (docstrings, project documentation).
1. [ ] Python code quality checks pass: `pycodestyle`, `pydocstyle`, `pylint`.
1. [ ] JavaScript code quality checks pass: `eslint`.
"
6136,mirumee,saleor,36,closed,448,2,https://api.github.com/repos/mirumee/saleor/issues/448/comments,https://github.com/mirumee/saleor/pull/448,[],Remove unnecessary broken add_error method.,"This method is now implemented by Django itself, but in a subtly different way. With this implementation, if you raise a ValidationError in the clean() method it will getting added to form.errors under they key `None` instead of `NON_FIELD_ERRORS`, and therefore silently disappear from rendering.
"
6214,mirumee,saleor,37,closed,370,4,https://api.github.com/repos/mirumee/saleor/issues/370/comments,https://github.com/mirumee/saleor/issues/370,[],Add django bootstrap3 templatetags,"I think we need more complex solution for bootstrap3 tempalatetags in Saleor. I was facing some problems while customizing ""Add to cart"" form. I couldn't clearly add `non_field_errors`, as it's not correctly done in current version. I had to use this code: 
`{% include ""bootstrap/_non_field_errors.html"" with errors=form.non_field_errors %}`
I suggest to use [django-bootstrap3](http://django-bootstrap3.readthedocs.org/en/latest/) or maybe you have some propositions.
"
12984,GetBlimp,django-rest-framework-jwt,2,closed,402,4,https://api.github.com/repos/GetBlimp/django-rest-framework-jwt/issues/402/comments,https://github.com/GetBlimp/django-rest-framework-jwt/issues/402,[],Refresh token is not working,"Django 1.11.7
djangorestframework-jwt==1.11.0
djangorestframework==3.7.3
pyjwt==1.5.3              # via djangorestframework-jwt

```python
JWT_AUTH = {
    'JWT_ENCODE_HANDLER':
        'rest_framework_jwt.utils.jwt_encode_handler',

    'JWT_DECODE_HANDLER':
        'rest_framework_jwt.utils.jwt_decode_handler',

    'JWT_PAYLOAD_HANDLER':
        'rest_framework_jwt.utils.jwt_payload_handler',

    'JWT_PAYLOAD_GET_USER_ID_HANDLER':
        'rest_framework_jwt.utils.jwt_get_user_id_from_payload_handler',

    'JWT_RESPONSE_PAYLOAD_HANDLER':
        'rest_framework_jwt.utils.jwt_response_payload_handler',

    'JWT_GET_USER_SECRET_KEY': None,
    'JWT_PUBLIC_KEY': None,
    'JWT_PRIVATE_KEY': None,
    'JWT_ALGORITHM': 'HS256',
    'JWT_VERIFY': True,
    'JWT_VERIFY_EXPIRATION': True,
    'JWT_LEEWAY': 0,
    'JWT_EXPIRATION_DELTA': datetime.timedelta(hours=8),
    'JWT_AUDIENCE': None,
    'JWT_ISSUER': None,

    'JWT_ALLOW_REFRESH': True,
    'JWT_REFRESH_EXPIRATION_DELTA': datetime.timedelta(days=7),

    'JWT_AUTH_HEADER_PREFIX': 'JWT',
    'JWT_AUTH_COOKIE': None,

}
```

**Error**
```bash
{
    ""non_field_errors"": [
        ""orig_iat field is required.""
    ]
}
```

Where am I wrong?
"
12991,GetBlimp,django-rest-framework-jwt,2,closed,375,1,https://api.github.com/repos/GetBlimp/django-rest-framework-jwt/issues/375/comments,https://github.com/GetBlimp/django-rest-framework-jwt/issues/375,[],DRF JWT [non_field_errors: 'Invalid payload.'] on custom payload handlers,"I have had an issue related to custom payload handlers. My Django User Model uses the user email as the means of authentication (i.e. username). 

Therefore, as I have concluded, you must have a method that overrides the default username field to 'email'. 

Just for clarification for those looking for an answer in the future, I have managed to solve it. The problem lied at the **payload handlers**.
I had overwritten the payload and response payload handlers respectively in such way:

`def jwt_payload_handler(user):`
`    return { `
`        'user_id': user.pk, `
<<<<`         'email': user.email,`>>>> 
`        'is_cidadao': user.is_cidadao, `
`        'is_politico': user.is_politico, `
`        'exp': datetime.utcnow() + api_settings.JWT_EXPIRATION_DELTA,`
`        'orig_iat': timegm( `
`            datetime.utcnow().utctimetuple() `
`        ) `
`    } `

`def jwt_response_payload_handler(token, user=None, request=None):`
`    return {`
`        'token': token,`
<<<<        `'email': user.email,`>>>>
`        'is_cidadao': user.is_cidadao,`
`        'is_politico': user.is_politico,`
`    }`

OTHERWISE, it is possible to fix this by declaring the 'username' field on the first level (outside any objects) of the payload handlers. Notice the email field in bold, it should, therefore be changed to 


`def jwt_payload_handler(user):    `
`    return { `
`        'user_id': user.pk,`
<<<<`        'username': user.email,`>>>>
`        'is_cidadao': user.is_cidadao,`
`        'is_politico': user.is_politico,`
`        'exp': datetime.utcnow() + api_settings.JWT_EXPIRATION_DELTA,`
`        'orig_iat': timegm(`
`            datetime.utcnow().utctimetuple()`
`        )`
`    }`

`def jwt_response_payload_handler(token, user=None, request=None):`
`    return {`
`        'token': token,`
<<<<`        'username': user.email,`>>>>
`        'is_cidadao': user.is_cidadao,`
`        'is_politico': user.is_politico,`
`    }`

I have solved this using feedback given in issues #284 and #145."
13003,GetBlimp,django-rest-framework-jwt,2,closed,349,3,https://api.github.com/repos/GetBlimp/django-rest-framework-jwt/issues/349/comments,https://github.com/GetBlimp/django-rest-framework-jwt/issues/349,[],DRF JWT without a UserModel," I am getting an error when i try to refresh the token or verify it on the endpoint.

```
 curl -X POST -H ""Content-Type: application/json"" -d '{""token"":""eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJvcmlnX2lhdCI6MTUwMDI5OTUyNCwidXNlcl9pZCI6IlMxNjQxNzMiLCJleHAiOjE1MDAzODU5MjR9.mTNn44Xm9lBp1v8WkUrkp3kdYSCsOrqHACa7fVq2qi8""}' http://localhost:8000/api-token-verify/
 {""non_field_errors"":[""Invalid payload.""]}%
```

I did a print of my payload and here is what I get
```
{'orig_iat': 1500299524, 'user_id': u'S164173', 'exp': 1500385924}
eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJvcmlnX2lhdCI6MTUwMDI5OTUyNCwidXNlcl9pZCI6IlMxNjQxNzMiLCJleHAiOjE1MDAzODU5MjR9.mTNn44Xm9lBp1v8WkUrkp3kdYSCsOrqHACa7fVq2qi8
```


I am not using django's default auth mechanism, my auth works like this,  i pass in a user id to my api endpoint, it verifies it against an external db, and then sends an otp to the client after the verification of the otp i will return the jwt token to authenticate with other api endpoints.


```
 payload = jwt_payload_handler(client_id)
 token = jwt_encode_handler(payload)
if (result[0] == otp):
                payload = jwt_payload_handler(client_id)
                access_token = jwt_encode_handler(payload)
                print(payload)
                print(access_token)
                return Response({'message': 'Partner Verified',
                                'access_token': access_token}, 
                                status=status.HTTP_200_OK)
```


Here is the custom function i implemented based on what was suggested over here https://github.com/GetBlimp/django-rest-framework-jwt/issues/145


```
from datetime import datetime
from calendar import timegm
from rest_framework_jwt.settings import api_settings

def jwt_payload_handler(client_id):
    """""" Custom payload handler
    Token encrypts the dictionary returned by this function, and can be decoded by rest_framework_jwt.utils.jwt_decode_handler
    """"""
    return {
        'user_id': client_id,
        'exp': datetime.utcnow() + api_settings.JWT_EXPIRATION_DELTA,
        'orig_iat': timegm(
            datetime.utcnow().utctimetuple()
        )
    }

def jwt_response_payload_handler(token, user=None, request=None):
    """""" Custom response payload handler.

    This function controlls the custom payload after login or token refresh. This data is returned through the web API.
    """"""
    return {
        'token': token
    }
```
Can someone please point out what is happening here and what can i do to make it work, How can i override the default authentication so that it works without the user model in place and it validates against (say a client_id which exists in my external remote database) ?
"
13010,GetBlimp,django-rest-framework-jwt,2,closed,336,6,https://api.github.com/repos/GetBlimp/django-rest-framework-jwt/issues/336/comments,https://github.com/GetBlimp/django-rest-framework-jwt/issues/336,[],Custom authentication backend not working,"I have a custom user model and have created a custom authentication backend. I am using django rest framework JWT for token authentication.

User model:
```

class User(AbstractBaseUser, PermissionsMixin):
    email = models.EmailField(
        unique=True,
        max_length=254,
    )
    first_name = models.CharField(max_length=15)
    last_name = models.CharField(max_length=15)
    mobile = models.IntegerField(unique=True)
    date_joined = models.DateTimeField(default=timezone.now)
    is_active = models.BooleanField(default=True)
    is_admin = models.BooleanField(default=False)
    objects = UserManager()
    USERNAME_FIELD = 'email'
    REQUIRED_FIELDS = ['first_name', 'last_name', 'mobile']
```

Auth backend:

```
class EmailOrMobileAuthBackend(object):
    def authenticate(self, username=None, password=None):
        try:
            user = get_user_model().objects.get(email=username)
            if user.check_password(password):
                return user
        except User.DoesNotExist:
            if username.isdigit():
                try:
                    user = get_user_model().objects.get(mobile=username)
                    if user.check_password(password):
                        return user
                except User.DoesNotExist:
                    return None
            else:
                return None

    def get_user(self, user_id):
        try:
            return get_user_model().objects.get(pk=user_id)
        except User.DoesNotExist:
            return None
```

And have added in the settings.py:

`AUTHENTICATION_BACKENDS = ('accounts.email_mobile_auth_backend.EmailOrMobileAuthBackend',)`

I have also added the custom auth backend class in the Default authentication for Rest framework:

```
    REST_FRAMEWORK = {
        ...
        'DEFAULT_AUTHENTICATION_CLASSES': (
            'accounts.email_mobile_auth_backend.EmailOrMobileAuthBackend',
            'rest_framework_jwt.authentication.JSONWebTokenAuthentication',
        ),
    }
```

While to log in to django admin site, both the email and mobile number works fine in authenticating the user. However, when I try get the token for the user using django rest framework JWT, I get an error:

```
curl -X POST -d ""email=admin@gmail.com&password=123123"" http://localhost/api-token-auth/

""non_field_errors"": [
    ""Unable to log in with provided credentials.""
  ]
```

What am I missing? Any help would be great."
13109,GetBlimp,django-rest-framework-jwt,3,closed,190,8,https://api.github.com/repos/GetBlimp/django-rest-framework-jwt/issues/190/comments,https://github.com/GetBlimp/django-rest-framework-jwt/issues/190,[],Refresh token not working,"I'm using all the default settings (including the default URLS), and using CURL to refresh the token but I get the following error:

{""non_field_errors"":[""orig_iat field is required.""]}

Any idea why this error is occurring?
"
13262,GetBlimp,django-rest-framework-jwt,4,closed,24,1,https://api.github.com/repos/GetBlimp/django-rest-framework-jwt/issues/24/comments,https://github.com/GetBlimp/django-rest-framework-jwt/issues/24,[],python-social-auth integration?,"Hi, this app is working really well with DRF and I'm getting a token back, but when I use python-social-auth. I can't an access token for the given username and password . how do you handle that problem?
I get this instead:
{""non_field_errors"": [""Unable to login with provided credentials.""]}
since python-social-auth doesn't have the password and it can only get an access_token (e.g. from google-oauth2) then how can I make it work with this username/password auth that your app is providing?

What's confusing me is that in the user table; in my case account_account, I have a value for password for the user that was registered by python-social-auth.
password length is 41 for that record which is different from the default SHA256
"
13385,Seedstars,django-react-redux-base,2,closed,6,1,https://api.github.com/repos/Seedstars/django-react-redux-base/issues/6/comments,https://github.com/Seedstars/django-react-redux-base/issues/6,[],Why I cannot fetch login interface,"I followed the steps in the README.md,
However, when I visit 'http://localhost:8000/api/v1/accounts/login/', I only get message as ""non_field_errors"": [
        ""Method \""GET\"" not allowed.""
    ]

anybody who can help me solve this? thank you
"
14239,awesto,django-shop,3,closed,601,3,https://api.github.com/repos/awesto/django-shop/issues/601/comments,https://github.com/awesto/django-shop/issues/601,[],How I allow user to register without items in cart?,"Now I need to allow user to register without items in cart, but if I use AuthFormsView (by default) I see warning: ""Unable to proceed to the checkout page without items in the cart.""

I try to use custom AuthFormsView like this:
```
class CustomAuthFormsView(GenericAPIView):
    serializer_class = None
    form_class = None

    def post(self, request, *args, **kwargs):
        # if request.customer.is_visitor():
        #     errmsg = _(""Unable to proceed to the checkout page without items in the cart."")
        #     errors = {NON_FIELD_ERRORS: errmsg}
        #     return Response(errors, status=status.HTTP_400_BAD_REQUEST)
        form = self.form_class(data=request.data, instance=request.customer)
        if form.is_valid():
            form.save(request=request)
            return Response(form.data, status=status.HTTP_200_OK)
        return Response(dict(form.errors), status=status.HTTP_400_BAD_REQUEST)
```

But I get error:
```
Traceback (most recent call last):
  File ""/home/vivazzi/projects/lonx/env/local/lib/python2.7/site-packages/django/core/handlers/exception.py"", line 42, in inner
    response = get_response(request)
  File ""/home/vivazzi/projects/lonx/env/local/lib/python2.7/site-packages/django/core/handlers/base.py"", line 249, in _legacy_get_response
    response = self._get_response(request)
  File ""/home/vivazzi/projects/lonx/env/local/lib/python2.7/site-packages/django/core/handlers/base.py"", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File ""/home/vivazzi/projects/lonx/env/local/lib/python2.7/site-packages/django/core/handlers/base.py"", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File ""/home/vivazzi/projects/lonx/env/local/lib/python2.7/site-packages/django/views/decorators/csrf.py"", line 58, in wrapped_view
    return view_func(*args, **kwargs)
  File ""/home/vivazzi/projects/lonx/env/local/lib/python2.7/site-packages/django/views/generic/base.py"", line 68, in view
    return self.dispatch(request, *args, **kwargs)
  File ""/home/vivazzi/projects/lonx/env/local/lib/python2.7/site-packages/rest_framework/views.py"", line 477, in dispatch
    response = self.handle_exception(exc)
  File ""/home/vivazzi/projects/lonx/env/local/lib/python2.7/site-packages/rest_framework/views.py"", line 437, in handle_exception
    self.raise_uncaught_exception(exc)
  File ""/home/vivazzi/projects/lonx/env/local/lib/python2.7/site-packages/rest_framework/views.py"", line 474, in dispatch
    response = handler(request, *args, **kwargs)
  File ""/home/vivazzi/projects/lonx/spec/forms.py"", line 21, in post
    form = self.form_class(data=request.data, instance=request.customer)
  File ""/home/vivazzi/projects/lonx/env/local/lib/python2.7/site-packages/shop/forms/auth.py"", line 55, in __init__
    super(RegisterUserForm, self).__init__(data=data, instance=instance, *args, **kwargs)
  File ""/home/vivazzi/projects/lonx/env/local/lib/python2.7/site-packages/djng/forms/angular_model.py"", line 41, in __init__
    super(NgModelFormMixin, self).__init__(data, *args, **kwargs)
  File ""/home/vivazzi/projects/lonx/env/local/lib/python2.7/site-packages/djng/forms/angular_validation.py"", line 17, in __init__
    super(NgFormValidationMixin, self).__init__(*args, **kwargs)
  File ""/home/vivazzi/projects/lonx/env/local/lib/python2.7/site-packages/djng/forms/angular_base.py"", line 252, in __init__
    super(NgFormBaseMixin, self).__init__(data=data, *args, **kwargs)
  File ""/home/vivazzi/projects/lonx/env/local/lib/python2.7/site-packages/django/forms/models.py"", line 282, in __init__
    object_data = model_to_dict(instance, opts.fields, opts.exclude)
  File ""/home/vivazzi/projects/lonx/env/local/lib/python2.7/site-packages/django/forms/models.py"", line 87, in model_to_dict
    opts = instance._meta
  File ""/home/vivazzi/projects/lonx/env/local/lib/python2.7/site-packages/django/utils/functional.py"", line 235, in inner
    return func(self._wrapped, *args)
AttributeError: 'VisitingCustomer' object has no attribute '_meta'
```

It is important to me to allow user, because some users register as partner on our site, which don't buy anything from our shop."
16105,Tivix,django-rest-auth,3,closed,298,4,https://api.github.com/repos/Tivix/django-rest-auth/issues/298/comments,https://github.com/Tivix/django-rest-auth/issues/298,[],400 error when logging in when using email only mode.,"I am trying to set up authentication using django-rest-auth and django-allauth. The user exists in the database and I can login to the django admin site. When I try to login using the rest-auth/login/ endpoint posting email/password, I receive a 400 error with the following response:

```
{
    ""non_field_errors"": [
        ""Unable to log in with provided credentials.""
    ]
}
```

I followed the instructions here: http://django-allauth.readthedocs.io/en/latest/configuration.html#configuration

In my settings file I have the following:

```
ACCOUNT_EMAIL_REQUIRED = True
ACCOUNT_UNIQUE_EMAIL = True
ACCOUNT_AUTHENTICATION_METHOD = 'email' 
```

If I comment out the three lines above and use the same endpoint but add the username it works. It seems to only not work with email only mode.

Thanks for your help!"
16137,Tivix,django-rest-auth,3,closed,253,3,https://api.github.com/repos/Tivix/django-rest-auth/issues/253/comments,https://github.com/Tivix/django-rest-auth/issues/253,[],rest_framework.exceptions.ValidationError: {'non_field_errors': ['Incorrect value']},"Hey guys,

I'm trying to do Facebook login, but I don't know what this `code` is that I have to send up. 

I sent the Facebook App ID, but I'm getting `{'non_field_errors': ['Incorrect value']}` for `self.serializer.is_valid(raise_exception=True)`.

What is this?
"
16212,Tivix,django-rest-auth,4,closed,162,1,https://api.github.com/repos/Tivix/django-rest-auth/issues/162/comments,https://github.com/Tivix/django-rest-auth/issues/162,[],incoherent validation messages,"If I try to login with wrong crdentials the (bad) http response payload is something similar to this 

```
{non_field_errors: [""Unable to log in with provided credentials.""]}
```

I've understood I can change the name of this field using this settings:

```
REST_FRAMEWORK = {
  'NON_FIELD_ERRORS_KEY' : ""validation_errors""
}
```

so that the response would become:

```
{validation_errors: [""Unable to log in with provided credentials.""]}
```

If I send wrong fields during registration (so using allauth) I receive a structure similar to this:

```
{
    password1 : [""This field is required.""]
    password2 : [""This field is required.""]
    username  : [""This field is required.""]
}
```

Completely different from the previous one.

I don't know who is responsable for the validation messages (and structure) in the first and second case: Django, Form validation, Allauth or django-rest-auth?

A clarification would help in order to always send a similar structure in case of errors.

Also, are only validation error sent back? Exposing internal errors would be a risk, but I guess this should be disabled with `DEBUG = False`, unless this apps is exposing something more, isn't it?
"
16255,Tivix,django-rest-auth,4,closed,117,1,https://api.github.com/repos/Tivix/django-rest-auth/issues/117/comments,https://github.com/Tivix/django-rest-auth/issues/117,[],Login does not work in Demo project,"Following the standard registration process, with successful email verification, I'm unable to log in afterwards. Tried giving both username and email in the username field, always the same result:

API Response: 400 BAD REQUEST
Content: {""non_field_errors"":[""Must include \""email\"" and \""password\"".""]}
"
16256,Tivix,django-rest-auth,4,closed,116,5,https://api.github.com/repos/Tivix/django-rest-auth/issues/116/comments,https://github.com/Tivix/django-rest-auth/issues/116,[],CSRF error and email error,"I tried the demo, the first error I got was a CSRF error when I went to the **127.0.0.1:8000/login/** page. So I went ahead and added the following in the **login_form.html** template file:

```
{% csrf_token %}
```

Then I tried to login again, and got the following error:

```
API Response: 400 BAD REQUEST
Content: {""non_field_errors"":[""Must include \""email\"" and \""password\"".""]}
```

So I used the postman plugin for chrome and entered the email address. Then, I got this error:

{""non_field_errors"":[""Unable to log in with provided credentials.""]}

What did I do wrong?
"
16269,Tivix,django-rest-auth,4,closed,103,3,https://api.github.com/repos/Tivix/django-rest-auth/issues/103/comments,https://github.com/Tivix/django-rest-auth/issues/103,[],non_field_errors : Must include email and password HTTP 400,"After registering a user, I can't login with that user - neither on the AngularJS app nor the JQuery demo app. I followed the Demo instructions verbatim here - http://django-rest-auth.readthedocs.org/en/latest/demo.html

API Response: 400 BAD REQUEST
Content: {""non_field_errors"":[""Must include \""email\"" and \""password\"".""]}

How can I login/register a user?
"
16445,vitorfs,bootcamp,2,closed,109,1,https://api.github.com/repos/vitorfs/bootcamp/issues/109/comments,https://github.com/vitorfs/bootcamp/issues/109,[],help ! i cant load the static files ...,"when i run the first page
i found the css files is not found

i get those errors 
thanks for helper !

---------------------------------------------------------------

[05/Sep/2017 09:49:46] ""GET / HTTP/1.1"" 200 2421
Traceback (most recent call last):
  File ""D:\Python36-32\lib\site-packages\django\core\handlers\exception.py"", line 41, in inner
    response = get_response(request)
  File ""D:\Python36-32\lib\site-packages\django\core\handlers\base.py"", line 249, in _legacy_get_response
    response = self._get_response(request)
  File ""D:\Python36-32\lib\site-packages\django\core\handlers\base.py"", line 172, in _get_response
    resolver_match = resolver.resolve(request.path_info)
  File ""D:\Python36-32\lib\site-packages\django\urls\resolvers.py"", line 392, in resolve
    raise Resolver404({'tried': tried, 'path': new_path})
django.urls.exceptions.Resolver404: {'tried': [[<RegexURLPattern home ^$>], [<RegexURLPattern login ^login>], [<RegexURLPattern logout ^logout>], [<RegexURL
Pattern signup ^signup/$>], [<RegexURLPattern settings ^settings/$>], [<RegexURLPattern picture ^settings/picture/$>], [<RegexURLPattern upload_picture ^set
tings/upload_picture/$>], [<RegexURLPattern save_uploaded_picture ^settings/save_uploaded_picture/$>], [<RegexURLPattern password ^settings/password/$>], [<
RegexURLPattern network ^network/$>], [<RegexURLResolver <module 'bootcamp.feeds.urls' from 'D:\\Python36-32\\works\\myvenv2\\bootcamp\\feeds\\urls.py'> (No
ne:None) ^feeds/>], [<RegexURLResolver <module 'bootcamp.questions.urls' from 'D:\\Python36-32\\works\\myvenv2\\bootcamp\\questions\\urls.py'> (None:None) ^
questions/>], [<RegexURLResolver <module 'bootcamp.articles.urls' from 'D:\\Python36-32\\works\\myvenv2\\bootcamp\\articles\\urls.py'> (None:None) ^articles
/>], [<RegexURLResolver <module 'bootcamp.messenger.urls' from 'D:\\Python36-32\\works\\myvenv2\\bootcamp\\messenger\\urls.py'> (None:None) ^messages/>], [<
RegexURLPattern notifications ^notifications/$>], [<RegexURLPattern last_notifications ^notifications/last/$>], [<RegexURLPattern check_notifications ^notif
ications/check/$>], [<RegexURLPattern search ^search/$>], [<RegexURLPattern profile ^(?P<username>[^/]+)/$>], [<RegexURLResolver <module 'django.conf.urls.i
18n' from 'D:\\Python36-32\\lib\\site-packages\\django\\conf\\urls\\i18n.py'> (None:i18n) ^i18n/>]], 'path': 'static/css/bootcamp.css'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File ""D:\Python36-32\lib\site-packages\django\core\handlers\exception.py"", line 109, in get_exception_response
    response = callback(request, **dict(param_dict, exception=exception))
  File ""D:\Python36-32\lib\site-packages\django\utils\decorators.py"", line 149, in _wrapped_view
    response = view_func(request, *args, **kwargs)
  File ""D:\Python36-32\lib\site-packages\django\views\defaults.py"", line 45, in page_not_found
    body = template.render(context, request)
  File ""D:\Python36-32\lib\site-packages\django\template\backends\django.py"", line 66, in render
    return self.template.render(context)
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 207, in render
    return self._render(context)
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 199, in _render
    return self.nodelist.render(context)
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 990, in render
    bit = node.render_annotated(context)
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 957, in render_annotated
    return self.render(context)
  File ""D:\Python36-32\lib\site-packages\django\template\loader_tags.py"", line 177, in render
    return compiled_parent._render(context)
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 199, in _render
    return self.nodelist.render(context)
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 990, in render
    bit = node.render_annotated(context)
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 957, in render_annotated
    return self.render(context)
  File ""D:\Python36-32\lib\site-packages\django\template\loader_tags.py"", line 72, in render
    result = block.nodelist.render(context)
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 990, in render
    bit = node.render_annotated(context)
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 957, in render_annotated
    return self.render(context)
  File ""D:\Python36-32\lib\site-packages\django\template\defaulttags.py"", line 458, in render
    url = reverse(view_name, args=args, kwargs=kwargs, current_app=current_app)
  File ""D:\Python36-32\lib\site-packages\django\urls\base.py"", line 91, in reverse
    return force_text(iri_to_uri(resolver._reverse_with_prefix(view, prefix, *args, **kwargs)))
  File ""D:\Python36-32\lib\site-packages\django\urls\resolvers.py"", line 497, in _reverse_with_prefix
    raise NoReverseMatch(msg)
django.urls.exceptions.NoReverseMatch: Reverse for 'profile' with arguments '('',)' not found. 1 pattern(s) tried: ['(?P<username>[^/]+)/$']

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
Traceback (most recent call last):
  File ""D:\Python36-32\lib\wsgiref\handlers.py"", line 137, in run
    self.result = application(self.environ, self.start_response)
  File ""D:\Python36-32\lib\site-packages\django\core\handlers\wsgi.py"", line 157, in __call__
    response = self.get_response(request)
  File ""D:\Python36-32\lib\site-packages\django\core\handlers\base.py"", line 124, in get_response
    response = self._middleware_chain(request)
  File ""D:\Python36-32\lib\site-packages\django\core\handlers\exception.py"", line 43, in inner
    response = response_for_exception(request, exc)
  File ""D:\Python36-32\lib\site-packages\django\core\handlers\exception.py"", line 53, in response_for_exception
    response = get_exception_response(request, get_resolver(get_urlconf()), 404, exc)
  File ""D:\Python36-32\lib\site-packages\django\core\handlers\exception.py"", line 119, in get_exception_response
    response = handle_uncaught_exception(request, resolver, sys.exc_info())
  File ""D:\Python36-32\lib\site-packages\django\core\handlers\exception.py"", line 143, in handle_uncaught_exception
    return callback(request, **param_dict)
  File ""D:\Python36-32\lib\site-packages\django\utils\decorators.py"", line 149, in _wrapped_view
    response = view_func(request, *args, **kwargs)
  File ""D:\Python36-32\lib\site-packages\django\views\defaults.py"", line 74, in server_error
    return http.HttpResponseServerError(template.render())
  File ""D:\Python36-32\lib\site-packages\django\template\backends\django.py"", line 66, in render
    return self.template.render(context)
  File ""D:\Python36-32\lib\site-packages\django\core\handlers\exception.py"", line 41, in inner
    response = get_response(request)
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 207, in render
    return self._render(context)
  File ""D:\Python36-32\lib\site-packages\django\core\handlers\base.py"", line 249, in _legacy_get_response
    response = self._get_response(request)
  File ""D:\Python36-32\lib\site-packages\django\core\handlers\base.py"", line 172, in _get_response
    resolver_match = resolver.resolve(request.path_info)
  File ""D:\Python36-32\lib\site-packages\django\urls\resolvers.py"", line 392, in resolve
    raise Resolver404({'tried': tried, 'path': new_path})
django.urls.exceptions.Resolver404: {'tried': [[<RegexURLPattern home ^$>], [<RegexURLPattern login ^login>], [<RegexURLPattern logout ^logout>], [<RegexURL
Pattern signup ^signup/$>], [<RegexURLPattern settings ^settings/$>], [<RegexURLPattern picture ^settings/picture/$>], [<RegexURLPattern upload_picture ^set
tings/upload_picture/$>], [<RegexURLPattern save_uploaded_picture ^settings/save_uploaded_picture/$>], [<RegexURLPattern password ^settings/password/$>], [<
RegexURLPattern network ^network/$>], [<RegexURLResolver <module 'bootcamp.feeds.urls' from 'D:\\Python36-32\\works\\myvenv2\\bootcamp\\feeds\\urls.py'> (No
ne:None) ^feeds/>], [<RegexURLResolver <module 'bootcamp.questions.urls' from 'D:\\Python36-32\\works\\myvenv2\\bootcamp\\questions\\urls.py'> (None:None) ^
questions/>], [<RegexURLResolver <module 'bootcamp.articles.urls' from 'D:\\Python36-32\\works\\myvenv2\\bootcamp\\articles\\urls.py'> (None:None) ^articles
/>], [<RegexURLResolver <module 'bootcamp.messenger.urls' from 'D:\\Python36-32\\works\\myvenv2\\bootcamp\\messenger\\urls.py'> (None:None) ^messages/>], [<
RegexURLPattern notifications ^notifications/$>], [<RegexURLPattern last_notifications ^notifications/last/$>], [<RegexURLPattern check_notifications ^notif
ications/check/$>], [<RegexURLPattern search ^search/$>], [<RegexURLPattern profile ^(?P<username>[^/]+)/$>], [<RegexURLResolver <module 'django.conf.urls.i
18n' from 'D:\\Python36-32\\lib\\site-packages\\django\\conf\\urls\\i18n.py'> (None:i18n) ^i18n/>]], 'path': 'static/js/bootcamp.js'}

During handling of the above exception, another exception occurred:

  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 199, in _render
    return self.nodelist.render(context)
Traceback (most recent call last):
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 990, in render
    bit = node.render_annotated(context)
  File ""D:\Python36-32\lib\site-packages\django\core\handlers\exception.py"", line 109, in get_exception_response
    response = callback(request, **dict(param_dict, exception=exception))
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 957, in render_annotated
    return self.render(context)
  File ""D:\Python36-32\lib\site-packages\django\utils\decorators.py"", line 149, in _wrapped_view
    response = view_func(request, *args, **kwargs)
  File ""D:\Python36-32\lib\site-packages\django\views\defaults.py"", line 45, in page_not_found
    body = template.render(context, request)
  File ""D:\Python36-32\lib\site-packages\django\template\loader_tags.py"", line 177, in render
    return compiled_parent._render(context)
  File ""D:\Python36-32\lib\site-packages\django\template\backends\django.py"", line 66, in render
    return self.template.render(context)
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 199, in _render
    return self.nodelist.render(context)
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 207, in render
    return self._render(context)
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 990, in render
    bit = node.render_annotated(context)
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 199, in _render
    return self.nodelist.render(context)
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 957, in render_annotated
    return self.render(context)
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 990, in render
    bit = node.render_annotated(context)
  File ""D:\Python36-32\lib\site-packages\django\template\loader_tags.py"", line 72, in render
    result = block.nodelist.render(context)
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 957, in render_annotated
    return self.render(context)
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 990, in render
    bit = node.render_annotated(context)
  File ""D:\Python36-32\lib\site-packages\django\template\loader_tags.py"", line 177, in render
    return compiled_parent._render(context)
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 957, in render_annotated
    return self.render(context)
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 199, in _render
    return self.nodelist.render(context)
  File ""D:\Python36-32\lib\site-packages\django\template\defaulttags.py"", line 458, in render
    url = reverse(view_name, args=args, kwargs=kwargs, current_app=current_app)
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 990, in render
    bit = node.render_annotated(context)
  File ""D:\Python36-32\lib\site-packages\django\urls\base.py"", line 91, in reverse
    return force_text(iri_to_uri(resolver._reverse_with_prefix(view, prefix, *args, **kwargs)))
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 957, in render_annotated
    return self.render(context)
  File ""D:\Python36-32\lib\site-packages\django\template\loader_tags.py"", line 72, in render
    result = block.nodelist.render(context)
  File ""D:\Python36-32\lib\site-packages\django\urls\resolvers.py"", line 497, in _reverse_with_prefix
    raise NoReverseMatch(msg)
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 990, in render
    bit = node.render_annotated(context)
django.urls.exceptions.NoReverseMatch: Reverse for 'profile' with arguments '('',)' not found. 1 pattern(s) tried: ['(?P<username>[^/]+)/$']
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 957, in render_annotated
    return self.render(context)
  File ""D:\Python36-32\lib\site-packages\django\template\defaulttags.py"", line 458, in render
    url = reverse(view_name, args=args, kwargs=kwargs, current_app=current_app)
Traceback (most recent call last):
  File ""D:\Python36-32\lib\site-packages\django\urls\base.py"", line 91, in reverse
    return force_text(iri_to_uri(resolver._reverse_with_prefix(view, prefix, *args, **kwargs)))
  File ""D:\Python36-32\lib\site-packages\django\urls\resolvers.py"", line 497, in _reverse_with_prefix
    raise NoReverseMatch(msg)
django.urls.exceptions.NoReverseMatch: Reverse for 'profile' with arguments '('',)' not found. 1 pattern(s) tried: ['(?P<username>[^/]+)/$']

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File ""D:\Python36-32\lib\site-packages\django\core\handlers\exception.py"", line 41, in inner
    response = get_response(request)
  File ""D:\Python36-32\lib\wsgiref\handlers.py"", line 137, in run
    self.result = application(self.environ, self.start_response)
  File ""D:\Python36-32\lib\site-packages\django\core\handlers\wsgi.py"", line 157, in __call__
    response = self.get_response(request)
  File ""D:\Python36-32\lib\site-packages\django\core\handlers\base.py"", line 124, in get_response
    response = self._middleware_chain(request)
  File ""D:\Python36-32\lib\site-packages\django\core\handlers\exception.py"", line 43, in inner
    response = response_for_exception(request, exc)
  File ""D:\Python36-32\lib\site-packages\django\core\handlers\exception.py"", line 53, in response_for_exception
    response = get_exception_response(request, get_resolver(get_urlconf()), 404, exc)
  File ""D:\Python36-32\lib\site-packages\django\core\handlers\exception.py"", line 119, in get_exception_response
    response = handle_uncaught_exception(request, resolver, sys.exc_info())
  File ""D:\Python36-32\lib\site-packages\django\core\handlers\exception.py"", line 143, in handle_uncaught_exception
    return callback(request, **param_dict)
  File ""D:\Python36-32\lib\site-packages\django\utils\decorators.py"", line 149, in _wrapped_view
    response = view_func(request, *args, **kwargs)
  File ""D:\Python36-32\lib\site-packages\django\views\defaults.py"", line 74, in server_error
    return http.HttpResponseServerError(template.render())
  File ""D:\Python36-32\lib\site-packages\django\template\backends\django.py"", line 66, in render
    return self.template.render(context)
  File ""D:\Python36-32\lib\site-packages\django\core\handlers\base.py"", line 249, in _legacy_get_response
    response = self._get_response(request)
  File ""D:\Python36-32\lib\site-packages\django\core\handlers\base.py"", line 172, in _get_response
    resolver_match = resolver.resolve(request.path_info)
  File ""D:\Python36-32\lib\site-packages\django\urls\resolvers.py"", line 392, in resolve
    raise Resolver404({'tried': tried, 'path': new_path})
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 207, in render
    return self._render(context)
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 199, in _render
    return self.nodelist.render(context)
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 990, in render
    bit = node.render_annotated(context)
django.urls.exceptions.Resolver404: {'tried': [[<RegexURLPattern home ^$>], [<RegexURLPattern login ^login>], [<RegexURLPattern logout ^logout>], [<RegexURL
Pattern signup ^signup/$>], [<RegexURLPattern settings ^settings/$>], [<RegexURLPattern picture ^settings/picture/$>], [<RegexURLPattern upload_picture ^set
tings/upload_picture/$>], [<RegexURLPattern save_uploaded_picture ^settings/save_uploaded_picture/$>], [<RegexURLPattern password ^settings/password/$>], [<
RegexURLPattern network ^network/$>], [<RegexURLResolver <module 'bootcamp.feeds.urls' from 'D:\\Python36-32\\works\\myvenv2\\bootcamp\\feeds\\urls.py'> (No
ne:None) ^feeds/>], [<RegexURLResolver <module 'bootcamp.questions.urls' from 'D:\\Python36-32\\works\\myvenv2\\bootcamp\\questions\\urls.py'> (None:None) ^
questions/>], [<RegexURLResolver <module 'bootcamp.articles.urls' from 'D:\\Python36-32\\works\\myvenv2\\bootcamp\\articles\\urls.py'> (None:None) ^articles
/>], [<RegexURLResolver <module 'bootcamp.messenger.urls' from 'D:\\Python36-32\\works\\myvenv2\\bootcamp\\messenger\\urls.py'> (None:None) ^messages/>], [<
RegexURLPattern notifications ^notifications/$>], [<RegexURLPattern last_notifications ^notifications/last/$>], [<RegexURLPattern check_notifications ^notif
ications/check/$>], [<RegexURLPattern search ^search/$>], [<RegexURLPattern profile ^(?P<username>[^/]+)/$>], [<RegexURLResolver <module 'django.conf.urls.i
18n' from 'D:\\Python36-32\\lib\\site-packages\\django\\conf\\urls\\i18n.py'> (None:i18n) ^i18n/>]], 'path': 'static/css/cover.css'}
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 957, in render_annotated
    return self.render(context)

During handling of the above exception, another exception occurred:

  File ""D:\Python36-32\lib\site-packages\django\template\loader_tags.py"", line 177, in render
    return compiled_parent._render(context)
Traceback (most recent call last):
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 199, in _render
    return self.nodelist.render(context)
  File ""D:\Python36-32\lib\site-packages\django\core\handlers\exception.py"", line 109, in get_exception_response
    response = callback(request, **dict(param_dict, exception=exception))
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 990, in render
    bit = node.render_annotated(context)
  File ""D:\Python36-32\lib\site-packages\django\utils\decorators.py"", line 149, in _wrapped_view
    response = view_func(request, *args, **kwargs)
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 957, in render_annotated
    return self.render(context)
  File ""D:\Python36-32\lib\site-packages\django\views\defaults.py"", line 45, in page_not_found
    body = template.render(context, request)
  File ""D:\Python36-32\lib\site-packages\django\template\loader_tags.py"", line 72, in render
    result = block.nodelist.render(context)
  File ""D:\Python36-32\lib\site-packages\django\template\backends\django.py"", line 66, in render
    return self.template.render(context)
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 990, in render
    bit = node.render_annotated(context)
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 207, in render
    return self._render(context)
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 957, in render_annotated
    return self.render(context)
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 199, in _render
    return self.nodelist.render(context)
  File ""D:\Python36-32\lib\site-packages\django\template\defaulttags.py"", line 458, in render
    url = reverse(view_name, args=args, kwargs=kwargs, current_app=current_app)
  File ""D:\Python36-32\lib\site-packages\django\urls\base.py"", line 91, in reverse
    return force_text(iri_to_uri(resolver._reverse_with_prefix(view, prefix, *args, **kwargs)))
  File ""D:\Python36-32\lib\site-packages\django\urls\resolvers.py"", line 497, in _reverse_with_prefix
    raise NoReverseMatch(msg)
django.urls.exceptions.NoReverseMatch: Reverse for 'profile' with arguments '('',)' not found. 1 pattern(s) tried: ['(?P<username>[^/]+)/$']
[05/Sep/2017 09:49:46] ""GET /static/css/bootcamp.css?v=1 HTTP/1.1"" 500 59
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 990, in render
    bit = node.render_annotated(context)
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 957, in render_annotated
    return self.render(context)
[05/Sep/2017 09:49:46] ""GET /static/js/bootcamp.js HTTP/1.1"" 500 59
  File ""D:\Python36-32\lib\site-packages\django\template\loader_tags.py"", line 177, in render
    return compiled_parent._render(context)
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 199, in _render
    return self.nodelist.render(context)
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 990, in render
    bit = node.render_annotated(context)
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 957, in render_annotated
    return self.render(context)
  File ""D:\Python36-32\lib\site-packages\django\template\loader_tags.py"", line 72, in render
    result = block.nodelist.render(context)
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 990, in render
    bit = node.render_annotated(context)
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 957, in render_annotated
    return self.render(context)
  File ""D:\Python36-32\lib\site-packages\django\template\defaulttags.py"", line 458, in render
    url = reverse(view_name, args=args, kwargs=kwargs, current_app=current_app)
  File ""D:\Python36-32\lib\site-packages\django\urls\base.py"", line 91, in reverse
    return force_text(iri_to_uri(resolver._reverse_with_prefix(view, prefix, *args, **kwargs)))
  File ""D:\Python36-32\lib\site-packages\django\urls\resolvers.py"", line 497, in _reverse_with_prefix
    raise NoReverseMatch(msg)
django.urls.exceptions.NoReverseMatch: Reverse for 'profile' with arguments '('',)' not found. 1 pattern(s) tried: ['(?P<username>[^/]+)/$']

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File ""D:\Python36-32\lib\wsgiref\handlers.py"", line 137, in run
    self.result = application(self.environ, self.start_response)
  File ""D:\Python36-32\lib\site-packages\django\core\handlers\wsgi.py"", line 157, in __call__
    response = self.get_response(request)
  File ""D:\Python36-32\lib\site-packages\django\core\handlers\base.py"", line 124, in get_response
    response = self._middleware_chain(request)
  File ""D:\Python36-32\lib\site-packages\django\core\handlers\exception.py"", line 43, in inner
    response = response_for_exception(request, exc)
  File ""D:\Python36-32\lib\site-packages\django\core\handlers\exception.py"", line 53, in response_for_exception
    response = get_exception_response(request, get_resolver(get_urlconf()), 404, exc)
  File ""D:\Python36-32\lib\site-packages\django\core\handlers\exception.py"", line 119, in get_exception_response
    response = handle_uncaught_exception(request, resolver, sys.exc_info())
Traceback (most recent call last):
  File ""D:\Python36-32\lib\site-packages\django\core\handlers\exception.py"", line 143, in handle_uncaught_exception
    return callback(request, **param_dict)
  File ""D:\Python36-32\lib\site-packages\django\core\handlers\exception.py"", line 41, in inner
    response = get_response(request)
  File ""D:\Python36-32\lib\site-packages\django\core\handlers\base.py"", line 249, in _legacy_get_response
    response = self._get_response(request)
  File ""D:\Python36-32\lib\site-packages\django\core\handlers\base.py"", line 172, in _get_response
    resolver_match = resolver.resolve(request.path_info)
  File ""D:\Python36-32\lib\site-packages\django\urls\resolvers.py"", line 392, in resolve
    raise Resolver404({'tried': tried, 'path': new_path})
  File ""D:\Python36-32\lib\site-packages\django\utils\decorators.py"", line 149, in _wrapped_view
    response = view_func(request, *args, **kwargs)
django.urls.exceptions.Resolver404: {'tried': [[<RegexURLPattern home ^$>], [<RegexURLPattern login ^login>], [<RegexURLPattern logout ^logout>], [<RegexURL
Pattern signup ^signup/$>], [<RegexURLPattern settings ^settings/$>], [<RegexURLPattern picture ^settings/picture/$>], [<RegexURLPattern upload_picture ^set
tings/upload_picture/$>], [<RegexURLPattern save_uploaded_picture ^settings/save_uploaded_picture/$>], [<RegexURLPattern password ^settings/password/$>], [<
RegexURLPattern network ^network/$>], [<RegexURLResolver <module 'bootcamp.feeds.urls' from 'D:\\Python36-32\\works\\myvenv2\\bootcamp\\feeds\\urls.py'> (No
ne:None) ^feeds/>], [<RegexURLResolver <module 'bootcamp.questions.urls' from 'D:\\Python36-32\\works\\myvenv2\\bootcamp\\questions\\urls.py'> (None:None) ^
questions/>], [<RegexURLResolver <module 'bootcamp.articles.urls' from 'D:\\Python36-32\\works\\myvenv2\\bootcamp\\articles\\urls.py'> (None:None) ^articles
/>], [<RegexURLResolver <module 'bootcamp.messenger.urls' from 'D:\\Python36-32\\works\\myvenv2\\bootcamp\\messenger\\urls.py'> (None:None) ^messages/>], [<
RegexURLPattern notifications ^notifications/$>], [<RegexURLPattern last_notifications ^notifications/last/$>], [<RegexURLPattern check_notifications ^notif
ications/check/$>], [<RegexURLPattern search ^search/$>], [<RegexURLPattern profile ^(?P<username>[^/]+)/$>], [<RegexURLResolver <module 'django.conf.urls.i
18n' from 'D:\\Python36-32\\lib\\site-packages\\django\\conf\\urls\\i18n.py'> (None:i18n) ^i18n/>]], 'path': 'static/js/ga.js'}
  File ""D:\Python36-32\lib\site-packages\django\views\defaults.py"", line 74, in server_error
    return http.HttpResponseServerError(template.render())

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File ""D:\Python36-32\lib\site-packages\django\template\backends\django.py"", line 66, in render
    return self.template.render(context)
  File ""D:\Python36-32\lib\site-packages\django\core\handlers\exception.py"", line 109, in get_exception_response
    response = callback(request, **dict(param_dict, exception=exception))
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 207, in render
    return self._render(context)
  File ""D:\Python36-32\lib\site-packages\django\utils\decorators.py"", line 149, in _wrapped_view
    response = view_func(request, *args, **kwargs)
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 199, in _render
    return self.nodelist.render(context)
  File ""D:\Python36-32\lib\site-packages\django\views\defaults.py"", line 45, in page_not_found
    body = template.render(context, request)
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 990, in render
    bit = node.render_annotated(context)
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 957, in render_annotated
    return self.render(context)
  File ""D:\Python36-32\lib\site-packages\django\template\backends\django.py"", line 66, in render
    return self.template.render(context)
  File ""D:\Python36-32\lib\site-packages\django\template\loader_tags.py"", line 177, in render
    return compiled_parent._render(context)
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 207, in render
    return self._render(context)
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 199, in _render
    return self.nodelist.render(context)
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 199, in _render
    return self.nodelist.render(context)
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 990, in render
    bit = node.render_annotated(context)
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 990, in render
    bit = node.render_annotated(context)
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 957, in render_annotated
    return self.render(context)
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 957, in render_annotated
    return self.render(context)
  File ""D:\Python36-32\lib\site-packages\django\template\loader_tags.py"", line 72, in render
    result = block.nodelist.render(context)
  File ""D:\Python36-32\lib\site-packages\django\template\loader_tags.py"", line 177, in render
    return compiled_parent._render(context)
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 990, in render
    bit = node.render_annotated(context)
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 199, in _render
    return self.nodelist.render(context)
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 957, in render_annotated
    return self.render(context)
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 990, in render
    bit = node.render_annotated(context)
  File ""D:\Python36-32\lib\site-packages\django\template\defaulttags.py"", line 458, in render
    url = reverse(view_name, args=args, kwargs=kwargs, current_app=current_app)
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 957, in render_annotated
    return self.render(context)
  File ""D:\Python36-32\lib\site-packages\django\urls\base.py"", line 91, in reverse
    return force_text(iri_to_uri(resolver._reverse_with_prefix(view, prefix, *args, **kwargs)))
  File ""D:\Python36-32\lib\site-packages\django\template\loader_tags.py"", line 72, in render
    result = block.nodelist.render(context)
  File ""D:\Python36-32\lib\site-packages\django\urls\resolvers.py"", line 497, in _reverse_with_prefix
    raise NoReverseMatch(msg)
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 990, in render
    bit = node.render_annotated(context)
django.urls.exceptions.NoReverseMatch: Reverse for 'profile' with arguments '('',)' not found. 1 pattern(s) tried: ['(?P<username>[^/]+)/$']
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 957, in render_annotated
    return self.render(context)
  File ""D:\Python36-32\lib\site-packages\django\template\defaulttags.py"", line 458, in render
    url = reverse(view_name, args=args, kwargs=kwargs, current_app=current_app)
  File ""D:\Python36-32\lib\site-packages\django\urls\base.py"", line 91, in reverse
    return force_text(iri_to_uri(resolver._reverse_with_prefix(view, prefix, *args, **kwargs)))
  File ""D:\Python36-32\lib\site-packages\django\urls\resolvers.py"", line 497, in _reverse_with_prefix
    raise NoReverseMatch(msg)
django.urls.exceptions.NoReverseMatch: Reverse for 'profile' with arguments '('',)' not found. 1 pattern(s) tried: ['(?P<username>[^/]+)/$']

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
[05/Sep/2017 09:49:46] ""GET /static/css/cover.css HTTP/1.1"" 500 59
  File ""D:\Python36-32\lib\wsgiref\handlers.py"", line 137, in run
    self.result = application(self.environ, self.start_response)
  File ""D:\Python36-32\lib\site-packages\django\core\handlers\wsgi.py"", line 157, in __call__
    response = self.get_response(request)
  File ""D:\Python36-32\lib\site-packages\django\core\handlers\base.py"", line 124, in get_response
    response = self._middleware_chain(request)
  File ""D:\Python36-32\lib\site-packages\django\core\handlers\exception.py"", line 43, in inner
    response = response_for_exception(request, exc)
  File ""D:\Python36-32\lib\site-packages\django\core\handlers\exception.py"", line 53, in response_for_exception
    response = get_exception_response(request, get_resolver(get_urlconf()), 404, exc)
  File ""D:\Python36-32\lib\site-packages\django\core\handlers\exception.py"", line 119, in get_exception_response
    response = handle_uncaught_exception(request, resolver, sys.exc_info())
  File ""D:\Python36-32\lib\site-packages\django\core\handlers\exception.py"", line 143, in handle_uncaught_exception
    return callback(request, **param_dict)
  File ""D:\Python36-32\lib\site-packages\django\utils\decorators.py"", line 149, in _wrapped_view
    response = view_func(request, *args, **kwargs)
  File ""D:\Python36-32\lib\site-packages\django\views\defaults.py"", line 74, in server_error
    return http.HttpResponseServerError(template.render())
  File ""D:\Python36-32\lib\site-packages\django\template\backends\django.py"", line 66, in render
    return self.template.render(context)
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 207, in render
    return self._render(context)
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 199, in _render
    return self.nodelist.render(context)
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 990, in render
    bit = node.render_annotated(context)
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 957, in render_annotated
    return self.render(context)
  File ""D:\Python36-32\lib\site-packages\django\template\loader_tags.py"", line 177, in render
    return compiled_parent._render(context)
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 199, in _render
    return self.nodelist.render(context)
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 990, in render
    bit = node.render_annotated(context)
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 957, in render_annotated
    return self.render(context)
  File ""D:\Python36-32\lib\site-packages\django\template\loader_tags.py"", line 72, in render
    result = block.nodelist.render(context)
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 990, in render
    bit = node.render_annotated(context)
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 957, in render_annotated
    return self.render(context)
  File ""D:\Python36-32\lib\site-packages\django\template\defaulttags.py"", line 458, in render
    url = reverse(view_name, args=args, kwargs=kwargs, current_app=current_app)
  File ""D:\Python36-32\lib\site-packages\django\urls\base.py"", line 91, in reverse
    return force_text(iri_to_uri(resolver._reverse_with_prefix(view, prefix, *args, **kwargs)))
  File ""D:\Python36-32\lib\site-packages\django\urls\resolvers.py"", line 497, in _reverse_with_prefix
    raise NoReverseMatch(msg)
django.urls.exceptions.NoReverseMatch: Reverse for 'profile' with arguments '('',)' not found. 1 pattern(s) tried: ['(?P<username>[^/]+)/$']
[05/Sep/2017 09:49:46] ""GET /static/js/ga.js HTTP/1.1"" 500 59


"
149,healthchecks,healthchecks,3,closed,74,6,https://api.github.com/repos/healthchecks/healthchecks/issues/74/comments,https://github.com/healthchecks/healthchecks/issues/74,[],NoReverseMatch at /checks/ after latest git pull,"```
NoReverseMatch at /checks/
Reverse for 'hc-pause' with arguments '(UUID('52416f5d-ccc3-4b14-94f0-0869d1398473'),)' and keyword arguments '{}' not found. 0 pattern(s) tried: []
Request Method: GET
Request URL:    http://*************/checks/
Django Version: 1.9
Exception Type: NoReverseMatch
Exception Value:    
Reverse for 'hc-pause' with arguments '(UUID('52416f5d-ccc3-4b14-94f0-0869d1398473'),)' and keyword arguments '{}' not found. 0 pattern(s) tried: []
Exception Location: /usr/local/lib/python2.7/dist-packages/django/core/urlresolvers.py in _reverse_with_prefix, line 508
Python Executable:  /usr/bin/python
Python Version: 2.7.6
Python Path:    
['/mnt/gluster/volume_gen001/apps/healthchecks',
 '/usr/local/lib/python2.7/dist-packages/paypalrestsdk-1.11.3-py2.7.egg',
 '/usr/local/lib/python2.7/dist-packages/pyOpenSSL-0.15.1-py2.7.egg',
 '/usr/lib/python2.7',
 '/usr/lib/python2.7/plat-x86_64-linux-gnu',
 '/usr/lib/python2.7/lib-tk',
 '/usr/lib/python2.7/lib-old',
 '/usr/lib/python2.7/lib-dynload',
 '/usr/local/lib/python2.7/dist-packages',
 '/usr/lib/python2.7/dist-packages']
Server time:    Sat, 6 Aug 2016 09:33:32 -0500
```

Traceback:

```
Environment:


Request Method: GET
Request URL: http://hc.casta.no/checks/

Django Version: 1.9
Python Version: 2.7.6
Installed Applications:
('django.contrib.admin',
 'django.contrib.auth',
 'django.contrib.contenttypes',
 'django.contrib.humanize',
 'django.contrib.sessions',
 'django.contrib.messages',
 'django.contrib.staticfiles',
 'compressor',
 'djmail',
 'hc.accounts',
 'hc.api',
 'hc.front',
 'hc.payments')
Installed Middleware:
('django.contrib.sessions.middleware.SessionMiddleware',
 'django.middleware.common.CommonMiddleware',
 'django.middleware.csrf.CsrfViewMiddleware',
 'django.contrib.auth.middleware.AuthenticationMiddleware',
 'django.contrib.auth.middleware.SessionAuthenticationMiddleware',
 'django.contrib.messages.middleware.MessageMiddleware',
 'django.middleware.clickjacking.XFrameOptionsMiddleware',
 'django.middleware.security.SecurityMiddleware',
 'hc.accounts.middleware.TeamAccessMiddleware')


Template error:
In template /mnt/gluster/volume_gen001/apps/healthchecks/templates/front/my_checks.html, error at line 94
   Reverse for 'hc-pause' with arguments '(UUID('52416f5d-ccc3-4b14-94f0-0869d1398473'),)' and keyword arguments '{}' not found. 0 pattern(s) tried: []   84 :                         <div class=""form-group"">
   85 :                             <label for=""update-tags-input"" class=""col-sm-2 control-label"">
   86 :                                 Tags
   87 :                             </label>
   88 :                             <div class=""col-sm-9"">
   89 :                                 <input
   90 :                                     id=""update-tags-input""
   91 :                                     name=""tags""
   92 :                                     type=""text""
   93 :                                     value=""""
   94 :                                      placeholder=""production  www""
   95 :                                     class=""form-control"" />
   96 : 
   97 :                                 <span class=""help-block"">
   98 :                                     Optionally, assign tags for easy filtering.
   99 :                                     Separate multiple tags with spaces.
   100 :                                 </span>
   101 :                             </div>
   102 :                         </div>
   103 :                 </div>
   104 :                 <div class=""modal-footer"">


Traceback:

File ""/usr/local/lib/python2.7/dist-packages/django/core/handlers/base.py"" in get_response
  149.                     response = self.process_exception_by_middleware(e, request)

File ""/usr/local/lib/python2.7/dist-packages/django/core/handlers/base.py"" in get_response
  147.                     response = wrapped_callback(request, *callback_args, **callback_kwargs)

File ""/usr/local/lib/python2.7/dist-packages/django/contrib/auth/decorators.py"" in _wrapped_view
  23.                 return view_func(request, *args, **kwargs)

File ""/mnt/gluster/volume_gen001/apps/healthchecks/hc/front/views.py"" in my_checks
  58.     }

File ""/usr/local/lib/python2.7/dist-packages/django/shortcuts.py"" in render
  67.             template_name, context, request=request, using=using)

File ""/usr/local/lib/python2.7/dist-packages/django/template/loader.py"" in render_to_string
  97.         return template.render(context, request)

File ""/usr/local/lib/python2.7/dist-packages/django/template/backends/django.py"" in render
  95.             return self.template.render(context)

File ""/usr/local/lib/python2.7/dist-packages/django/template/base.py"" in render
  206.                     return self._render(context)

File ""/usr/local/lib/python2.7/dist-packages/django/template/base.py"" in _render
  197.         return self.nodelist.render(context)

File ""/usr/local/lib/python2.7/dist-packages/django/template/base.py"" in render
  988.                 bit = node.render_annotated(context)

File ""/usr/local/lib/python2.7/dist-packages/django/template/base.py"" in render_annotated
  955.             return self.render(context)

File ""/usr/local/lib/python2.7/dist-packages/django/template/loader_tags.py"" in render
  173.         return compiled_parent._render(context)

File ""/usr/local/lib/python2.7/dist-packages/django/template/base.py"" in _render
  197.         return self.nodelist.render(context)

File ""/usr/local/lib/python2.7/dist-packages/django/template/base.py"" in render
  988.                 bit = node.render_annotated(context)

File ""/usr/local/lib/python2.7/dist-packages/django/template/base.py"" in render_annotated
  955.             return self.render(context)

File ""/usr/local/lib/python2.7/dist-packages/django/template/loader_tags.py"" in render
  69.                 result = block.nodelist.render(context)

File ""/usr/local/lib/python2.7/dist-packages/django/template/base.py"" in render
  988.                 bit = node.render_annotated(context)

File ""/usr/local/lib/python2.7/dist-packages/django/template/base.py"" in render_annotated
  955.             return self.render(context)

File ""/usr/local/lib/python2.7/dist-packages/django/template/loader_tags.py"" in render
  69.                 result = block.nodelist.render(context)

File ""/usr/local/lib/python2.7/dist-packages/django/template/base.py"" in render
  988.                 bit = node.render_annotated(context)

File ""/usr/local/lib/python2.7/dist-packages/django/template/base.py"" in render_annotated
  955.             return self.render(context)

File ""/usr/local/lib/python2.7/dist-packages/django/template/defaulttags.py"" in render
  326.                 return nodelist.render(context)

File ""/usr/local/lib/python2.7/dist-packages/django/template/base.py"" in render
  988.                 bit = node.render_annotated(context)

File ""/usr/local/lib/python2.7/dist-packages/django/template/base.py"" in render_annotated
  955.             return self.render(context)

File ""/usr/local/lib/python2.7/dist-packages/django/template/loader_tags.py"" in render
  209.                 return template.render(context)

File ""/usr/local/lib/python2.7/dist-packages/django/template/base.py"" in render
  208.                 return self._render(context)

File ""/usr/local/lib/python2.7/dist-packages/django/template/base.py"" in _render
  197.         return self.nodelist.render(context)

File ""/usr/local/lib/python2.7/dist-packages/django/template/base.py"" in render
  988.                 bit = node.render_annotated(context)

File ""/usr/local/lib/python2.7/dist-packages/django/template/base.py"" in render_annotated
  955.             return self.render(context)

File ""/usr/local/lib/python2.7/dist-packages/django/template/defaulttags.py"" in render
  220.                     nodelist.append(node.render_annotated(context))

File ""/usr/local/lib/python2.7/dist-packages/django/template/base.py"" in render_annotated
  955.             return self.render(context)

File ""/usr/local/lib/python2.7/dist-packages/django/template/defaulttags.py"" in render
  513.                         six.reraise(*exc_info)

File ""/usr/local/lib/python2.7/dist-packages/django/template/defaulttags.py"" in render
  499.             url = reverse(view_name, args=args, kwargs=kwargs, current_app=current_app)

File ""/usr/local/lib/python2.7/dist-packages/django/core/urlresolvers.py"" in reverse
  600.     return force_text(iri_to_uri(resolver._reverse_with_prefix(view, prefix, *args, **kwargs)))

File ""/usr/local/lib/python2.7/dist-packages/django/core/urlresolvers.py"" in _reverse_with_prefix
  508.                              (lookup_view_s, args, kwargs, len(patterns), patterns))

Exception Type: NoReverseMatch at /checks/
Exception Value: Reverse for 'hc-pause' with arguments '(UUID('52416f5d-ccc3-4b14-94f0-0869d1398473'),)' and keyword arguments '{}' not found. 0 pattern(s) tried: []
```

I'm dead in the water... it seems like pings are working, I see them coming in and being issued `200` responses when running the server is debug mode... but everything else is dead.
"
352,healthchecks,healthchecks,3,closed,74,6,https://api.github.com/repos/healthchecks/healthchecks/issues/74/comments,https://github.com/healthchecks/healthchecks/issues/74,[],NoReverseMatch at /checks/ after latest git pull,"```
NoReverseMatch at /checks/
Reverse for 'hc-pause' with arguments '(UUID('52416f5d-ccc3-4b14-94f0-0869d1398473'),)' and keyword arguments '{}' not found. 0 pattern(s) tried: []
Request Method: GET
Request URL:    http://*************/checks/
Django Version: 1.9
Exception Type: NoReverseMatch
Exception Value:    
Reverse for 'hc-pause' with arguments '(UUID('52416f5d-ccc3-4b14-94f0-0869d1398473'),)' and keyword arguments '{}' not found. 0 pattern(s) tried: []
Exception Location: /usr/local/lib/python2.7/dist-packages/django/core/urlresolvers.py in _reverse_with_prefix, line 508
Python Executable:  /usr/bin/python
Python Version: 2.7.6
Python Path:    
['/mnt/gluster/volume_gen001/apps/healthchecks',
 '/usr/local/lib/python2.7/dist-packages/paypalrestsdk-1.11.3-py2.7.egg',
 '/usr/local/lib/python2.7/dist-packages/pyOpenSSL-0.15.1-py2.7.egg',
 '/usr/lib/python2.7',
 '/usr/lib/python2.7/plat-x86_64-linux-gnu',
 '/usr/lib/python2.7/lib-tk',
 '/usr/lib/python2.7/lib-old',
 '/usr/lib/python2.7/lib-dynload',
 '/usr/local/lib/python2.7/dist-packages',
 '/usr/lib/python2.7/dist-packages']
Server time:    Sat, 6 Aug 2016 09:33:32 -0500
```

Traceback:

```
Environment:


Request Method: GET
Request URL: http://hc.casta.no/checks/

Django Version: 1.9
Python Version: 2.7.6
Installed Applications:
('django.contrib.admin',
 'django.contrib.auth',
 'django.contrib.contenttypes',
 'django.contrib.humanize',
 'django.contrib.sessions',
 'django.contrib.messages',
 'django.contrib.staticfiles',
 'compressor',
 'djmail',
 'hc.accounts',
 'hc.api',
 'hc.front',
 'hc.payments')
Installed Middleware:
('django.contrib.sessions.middleware.SessionMiddleware',
 'django.middleware.common.CommonMiddleware',
 'django.middleware.csrf.CsrfViewMiddleware',
 'django.contrib.auth.middleware.AuthenticationMiddleware',
 'django.contrib.auth.middleware.SessionAuthenticationMiddleware',
 'django.contrib.messages.middleware.MessageMiddleware',
 'django.middleware.clickjacking.XFrameOptionsMiddleware',
 'django.middleware.security.SecurityMiddleware',
 'hc.accounts.middleware.TeamAccessMiddleware')


Template error:
In template /mnt/gluster/volume_gen001/apps/healthchecks/templates/front/my_checks.html, error at line 94
   Reverse for 'hc-pause' with arguments '(UUID('52416f5d-ccc3-4b14-94f0-0869d1398473'),)' and keyword arguments '{}' not found. 0 pattern(s) tried: []   84 :                         <div class=""form-group"">
   85 :                             <label for=""update-tags-input"" class=""col-sm-2 control-label"">
   86 :                                 Tags
   87 :                             </label>
   88 :                             <div class=""col-sm-9"">
   89 :                                 <input
   90 :                                     id=""update-tags-input""
   91 :                                     name=""tags""
   92 :                                     type=""text""
   93 :                                     value=""""
   94 :                                      placeholder=""production  www""
   95 :                                     class=""form-control"" />
   96 : 
   97 :                                 <span class=""help-block"">
   98 :                                     Optionally, assign tags for easy filtering.
   99 :                                     Separate multiple tags with spaces.
   100 :                                 </span>
   101 :                             </div>
   102 :                         </div>
   103 :                 </div>
   104 :                 <div class=""modal-footer"">


Traceback:

File ""/usr/local/lib/python2.7/dist-packages/django/core/handlers/base.py"" in get_response
  149.                     response = self.process_exception_by_middleware(e, request)

File ""/usr/local/lib/python2.7/dist-packages/django/core/handlers/base.py"" in get_response
  147.                     response = wrapped_callback(request, *callback_args, **callback_kwargs)

File ""/usr/local/lib/python2.7/dist-packages/django/contrib/auth/decorators.py"" in _wrapped_view
  23.                 return view_func(request, *args, **kwargs)

File ""/mnt/gluster/volume_gen001/apps/healthchecks/hc/front/views.py"" in my_checks
  58.     }

File ""/usr/local/lib/python2.7/dist-packages/django/shortcuts.py"" in render
  67.             template_name, context, request=request, using=using)

File ""/usr/local/lib/python2.7/dist-packages/django/template/loader.py"" in render_to_string
  97.         return template.render(context, request)

File ""/usr/local/lib/python2.7/dist-packages/django/template/backends/django.py"" in render
  95.             return self.template.render(context)

File ""/usr/local/lib/python2.7/dist-packages/django/template/base.py"" in render
  206.                     return self._render(context)

File ""/usr/local/lib/python2.7/dist-packages/django/template/base.py"" in _render
  197.         return self.nodelist.render(context)

File ""/usr/local/lib/python2.7/dist-packages/django/template/base.py"" in render
  988.                 bit = node.render_annotated(context)

File ""/usr/local/lib/python2.7/dist-packages/django/template/base.py"" in render_annotated
  955.             return self.render(context)

File ""/usr/local/lib/python2.7/dist-packages/django/template/loader_tags.py"" in render
  173.         return compiled_parent._render(context)

File ""/usr/local/lib/python2.7/dist-packages/django/template/base.py"" in _render
  197.         return self.nodelist.render(context)

File ""/usr/local/lib/python2.7/dist-packages/django/template/base.py"" in render
  988.                 bit = node.render_annotated(context)

File ""/usr/local/lib/python2.7/dist-packages/django/template/base.py"" in render_annotated
  955.             return self.render(context)

File ""/usr/local/lib/python2.7/dist-packages/django/template/loader_tags.py"" in render
  69.                 result = block.nodelist.render(context)

File ""/usr/local/lib/python2.7/dist-packages/django/template/base.py"" in render
  988.                 bit = node.render_annotated(context)

File ""/usr/local/lib/python2.7/dist-packages/django/template/base.py"" in render_annotated
  955.             return self.render(context)

File ""/usr/local/lib/python2.7/dist-packages/django/template/loader_tags.py"" in render
  69.                 result = block.nodelist.render(context)

File ""/usr/local/lib/python2.7/dist-packages/django/template/base.py"" in render
  988.                 bit = node.render_annotated(context)

File ""/usr/local/lib/python2.7/dist-packages/django/template/base.py"" in render_annotated
  955.             return self.render(context)

File ""/usr/local/lib/python2.7/dist-packages/django/template/defaulttags.py"" in render
  326.                 return nodelist.render(context)

File ""/usr/local/lib/python2.7/dist-packages/django/template/base.py"" in render
  988.                 bit = node.render_annotated(context)

File ""/usr/local/lib/python2.7/dist-packages/django/template/base.py"" in render_annotated
  955.             return self.render(context)

File ""/usr/local/lib/python2.7/dist-packages/django/template/loader_tags.py"" in render
  209.                 return template.render(context)

File ""/usr/local/lib/python2.7/dist-packages/django/template/base.py"" in render
  208.                 return self._render(context)

File ""/usr/local/lib/python2.7/dist-packages/django/template/base.py"" in _render
  197.         return self.nodelist.render(context)

File ""/usr/local/lib/python2.7/dist-packages/django/template/base.py"" in render
  988.                 bit = node.render_annotated(context)

File ""/usr/local/lib/python2.7/dist-packages/django/template/base.py"" in render_annotated
  955.             return self.render(context)

File ""/usr/local/lib/python2.7/dist-packages/django/template/defaulttags.py"" in render
  220.                     nodelist.append(node.render_annotated(context))

File ""/usr/local/lib/python2.7/dist-packages/django/template/base.py"" in render_annotated
  955.             return self.render(context)

File ""/usr/local/lib/python2.7/dist-packages/django/template/defaulttags.py"" in render
  513.                         six.reraise(*exc_info)

File ""/usr/local/lib/python2.7/dist-packages/django/template/defaulttags.py"" in render
  499.             url = reverse(view_name, args=args, kwargs=kwargs, current_app=current_app)

File ""/usr/local/lib/python2.7/dist-packages/django/core/urlresolvers.py"" in reverse
  600.     return force_text(iri_to_uri(resolver._reverse_with_prefix(view, prefix, *args, **kwargs)))

File ""/usr/local/lib/python2.7/dist-packages/django/core/urlresolvers.py"" in _reverse_with_prefix
  508.                              (lookup_view_s, args, kwargs, len(patterns), patterns))

Exception Type: NoReverseMatch at /checks/
Exception Value: Reverse for 'hc-pause' with arguments '(UUID('52416f5d-ccc3-4b14-94f0-0869d1398473'),)' and keyword arguments '{}' not found. 0 pattern(s) tried: []
```

I'm dead in the water... it seems like pings are working, I see them coming in and being issued `200` responses when running the server is debug mode... but everything else is dead.
"
3251,mirumee,saleor,7,closed,3568,2,https://api.github.com/repos/mirumee/saleor/issues/3568/comments,https://github.com/mirumee/saleor/issues/3568,"[{""default"": true, ""name"": ""bug"", ""url"": ""https://api.github.com/repos/mirumee/saleor/labels/bug"", ""color"": ""fc2929"", ""node_id"": ""MDU6TGFiZWwyODE5MjMzMQ=="", ""id"": 28192331}]",send_password_reset_email function is not working correctly,"###The version I am using
commit 5a7e2e8f179425d4b50f2ccb154d3ac5c5a425f0

### What I'm trying to achieve
I want to use graphql (customerPasswordReset) to send password reset email.

### Steps to reproduce the problem
1. Use postman or other app to send graphql mutation
2. Use tokenCreate mutation to get user's token.
3. Input token to postman or other app for Authentication
4. send the following mutation for password reset
mutation{
  customerPasswordReset(input:{email:""youremail@host.com""}){
    errors{
      message
    }
  }
}
### What I expected to happen
I expected to get email for password reset.

**System information**
Then, I go to terminal to see the log and get following error massage: 

ERROR celery.app.trace Task saleor.account.emails.send_password_reset_email[8d46cc12-5332-4129-98a7-5a5d3c0cc5f5] raised unexpected: NoReverseMatch('Reverse for \'reset-password-confirm\' with keyword arguments \'{\'uidb64\': \'<< MISSING VARIABLE ""uid"" >>\', \'token\': \'<< MISSING VARIABLE ""token"" >>\'}\' not found. 1 pattern(s) tried: [\'en/account/password/reset/(?P<uidb64>[0-9A-Za-z_\\\\-]+)/(?P<token>[0-9A-Za-z]{1,13}-[0-9A-Za-z]{1,20})/$\']',) [PID:23763:Thread-3]
Traceback (most recent call last):
  File ""/home/admin/Documents/Git/saleor/env/lib/python3.6/site-packages/celery/app/trace.py"", line 382, in trace_task
    R = retval = fun(*args, **kwargs)
  File ""/home/admin/Documents/Git/salor_server/saleor/saleor/account/emails.py"", line 25, in send_password_reset_email
    context=ctx)
  File ""/home/admin/Documents/Git/saleor/env/lib/python3.6/site-packages/templated_email/__init__.py"", line 70, in send_templated_mail
    headers=headers, create_link=create_link, **kwargs)
  File ""/home/admin/Documents/Git/saleor/env/lib/python3.6/site-packages/templated_email/backends/vanilla_django.py"", line 258, in send
    create_link=create_link)
  File ""/home/admin/Documents/Git/saleor/env/lib/python3.6/site-packages/templated_email/backends/vanilla_django.py"", line 134, in get_email_message
    template_suffix or file_extension)
  File ""/home/admin/Documents/Git/saleor/env/lib/python3.6/site-packages/templated_email/backends/vanilla_django.py"", line 106, in _render_email
    response[part] = render_block_to_string(full_template_names, part, render_context)
  File ""/home/admin/Documents/Git/saleor/env/lib/python3.6/site-packages/render_block/base.py"", line 39, in render_block_to_string
    return django_render_block(t, block_name, context)
  File ""/home/admin/Documents/Git/saleor/env/lib/python3.6/site-packages/render_block/django.py"", line 27, in django_render_block
    return _render_template_block(template, block_name, context_instance)
  File ""/home/admin/Documents/Git/saleor/env/lib/python3.6/site-packages/render_block/django.py"", line 70, in _render_template_block
    return _render_template_block_nodelist(template.nodelist, block_name, context)
  File ""/home/admin/Documents/Git/saleor/env/lib/python3.6/site-packages/render_block/django.py"", line 85, in _render_template_block_nodelist
    return node.render(context)
  File ""/home/admin/Documents/Git/saleor/env/lib/python3.6/site-packages/django/template/loader_tags.py"", line 62, in render
    result = block.nodelist.render(context)
  File ""/home/admin/Documents/Git/saleor/env/lib/python3.6/site-packages/django/template/base.py"", line 937, in render
    bit = node.render_annotated(context)
  File ""/home/admin/Documents/Git/saleor/env/lib/python3.6/site-packages/django/template/base.py"", line 904, in render_annotated
    return self.render(context)
  File ""/home/admin/Documents/Git/saleor/env/lib/python3.6/site-packages/django/template/loader_tags.py"", line 188, in render
    return template.render(context)
  File ""/home/admin/Documents/Git/saleor/env/lib/python3.6/site-packages/django/template/base.py"", line 173, in render
    return self._render(context)
  File ""/home/admin/Documents/Git/saleor/env/lib/python3.6/site-packages/django/test/utils.py"", line 96, in instrumented_test_render
    return self.nodelist.render(context)
  File ""/home/admin/Documents/Git/saleor/env/lib/python3.6/site-packages/django/template/base.py"", line 937, in render
    bit = node.render_annotated(context)
  File ""/home/admin/Documents/Git/saleor/env/lib/python3.6/site-packages/django/template/base.py"", line 904, in render_annotated
    return self.render(context)
  File ""/home/admin/Documents/Git/saleor/env/lib/python3.6/site-packages/django/template/defaulttags.py"", line 442, in render
    url = reverse(view_name, args=args, kwargs=kwargs, current_app=current_app)
  File ""/home/admin/Documents/Git/saleor/env/lib/python3.6/site-packages/django/urls/base.py"", line 90, in reverse
    return iri_to_uri(resolver._reverse_with_prefix(view, prefix, *args, **kwargs))
  File ""/home/admin/Documents/Git/saleor/env/lib/python3.6/site-packages/django/urls/resolvers.py"", line 622, in _reverse_with_prefix
    raise NoReverseMatch(msg)
django.urls.exceptions.NoReverseMatch: Reverse for 'reset-password-confirm' with keyword arguments '{'uidb64': '<< MISSING VARIABLE ""uid"" >>', 'token': '<< MISSING VARIABLE ""token"" >>'}' not found. 1 pattern(s) tried: ['en/account/password/reset/(?P<uidb64>[0-9A-Za-z_\\-]+)/(?P<token>[0-9A-Za-z]{1,13}-[0-9A-Za-z]{1,20})/$']

Browser:
{
  ""data"": {
    ""customerPasswordReset"": null
  }
}

How to fix:
Then, I changed send_password_reset_email to:
def send_password_reset_email(context, recipient):
    reset_url = build_absolute_uri(
        reverse(
            'account:reset-password-confirm',
            kwargs={
                'uidb64': context['uid'],
                'token': context['token']}))
    ctx = get_email_base_context()
    ctx['reset_url'] = reset_url
    ctx['uid'] = context['uid']
    ctx['token'] = context['token']
    ctx['protocol'] = 'https'
    print(ctx)
    send_templated_mail(
        template_name='account/password_reset',
        from_email=settings.DEFAULT_FROM_EMAIL,
        recipient_list=[recipient],
        context=ctx)

Finally, I got email correctly and error didn't show up again.

So, I think, the problem is: send_templated_mail request uid token and protocol variable. But get_email_base_context() didn't provide them.
"
4591,mirumee,saleor,21,closed,2078,1,https://api.github.com/repos/mirumee/saleor/issues/2078/comments,https://github.com/mirumee/saleor/issues/2078,"[{""default"": true, ""name"": ""bug"", ""url"": ""https://api.github.com/repos/mirumee/saleor/labels/bug"", ""color"": ""fc2929"", ""node_id"": ""MDU6TGFiZWwyODE5MjMzMQ=="", ""id"": 28192331}]",Reverse for 'variant-detail' not found,"### Steps to reproduce the problem

1. Place an order through the storefront.
2. Go to order details dashboard and click ""Fulfill"".

### What I expected to happen
Fulfillment view should appear.

### What happened instead/how it failed
I got the following error:

```
NoReverseMatch at /dashboard/orders/22/fulfill/
Reverse for 'variant-detail' not found. 'variant-detail' is not a valid view function or pattern name.
```

Strangely, it works fine for orders that were generated using `populatedb`, but apparently, they differ from orders placed through the storefront. In generated ones, `variant` in order line is empty, while in the one that I placed it's not.
"
10839,django-oscar,django-oscar,10,closed,2195,2,https://api.github.com/repos/django-oscar/django-oscar/issues/2195/comments,https://github.com/django-oscar/django-oscar/issues/2195,"[{""default"": false, ""name"": ""\u2753Support question"", ""url"": ""https://api.github.com/repos/django-oscar/django-oscar/labels/%E2%9D%93Support%20question"", ""color"": ""fef2c0"", ""node_id"": ""MDU6TGFiZWw1MzI1NzMxOTQ="", ""id"": 532573194}]",Error when adding a block to page url,"I traced this error and tried to fix it on my setup.

apps/dashboard/promotions/forms.py

and edit:
```python
class PagePromotionForm(forms.ModelForm):
...
class Meta:
        model = PagePromotion
        fields = ['position']
```
to instead be:
```python
class Meta:
        model = PagePromotion
        fields = ['position', 'page_url']
```
it did not work.

actually, it is not writing urls into the db, so I had to write it throught django admin

any better solution?



debug bellow:

```python
NoReverseMatch at /dashboard/content-blocks/update/rawhtml/2/
Reverse for 'promotion-list-by-url' with arguments '()' and keyword arguments '{u'path': u''}' not found. 1 pattern(s) tried: [u'dashboard/content-blocks/page/(?P<path>/([\\w-]+(/[\\w-]+)*/)?)$']
Request Method:	GET
Request URL:	http://127.0.0.1:8000/dashboard/content-blocks/update/rawhtml/2/
Django Version:	1.8.17
Exception Type:	NoReverseMatch
Exception Value:	
Reverse for 'promotion-list-by-url' with arguments '()' and keyword arguments '{u'path': u''}' not found. 1 pattern(s) tried: [u'dashboard/content-blocks/page/(?P<path>/([\\w-]+(/[\\w-]+)*/)?)$']
Exception Location:	/home/tatu/.virtualenvs/recifegrafica/local/lib/python2.7/site-packages/django/core/urlresolvers.py in _reverse_with_prefix, line 495
Python Executable:	/home/tatu/.virtualenvs/recifegrafica/bin/python
Python Version:	2.7.10
Python Path:	
['/home/tatu/apps/recifegrafica',
 '/home/tatu/.virtualenvs/recifegrafica/lib/python2.7',
 '/home/tatu/.virtualenvs/recifegrafica/lib/python2.7/plat-x86_64-linux-gnu',
 '/home/tatu/.virtualenvs/recifegrafica/lib/python2.7/lib-tk',
 '/home/tatu/.virtualenvs/recifegrafica/lib/python2.7/lib-old',
 '/home/tatu/.virtualenvs/recifegrafica/lib/python2.7/lib-dynload',
 '/usr/lib/python2.7',
 '/usr/lib/python2.7/plat-x86_64-linux-gnu',
 '/usr/lib/python2.7/lib-tk',
 '/home/tatu/.virtualenvs/recifegrafica/local/lib/python2.7/site-packages',
 '/home/tatu/.virtualenvs/recifegrafica/lib/python2.7/site-packages']
Server time:	Qua, 4 Jan 2017 11:18:06 -0300
Error during template rendering

In template /home/tatu/.virtualenvs/recifegrafica/local/lib/python2.7/site-packages/oscar/templates/oscar/dashboard/promotions/form.html, error at line 64
Reverse for 'promotion-list-by-url' with arguments '()' and keyword arguments '{u'path': u''}' not found. 1 pattern(s) tried: [u'dashboard/content-blocks/page/(?P<path>/([\\w-]+(/[\\w-]+)*/)?)$']
54	                <tbody>
55	                    {% for link in links %}
56	                        <tr>
57	                            <td><a href=""{{ link.page_url }}"">{{ link.page_url }}</a></td>
58	                            <td>{{ link.position }}</td>
59	                            <td>
60	                                <form action=""."" method=""post"" >
61	                                    {% csrf_token %}
62	                                    <input type=""hidden"" name=""action"" value=""remove_from_page"" />
63	                                    <input type=""hidden"" name=""pagepromotion_id"" value=""{{ link.id }}"" />
64	
                                          <a href=""
      {% url 'dashboard:promotion-list-by-url' path=link.page_url %}
      "" class=""btn btn-info"">{% trans ""View all blocks on this page"" %}</a>

      
65	                                    <button class=""btn btn-default"" type=""submit"" data-loading-text=""{% trans 'Removing...' %}"">{% trans ""Remove from page"" %}</button>
66	                                </form>
67	                            </td>
68	                        </tr>
69	                    {% endfor %}
70	                </tbody>
71	            {% else %}
72	                <tr><td>{% trans ""This promotion is not displayed anywhere at the moment."" %}</td></tr>
73	            {% endif %}
74	        </table>```"
11210,django-oscar,django-oscar,13,closed,1815,5,https://api.github.com/repos/django-oscar/django-oscar/issues/1815/comments,https://github.com/django-oscar/django-oscar/issues/1815,[],NoReverseMatch at /dashboard/content-blocks/update/rawhtml/2/,"Hello, I have encountered a problem.
I have searched, but found nothing on my problem.

After i created content block and assigned it to URL, for example:
/ 
or 
/catalogue/ 

this content-block cannot be seen on assigned page, furthermore I cannot update my content-block anymore and i have the following error:

Reverse for 'promotion-list-by-url' with arguments '()' and keyword arguments '{u'path': u''}' not found. 1 pattern(s) tried: [u'dashboard/content-blocks/page/(?P<path>/([\w-]+(/[\w-]+)*/)?)$']

But, if i assign to blank url or to /catalogue (without last slash), it writes, that url cannot be finded.

Please help.
"
11236,django-oscar,django-oscar,14,closed,1789,0,https://api.github.com/repos/django-oscar/django-oscar/issues/1789/comments,https://github.com/django-oscar/django-oscar/pull/1789,[],PartnerUserUpdateView: Insert partner into context for template rendering to work,"PartnerUserUpdateView fails by throwing NoReverseMatch, because the tempalte
partner_user_form.html expects a partner object in the context. Fix by
inserting partner into the context
"
11283,django-oscar,django-oscar,14,closed,1742,0,https://api.github.com/repos/django-oscar/django-oscar/issues/1742/comments,https://github.com/django-oscar/django-oscar/issues/1742,[],Creating a new product via the dashboard causes NoReverseMatch expection,"Looks like it could be because of line 240 of the dashboard/catalogue/product_update.html template:

```
{% with children=product.children.all %}
```

children is NULL as there is no product, however later on in the template the `{% if children %}` tag thinks there are four children. This causes a NoReverseMatch exception for the Edit and Delete button URLs.
"
12002,django-oscar,django-oscar,21,closed,982,0,https://api.github.com/repos/django-oscar/django-oscar/issues/982/comments,https://github.com/django-oscar/django-oscar/issues/982,[],oscar-stores: slug didnt created for non-latin names causes a template error,"Slug field remains empty if non-latin (eg cyrillic) characters used for Store name, while appropriate database record was made successfully. After redirection to such store page exception NoReverseMatch raises as it described in maillist https://groups.google.com/forum/#!topic/django-oscar/BstfrDb_nHs
"
13454,geex-arts,django-jet,2,closed,146,4,https://api.github.com/repos/geex-arts/django-jet/issues/146/comments,https://github.com/geex-arts/django-jet/issues/146,[],Possible DjangoCMS Issue,"I am trying to add Jet to my DjangoCMS site. Everything in the admin works fine and as expected. The issue I am having, however, is when editing a plugin. When trying to edit the content of a plugin on a page a get:

NoReverseMatch at /en/admin/cms/page/edit-plugin/2/
Reverse for 'djangocms_text_ckeditor_text_changelist' with arguments '()' and keyword arguments '{}' not found. 0 pattern(s) tried: []

Now, this error is because I clicked edit on a ckeditor plugin but I get the same NoReverseMatch for any plugin type I try to edit. For example:

NoReverseMatch at /en/admin/cms/page/edit-plugin/3/
Reverse for 'cmsplugin_filer_teaser_filerteaser_changelist' with arguments '()' and keyword arguments '{}' not found. 0 pattern(s) tried: []

Is Jet compatible with DjangoCMS? Am I missing something? Please let me know if there is any other information I can provide.

Thanks!

Brandon Culpepper"
13626,Fantomas42,django-blog-zinnia,2,closed,475,3,https://api.github.com/repos/Fantomas42/django-blog-zinnia/issues/475/comments,https://github.com/Fantomas42/django-blog-zinnia/issues/475,"[{""default"": false, ""name"": ""ICC"", ""url"": ""https://api.github.com/repos/Fantomas42/django-blog-zinnia/labels/ICC"", ""color"": ""fffeb8"", ""node_id"": ""MDU6TGFiZWwzOTY1OQ=="", ""id"": 39659}]",Exception Value: 	  Reverse for 'humans' with arguments '()' and keyword arguments '{}' not found. 1 pattern(s) tried: ['$humans.txt$'],"Hi,

I got the urls.py from+ https://github.com/Fantomas42/django-blog-zinnia/blob/develop/demo/urls.py,  and  edited these lines:

> urlpatterns = [
>     url(r'^$', RedirectView.as_view(url='/blog/', permanent=True)),
>     url(r'^blog/', include('zinnia.urls')),
>     url(r'^comments/', include('django_comments.urls')),
>     url(r'^xmlrpc/$', handle_xmlrpc),
>     url(r'^i18n/', include('django.conf.urls.i18n')),
>     url(r'^admin/doc/', include('django.contrib.admindocs.urls')),
>     url(r'^admin/', admin.site.urls),
> ]

to  below:

> urlpatterns = [
>     # url(r'^$', RedirectView.as_view(url='/blog/', permanent=True)),
>     url(r'^$', include('zinnia.urls', namespace='zinnia')),
>     url(r'^comments/', include('django_comments.urls')),
>     url(r'^xmlrpc/$', handle_xmlrpc),
>     url(r'^i18n/', include('django.conf.urls.i18n')),
>     url(r'^admin/doc/', include('django.contrib.admindocs.urls')),
>     url(r'^admin/', admin.site.urls),
> ]

then visited the http://127.0.0.1:8000/ ,  i got errors:

```
Environment:


Request Method: GET
Request URL: http://127.0.0.1:8000/

Django Version: 1.8.13
Python Version: 3.4.2
Installed Applications:
('django.contrib.admin',
 'django.contrib.auth',
 'django.contrib.contenttypes',
 'django.contrib.sessions',
 'django.contrib.messages',
 'django.contrib.staticfiles',
 'django.contrib.sites',
 'django_comments',
 'mptt',
 'tagging',
 'zinnia')
Installed Middleware:
('django.contrib.sessions.middleware.SessionMiddleware',
 'django.middleware.common.CommonMiddleware',
 'django.middleware.csrf.CsrfViewMiddleware',
 'django.contrib.auth.middleware.AuthenticationMiddleware',
 'django.contrib.auth.middleware.SessionAuthenticationMiddleware',
 'django.contrib.messages.middleware.MessageMiddleware',
 'django.middleware.clickjacking.XFrameOptionsMiddleware',
 'django.middleware.security.SecurityMiddleware')


Template error:
In template /opt/py34_django18_env/lib/python3.4/site-packages/django_blog_zinnia-0.16-py3.4.egg/zinnia/templates/zinnia/base.html, error at line 13
   Reverse for 'humans' with arguments '()' and keyword arguments '{}' not found. 1 pattern(s) tried: ['$humans.txt$']

   3 : {% load zinnia %}



   4 : 



   5 : {% block meta-keywords %}{% get_tags as entry_tags %}{{ entry_tags|join:"", ""}}{% endblock meta-keywords %}



   6 : 



   7 : {% block meta %}



   8 :     <meta name=""generator"" content=""Zinnia {{ ZINNIA_VERSION }}"" />



   9 : {% endblock meta %}



   10 : 



   11 : {% block link %}




   12 :     <link rel=""index"" href=""{% url 'zinnia:entry_archive_index' %}"" />



   13 :     <link rel=""author"" type=""text/plain"" href="" {% url 'zinnia:humans' %} "" />



   14 :     <link rel=""EditURI"" type=""application/rsd+xml"" href=""{% url 'zinnia:rsd' %}"" />



   15 :     <link rel=""wlwmanifest"" type=""application/wlwmanifest+xml"" href=""{% url 'zinnia:wlwmanifest' %}"" />



   16 :     <link rel=""search"" type=""application/opensearchdescription+xml"" title=""Zinnia's Weblog"" href=""{% url 'zinnia:opensearch' %}"" />



   17 :     <link rel=""alternate"" type=""application/rss+xml"" title=""{% trans ""RSS feed of last entries"" %}"" href=""{% url 'zinnia:entry_feed' %}"" />



   18 :     <link rel=""alternate"" type=""application/rss+xml"" title=""{% trans ""RSS feed of last discussions"" %}"" href=""{% url 'zinnia:discussion_feed' %}"" />



   19 :     {% get_archives_entries ""zinnia/tags/entries_archives_link.html"" %}




   20 : {% endblock link %}



   21 : 



   22 : {% block breadcrumbs %}



   23 :   {% zinnia_breadcrumbs %}


Traceback:
File ""/opt/py34_django18_env/lib/python3.4/site-packages/django/core/handlers/base.py"" in get_response
  164.                 response = response.render()
File ""/opt/py34_django18_env/lib/python3.4/site-packages/django/template/response.py"" in render
  158.             self.content = self.rendered_content
File ""/opt/py34_django18_env/lib/python3.4/site-packages/django/template/response.py"" in rendered_content
  135.         content = template.render(context, self._request)
File ""/opt/py34_django18_env/lib/python3.4/site-packages/django/template/backends/django.py"" in render
  74.         return self.template.render(context)
File ""/opt/py34_django18_env/lib/python3.4/site-packages/django/template/base.py"" in render
  210.                     return self._render(context)
File ""/opt/py34_django18_env/lib/python3.4/site-packages/django/template/base.py"" in _render
  202.         return self.nodelist.render(context)
File ""/opt/py34_django18_env/lib/python3.4/site-packages/django/template/base.py"" in render
  905.                 bit = self.render_node(node, context)
File ""/opt/py34_django18_env/lib/python3.4/site-packages/django/template/debug.py"" in render_node
  79.             return node.render(context)
File ""/opt/py34_django18_env/lib/python3.4/site-packages/django/template/loader_tags.py"" in render
  135.         return compiled_parent._render(context)
File ""/opt/py34_django18_env/lib/python3.4/site-packages/django/template/base.py"" in _render
  202.         return self.nodelist.render(context)
File ""/opt/py34_django18_env/lib/python3.4/site-packages/django/template/base.py"" in render
  905.                 bit = self.render_node(node, context)
File ""/opt/py34_django18_env/lib/python3.4/site-packages/django/template/debug.py"" in render_node
  79.             return node.render(context)
File ""/opt/py34_django18_env/lib/python3.4/site-packages/django/template/loader_tags.py"" in render
  135.         return compiled_parent._render(context)
File ""/opt/py34_django18_env/lib/python3.4/site-packages/django/template/base.py"" in _render
  202.         return self.nodelist.render(context)
File ""/opt/py34_django18_env/lib/python3.4/site-packages/django/template/base.py"" in render
  905.                 bit = self.render_node(node, context)
File ""/opt/py34_django18_env/lib/python3.4/site-packages/django/template/debug.py"" in render_node
  79.             return node.render(context)
File ""/opt/py34_django18_env/lib/python3.4/site-packages/django/template/loader_tags.py"" in render
  135.         return compiled_parent._render(context)
File ""/opt/py34_django18_env/lib/python3.4/site-packages/django/template/base.py"" in _render
  202.         return self.nodelist.render(context)
File ""/opt/py34_django18_env/lib/python3.4/site-packages/django/template/base.py"" in render
  905.                 bit = self.render_node(node, context)
File ""/opt/py34_django18_env/lib/python3.4/site-packages/django/template/debug.py"" in render_node
  79.             return node.render(context)
File ""/opt/py34_django18_env/lib/python3.4/site-packages/django/template/loader_tags.py"" in render
  65.                 result = block.nodelist.render(context)
File ""/opt/py34_django18_env/lib/python3.4/site-packages/django/template/base.py"" in render
  905.                 bit = self.render_node(node, context)
File ""/opt/py34_django18_env/lib/python3.4/site-packages/django/template/debug.py"" in render_node
  79.             return node.render(context)
File ""/opt/py34_django18_env/lib/python3.4/site-packages/django/template/debug.py"" in render
  89.             output = self.filter_expression.resolve(context)
File ""/opt/py34_django18_env/lib/python3.4/site-packages/django/template/base.py"" in resolve
  648.                 obj = self.var.resolve(context)
File ""/opt/py34_django18_env/lib/python3.4/site-packages/django/template/base.py"" in resolve
  789.             value = self._resolve_lookup(context)
File ""/opt/py34_django18_env/lib/python3.4/site-packages/django/template/base.py"" in _resolve_lookup
  849.                             current = current()
File ""/opt/py34_django18_env/lib/python3.4/site-packages/django/template/loader_tags.py"" in super
  79.             return mark_safe(self.render(self.context))
File ""/opt/py34_django18_env/lib/python3.4/site-packages/django/template/loader_tags.py"" in render
  65.                 result = block.nodelist.render(context)
File ""/opt/py34_django18_env/lib/python3.4/site-packages/django/template/base.py"" in render
  905.                 bit = self.render_node(node, context)
File ""/opt/py34_django18_env/lib/python3.4/site-packages/django/template/debug.py"" in render_node
  79.             return node.render(context)
File ""/opt/py34_django18_env/lib/python3.4/site-packages/django/template/defaulttags.py"" in render
  507.                         six.reraise(*exc_info)
File ""/opt/py34_django18_env/lib/python3.4/site-packages/django/utils/six.py"" in reraise
  686.         raise value
File ""/opt/py34_django18_env/lib/python3.4/site-packages/django/template/defaulttags.py"" in render
  493.             url = reverse(view_name, args=args, kwargs=kwargs, current_app=current_app)
File ""/opt/py34_django18_env/lib/python3.4/site-packages/django/core/urlresolvers.py"" in reverse
  578.     return force_text(iri_to_uri(resolver._reverse_with_prefix(view, prefix, *args, **kwargs)))
File ""/opt/py34_django18_env/lib/python3.4/site-packages/django/core/urlresolvers.py"" in _reverse_with_prefix
  495.                              (lookup_view_s, args, kwargs, len(patterns), patterns))

Exception Type: NoReverseMatch at /
Exception Value: Reverse for 'humans' with arguments '()' and keyword arguments '{}' not found. 1 pattern(s) tried: ['$humans.txt$']
```

Anyone help? 
Thanks.
"
13647,Fantomas42,django-blog-zinnia,2,closed,454,1,https://api.github.com/repos/Fantomas42/django-blog-zinnia/issues/454/comments,https://github.com/Fantomas42/django-blog-zinnia/issues/454,"[{""default"": false, ""name"": ""Admin"", ""url"": ""https://api.github.com/repos/Fantomas42/django-blog-zinnia/labels/Admin"", ""color"": ""2af786"", ""node_id"": ""MDU6TGFiZWw1MDA2OQ=="", ""id"": 50069}, {""default"": false, ""name"": ""Improvement"", ""url"": ""https://api.github.com/repos/Fantomas42/django-blog-zinnia/labels/Improvement"", ""color"": ""8ac728"", ""node_id"": ""MDU6TGFiZWwzNTA0Mg=="", ""id"": 35042}]",Bug: NoReverseMatch at /admin/zinnia/,"On django with CustomUser (AUTH_USER_MODEL = 'users.CustomUser') exception raised.
url: /admin/zinnia/

```
Reverse for 'users_customuser_changelist' with arguments '()' and keyword arguments '{}' not found. 0 pattern(s) tried: []
Request Method: GET
Request URL:    http://127.0.0.1:8000/admin/zinnia/
Django Version: 1.8.6
Exception Type: NoReverseMatch
Exception Value:    
Reverse for 'users_customuser_changelist' with arguments '()' and keyword arguments '{}' not found. 0 pattern(s) tried: []
...
In template /home/ghost/.virtualenvs/neighbors/local/lib/python2.7/site-packages/zinnia/templates/admin/zinnia/widgets/_content_stats.html, error at line 36
{% url 'changelist'|user_admin_urlname %}
```
"
13659,Fantomas42,django-blog-zinnia,2,closed,442,3,https://api.github.com/repos/Fantomas42/django-blog-zinnia/issues/442/comments,https://github.com/Fantomas42/django-blog-zinnia/issues/442,[],'zinnia' is not a registered namespace,"I recieve when trying to make a new entry

NoReverseMatch at /admin/zinnia/entry/
'zinnia' is not a registered namespace
"
13668,Fantomas42,django-blog-zinnia,2,closed,433,1,https://api.github.com/repos/Fantomas42/django-blog-zinnia/issues/433/comments,https://github.com/Fantomas42/django-blog-zinnia/issues/433,"[{""default"": false, ""name"": ""ICC"", ""url"": ""https://api.github.com/repos/Fantomas42/django-blog-zinnia/labels/ICC"", ""color"": ""fffeb8"", ""node_id"": ""MDU6TGFiZWwzOTY1OQ=="", ""id"": 39659}]",NoReverseMatch exception after Entry's model extention,"Despite the fact that I've done everything exactly the same as described in [documentation](http://docs.django-blog-zinnia.com/en/develop/how-to/extending_entry_model.html), I'm getting `NoReverseMatch` exception with my new custom `get_absolute_url` property on all pages  with references on another entries. 

```
NoReverseMatch at /blog/1/
Reverse for 'entry_detail' with arguments '()' and keyword arguments '{'pk': '1'}' not found. 1 pattern(s) tried: ['weblog/(?P<year>\\d{4})/(?P<month>\\d{2})/(?P<day>\\d{2})/(?P<slug>[-\\w]+)/$']
```

Here is the part of the template that cause error:

```
<a href=""{{ object.get_absolute_url }}""></a>
```

zinnia_customized.models

``` python
from django.db import models
from zinnia.models_bases.entry import AbstractEntry

class EntryWithNewUrl(AbstractEntry):
    """"""Entry with '/blog/<id>/' URL""""""

    @models.permalink
    def get_absolute_url(self):
        return ('zinnia:entry_detail', (),
                {'pk': self.id})

    class Meta(AbstractEntry.Meta):
        abstract = True
```

zinnia_customized.views

``` python
from django.views.generic.detail import DetailView

from zinnia.models.entry import Entry
from zinnia.views.mixins.entry_preview import EntryPreviewMixin
from zinnia.views.mixins.entry_protection import EntryProtectionMixin

class EntryDetail(EntryPreviewMixin,
                  EntryProtectionMixin,
                  DetailView):
    queryset = Entry.published.on_site()
    template_name_field = 'template'
```

urls.py

``` python
from zinnia_customized.views import EntryDetail

url(r'^blog/(?P<pk>\d+)/$', EntryDetail.as_view(),  name='entry_detail'),
```

Project's settings.py:

``` python
ZINNIA_ENTRY_BASE_MODEL = 'zinnia_customized.models.EntryWithNewUrl'
```

If I remove `ZINNIA_ENTRY_BASE_MODEL` from the settings file I could actually reach the entry with new url pattern, but  urls to other entries have standart `weblog/<year>/<month>/<day>/<slug>` format. (That's because custom `get_absolute_url()` is not registered, after all)

Is that some kind of bug or am I actually missing something?
Thanks in advance.

....  
Django 1.8.2
Zinnia 0.15.2.dev0
Python 3.4
"
13674,Fantomas42,django-blog-zinnia,3,closed,427,2,https://api.github.com/repos/Fantomas42/django-blog-zinnia/issues/427/comments,https://github.com/Fantomas42/django-blog-zinnia/issues/427,"[{""default"": false, ""name"": ""Perimeter"", ""url"": ""https://api.github.com/repos/Fantomas42/django-blog-zinnia/labels/Perimeter"", ""color"": ""fffb08"", ""node_id"": ""MDU6TGFiZWw1MDA3Mw=="", ""id"": 50073}]",search throwing error on development version,"I'm getting tis on my search:

NoReverseMatch at /blog/search/

This is what I have for blog in urls: 

url(r'^blog/', include('zinnia.urls', namespace='zinnia')),
    url(r'^comments/', include('django_comments.urls')),
    url(r'^ckeditor/', include('ckeditor.urls')),

Here is my site:

http://www.bradrice.com/blog/

Can you tell me if this is a bug or if I need to configure my installation?
"
13699,Fantomas42,django-blog-zinnia,3,closed,402,1,https://api.github.com/repos/Fantomas42/django-blog-zinnia/issues/402/comments,https://github.com/Fantomas42/django-blog-zinnia/issues/402,"[{""default"": false, ""name"": ""ICC"", ""url"": ""https://api.github.com/repos/Fantomas42/django-blog-zinnia/labels/ICC"", ""color"": ""fffeb8"", ""node_id"": ""MDU6TGFiZWwzOTY1OQ=="", ""id"": 39659}]",NoReverseMatch when rewriting entry_detail url to slug-only,"I'm trying to change the entry_detail url from the default (year, month, day, slug) to slug only. Unfortunately, I'm getting a `NoReverseMatch` exception with the custom ""object.get_absolute_url"" property.
My customized files:

zinnia_customized.urls

``` python""""""
from django.conf.urls import url
from django.conf.urls import patterns
from zinnia_customized.views import EntryDetail

urlpatterns = patterns('',
    url(r'^(?P<slug>[-\w]+)/$', EntryDetail.as_view(), name='entry_detail'),
)
```

zinnia_customized.models

``` python
from django.db import models
from zinnia.models_bases.entry import AbstractEntry

class EntryWithNewUrl(AbstractEntry):
    @models.permalink
    def get_absolute_url(self):
        return 'zinnia:entry_detail', (), {'slug': self.slug}

    class Meta(AbstractEntry.Meta):
        abstract = True
```

zinnia_customized.views

``` python
from django.views.generic.detail import DetailView
from zinnia.models.entry import Entry
from zinnia.views.mixins.entry_preview import EntryPreviewMixin
from zinnia.views.mixins.entry_protection import EntryProtectionMixin

class EntryDetail(EntryPreviewMixin, EntryProtectionMixin, DetailView):
    queryset = Entry.published.on_site()
    template_name_field = 'template'
```

and this is what my main projects urls looks like:

``` python
blog_urls = [
    url(r'^', include('zinnia.urls.capabilities')),
    url(r'^search/', include('zinnia.urls.search')),
    url(r'^sitemap/', include('zinnia.urls.sitemap')),
    url(r'^trackback/', include('zinnia.urls.trackback')),
    url(r'^blog/tags/', include('zinnia.urls.tags')),
    url(r'^blog/feeds/', include('zinnia.urls.feeds')),
    url(r'^blog/authors/', include('zinnia.urls.authors')),
    url(r'^blog/categories/', include('zinnia.urls.categories')),
    # url(r'^blog/', include('zinnia.urls.entries')),
    url(r'^blog/', include('zinnia_customized.urls')),
    url(r'^blog/', include('zinnia.urls.archives')),
    url(r'^blog/', include('zinnia.urls.shortlink')),
    url(r'^blog/', include('zinnia.urls.quick_entry')),
]
urlpatterns += patterns('',
                        url(r'^', include(blog_urls, namespace='zinnia'), name='blog')
                        )
```

I tried to follow the documentation as close as possible and I think I didn't miss anything, still something's fishy.

Here the exception + data:

```
NoReverseMatch at /blog/
Reverse for 'entry_detail' with arguments '()' and keyword arguments '{'year': '2015', 'slug': u'hello-world', 'day': '21', 'month': '02'}' not found. 1 pattern(s) tried: ['blog/(?P<slug>[-\\w]+)/$']
```

and the problematic object property:

``` html
<a href=""{{ object.get_absolute_url }}""></a>
```

Help much appreciated!

edit: using Django 1.7.4
"
13754,Fantomas42,django-blog-zinnia,3,closed,345,9,https://api.github.com/repos/Fantomas42/django-blog-zinnia/issues/345/comments,https://github.com/Fantomas42/django-blog-zinnia/issues/345,"[{""default"": false, ""name"": ""Admin"", ""url"": ""https://api.github.com/repos/Fantomas42/django-blog-zinnia/labels/Admin"", ""color"": ""2af786"", ""node_id"": ""MDU6TGFiZWw1MDA2OQ=="", ""id"": 50069}, {""default"": false, ""name"": ""Comments"", ""url"": ""https://api.github.com/repos/Fantomas42/django-blog-zinnia/labels/Comments"", ""color"": ""006b75"", ""node_id"": ""MDU6TGFiZWw0MjYyMDY5Mw=="", ""id"": 42620693}]",NoReverseMatch at /webmaster/zinnia/,"I'm using both django comments and zinnia-threaded-comments (django 1.5, zinnia 0.13)
When I tried to open page /admin/zinnia/, Error occured as follows:
Reverse for 'zinnia_threaded_comments_comment_changelist' with arguments '()' and keyword arguments '{}' not found.
In template zinnia\templates\admin\zinnia\widgets_content_stats.html, error at line 13
<a href=""{% url 'admin:zinnia_threaded_comments_comment_changelist' %}?is_public__exact=1"">
Same issue posted here https://groups.google.com/forum/#!topic/django-blog-zinnia/hNukuy9e88U
"
13776,Fantomas42,django-blog-zinnia,4,closed,323,8,https://api.github.com/repos/Fantomas42/django-blog-zinnia/issues/323/comments,https://github.com/Fantomas42/django-blog-zinnia/issues/323,"[{""default"": false, ""name"": ""Custom User"", ""url"": ""https://api.github.com/repos/Fantomas42/django-blog-zinnia/labels/Custom%20User"", ""color"": ""0052cc"", ""node_id"": ""MDU6TGFiZWw4MTExODgyNQ=="", ""id"": 81118825}, {""default"": false, ""name"": ""Improvement"", ""url"": ""https://api.github.com/repos/Fantomas42/django-blog-zinnia/labels/Improvement"", ""color"": ""8ac728"", ""node_id"": ""MDU6TGFiZWwzNTA0Mg=="", ""id"": 35042}]",Django 1.6.x / Custom User Model,"When i use a custom model and email as the username, I am getting:

NoReverseMatch: Reverse for 'zinnia_author_feed' with arguments '('',)' and keyword arguments '{}' not found. 1 pattern(s) tried: ['rehber/rss/authors/(?P<username>[.+-@\w]+)/$']

When i try to go to Authors page link.

Also Admin panels Dashboard is not working for the same reason I am getting:
NoReverseMatch: Reverse for 'auth_user_changelist' with arguments '()' and keyword arguments '{}' not found. 0 pattern(s) tried: []

Any ideas?
"
13810,Fantomas42,django-blog-zinnia,4,closed,289,4,https://api.github.com/repos/Fantomas42/django-blog-zinnia/issues/289/comments,https://github.com/Fantomas42/django-blog-zinnia/issues/289,"[{""default"": false, ""name"": ""Admin"", ""url"": ""https://api.github.com/repos/Fantomas42/django-blog-zinnia/labels/Admin"", ""color"": ""2af786"", ""node_id"": ""MDU6TGFiZWw1MDA2OQ=="", ""id"": 50069}, {""default"": false, ""name"": ""Improvement"", ""url"": ""https://api.github.com/repos/Fantomas42/django-blog-zinnia/labels/Improvement"", ""color"": ""8ac728"", ""node_id"": ""MDU6TGFiZWwzNTA0Mg=="", ""id"": 35042}, {""default"": false, ""name"": ""Perimeter"", ""url"": ""https://api.github.com/repos/Fantomas42/django-blog-zinnia/labels/Perimeter"", ""color"": ""fffb08"", ""node_id"": ""MDU6TGFiZWw1MDA3Mw=="", ""id"": 50073}]",Templates still refer to auth_user,"I have found a few template references to 'auth_user' that cause issues when using a custom user.

Here are the scenarios:
1. When the 'Zinnia' category/dashboard is viewed in the admin. The following produces a NoReverseMatch error.
`<a href=""{% url 'admin:auth_user_changelist' %}""> in _content_stats.html, ln 36`
2. When an Author's entries are listed on the site using Zinia. The following produces a NoReverseMatch error.
`<a href=""{% url 'admin:auth_user_change' author.pk %}"" title=""{% trans ""Edit the author"" %}""> in entry_list.html, ln 84`

This can be reproduced by adding a custom user object and walking through the scenarios.

What I have tried:
1. (Mixed) I was able to get Zinnia working with my own app by replacing 'auth_user' with 'myapp_myuser' but obviously that wouldn't be suitably generic.
2. (Fail) Building off 1. I tried replacing 'auth_user' with 'zinnia_author' with no luck.
3. Double checking django docs. They only seem to confirm 1. but don't talk about what to put if you are writing a re-usable app. https://docs.djangoproject.com/en/dev/ref/contrib/admin/#reversing-admin-urls
4. (Fail) I have asked the django-users group how to use that template tag in a reusable way and someone suggested a custom tag. Here is my attempt at that approach. The main reason it doesn't work is because I don't know what I am doing. :P 
https://groups.google.com/forum/#!topic/django-users/lhd9EkC0qNk
https://dpaste.de/Cwt2

Related:
https://github.com/Fantomas42/django-blog-zinnia/pull/217
"
13823,Fantomas42,django-blog-zinnia,4,closed,276,1,https://api.github.com/repos/Fantomas42/django-blog-zinnia/issues/276/comments,https://github.com/Fantomas42/django-blog-zinnia/issues/276,"[{""default"": false, ""name"": ""Comments"", ""url"": ""https://api.github.com/repos/Fantomas42/django-blog-zinnia/labels/Comments"", ""color"": ""006b75"", ""node_id"": ""MDU6TGFiZWw0MjYyMDY5Mw=="", ""id"": 42620693}, {""default"": false, ""name"": ""ICC"", ""url"": ""https://api.github.com/repos/Fantomas42/django-blog-zinnia/labels/ICC"", ""color"": ""fffeb8"", ""node_id"": ""MDU6TGFiZWwzOTY1OQ=="", ""id"": 39659}]",NoReverseMatch at /en/weblog/2013/09/16/new-web,"Hi,
seems to be related to a recent django version 1.5.1 (installed with pip) and the  django.contrib.comments app.

may be due to the comments framework  has removed from django dev version 
https://docs.djangoproject.com/en/dev/ref/contrib/comments/

zinnia version 0.12.3

Reverse for 'django.contrib.comments.views.comments.post_comment' with arguments '()' and keyword arguments '{}' not found.
Template:
zinnia/templates/comments/zinnia/entry/form.html, error at line 3
<form action=""{% comment_form_target %}"" method=""post"" id=""comment-form"">

File ""/home/foooo/.virtualenvs/cms3/local/lib/python2.7/site-packages/django/contrib/comments/templatetags/comments.py"" in render
1.             formstr = render_to_string(template_search_list, {""form"" : self.get_form(context)}, context)
   File ""/home/foooo/.virtualenvs/cms3/local/lib/python2.7/site-packages/django/template/loader.py"" in render_to_string
2.         return t.render(context_instance)
   File ""/home/foooo/.virtualenvs/cms3/local/lib/python2.7/site-packages/django/template/base.py"" in render
3.             return self._render(context)
   File ""/home/foooo/.virtualenvs/cms3/local/lib/python2.7/site-packages/django/template/base.py"" in _render
4.         return self.nodelist.render(context)
   File ""/home/foooo/.virtualenvs/cms3/local/lib/python2.7/site-packages/django/template/base.py"" in render
5.                 bit = self.render_node(node, context)
   File ""/home/foooo/.virtualenvs/cms3/local/lib/python2.7/site-packages/django/template/debug.py"" in render_node
6.             return node.render(context)
   File ""/home/foooo/.virtualenvs/cms3/local/lib/python2.7/site-packages/django/template/base.py"" in render
7.                     return func(_resolved_args, *_resolved_kwargs)
   File ""/home/foooo/.virtualenvs/cms3/local/lib/python2.7/site-packages/django/contrib/comments/templatetags/comments.py"" in comment_form_target
8.     return comments.get_form_target()
   File ""/home/foooo/.virtualenvs/cms3/local/lib/python2.7/site-packages/django/contrib/comments/**init**.py"" in get_form_target
9.         return urlresolvers.reverse(""django.contrib.comments.views.comments.post_comment"")
   File ""/home/foooo/.virtualenvs/cms3/local/lib/python2.7/site-packages/django/core/urlresolvers.py"" in reverse
10.     return iri_to_uri(resolver._reverse_with_prefix(view, prefix, _args, *_kwargs))
    File ""/home/foooo/.virtualenvs/cms3/local/lib/python2.7/site-packages/django/core/urlresolvers.py"" in _reverse_with_prefix
11.                 ""arguments '%s' not found."" % (lookup_view_s, args, kwargs))

Exception Type: NoReverseMatch at /en/weblog/2013/09/16/new-web-site-bloc/
Exception Value: Reverse for 'django.contrib.comments.views.comments.post_comment' with arguments '()' and keyword arguments '{}' not found.
"
13905,Fantomas42,django-blog-zinnia,5,closed,194,1,https://api.github.com/repos/Fantomas42/django-blog-zinnia/issues/194/comments,https://github.com/Fantomas42/django-blog-zinnia/issues/194,"[{""default"": false, ""name"": ""Tests"", ""url"": ""https://api.github.com/repos/Fantomas42/django-blog-zinnia/labels/Tests"", ""color"": ""b50000"", ""node_id"": ""MDU6TGFiZWw1Mzc0NA=="", ""id"": 53744}, {""default"": false, ""name"": ""Wont fix"", ""url"": ""https://api.github.com/repos/Fantomas42/django-blog-zinnia/labels/Wont%20fix"", ""color"": ""e10c02"", ""node_id"": ""MDU6TGFiZWw5NzAyNQ=="", ""id"": 97025}]",tests failing with python 2.7,"While we are in the cleaning of python-2.7-related failiures (thank you, again!), I have this as well:

```
matej@wycliff: zinnia_blog$ python manage.py test
Creating test database for alias 'default'...
....F............................................................................................................................................................................................................................................................................F......EFF...F..........F......EFF......F.........F...EFF...F...............................................................................................................................................................................................................................
======================================================================
ERROR: test_middleware_disabled (django.contrib.messages.tests.cookie.CookieTest)
----------------------------------------------------------------------
Traceback (most recent call last):
  File ""/usr/lib/python2.7/site-packages/django/test/utils.py"", line 205, in inner
    return test_func(*args, **kwargs)
  File ""/usr/lib/python2.7/site-packages/django/contrib/messages/tests/base.py"", line 235, in test_middleware_disabled
    data, follow=True)
  File ""/home/matej/.local/lib/python2.7/site-packages/unittest2/case.py"", line 475, in assertRaises
    callableObj(*args, **kwargs)
  File ""/usr/lib/python2.7/site-packages/django/test/client.py"", line 449, in post
    response = super(Client, self).post(path, data=data, content_type=content_type, **extra)
  File ""/usr/lib/python2.7/site-packages/django/test/client.py"", line 262, in post
    return self.request(**r)
  File ""/usr/lib/python2.7/site-packages/django/test/client.py"", line 381, in request
    response = self.handler(environ)
  File ""/usr/lib/python2.7/site-packages/django/test/client.py"", line 84, in __call__
    response = self.get_response(request)
  File ""/usr/lib/python2.7/site-packages/django/core/handlers/base.py"", line 179, in get_response
    response = self.handle_uncaught_exception(request, resolver, sys.exc_info())
  File ""/usr/lib/python2.7/site-packages/django/core/handlers/base.py"", line 228, in handle_uncaught_exception
    return callback(request, **param_dict)
  File ""/usr/lib/python2.7/site-packages/django/utils/decorators.py"", line 91, in _wrapped_view
    response = view_func(request, *args, **kwargs)
  File ""/usr/lib/python2.7/site-packages/django/views/defaults.py"", line 33, in server_error
    return http.HttpResponseServerError(t.render(Context({})))
  File ""/usr/lib/python2.7/site-packages/django/template/base.py"", line 140, in render
    return self._render(context)
  File ""/usr/lib/python2.7/site-packages/django/test/utils.py"", line 62, in instrumented_test_render
    return self.nodelist.render(context)
  File ""/usr/lib/python2.7/site-packages/django/template/base.py"", line 823, in render
    bit = self.render_node(node, context)
  File ""/usr/lib/python2.7/site-packages/django/template/debug.py"", line 74, in render_node
    return node.render(context)
  File ""/usr/lib/python2.7/site-packages/django/template/loader_tags.py"", line 123, in render
    return compiled_parent._render(context)
  File ""/usr/lib/python2.7/site-packages/django/test/utils.py"", line 62, in instrumented_test_render
    return self.nodelist.render(context)
  File ""/usr/lib/python2.7/site-packages/django/template/base.py"", line 823, in render
    bit = self.render_node(node, context)
  File ""/usr/lib/python2.7/site-packages/django/template/debug.py"", line 74, in render_node
    return node.render(context)
  File ""/usr/lib/python2.7/site-packages/django/template/defaulttags.py"", line 427, in render
    raise e
NoReverseMatch: Reverse for 'zinnia_entry_archive_index' with arguments '()' and keyword arguments '{}' not found.

======================================================================
ERROR: test_middleware_disabled (django.contrib.messages.tests.fallback.FallbackTest)
----------------------------------------------------------------------
Traceback (most recent call last):
  File ""/usr/lib/python2.7/site-packages/django/test/utils.py"", line 205, in inner
    return test_func(*args, **kwargs)
  File ""/usr/lib/python2.7/site-packages/django/contrib/messages/tests/base.py"", line 235, in test_middleware_disabled
    data, follow=True)
  File ""/home/matej/.local/lib/python2.7/site-packages/unittest2/case.py"", line 475, in assertRaises
    callableObj(*args, **kwargs)
  File ""/usr/lib/python2.7/site-packages/django/test/client.py"", line 449, in post
    response = super(Client, self).post(path, data=data, content_type=content_type, **extra)
  File ""/usr/lib/python2.7/site-packages/django/test/client.py"", line 262, in post
    return self.request(**r)
  File ""/usr/lib/python2.7/site-packages/django/test/client.py"", line 381, in request
    response = self.handler(environ)
  File ""/usr/lib/python2.7/site-packages/django/test/client.py"", line 84, in __call__
    response = self.get_response(request)
  File ""/usr/lib/python2.7/site-packages/django/core/handlers/base.py"", line 179, in get_response
    response = self.handle_uncaught_exception(request, resolver, sys.exc_info())
  File ""/usr/lib/python2.7/site-packages/django/core/handlers/base.py"", line 228, in handle_uncaught_exception
    return callback(request, **param_dict)
  File ""/usr/lib/python2.7/site-packages/django/utils/decorators.py"", line 91, in _wrapped_view
    response = view_func(request, *args, **kwargs)
  File ""/usr/lib/python2.7/site-packages/django/views/defaults.py"", line 33, in server_error
    return http.HttpResponseServerError(t.render(Context({})))
  File ""/usr/lib/python2.7/site-packages/django/template/base.py"", line 140, in render
    return self._render(context)
  File ""/usr/lib/python2.7/site-packages/django/test/utils.py"", line 62, in instrumented_test_render
    return self.nodelist.render(context)
  File ""/usr/lib/python2.7/site-packages/django/template/base.py"", line 823, in render
    bit = self.render_node(node, context)
  File ""/usr/lib/python2.7/site-packages/django/template/debug.py"", line 74, in render_node
    return node.render(context)
  File ""/usr/lib/python2.7/site-packages/django/template/loader_tags.py"", line 123, in render
    return compiled_parent._render(context)
  File ""/usr/lib/python2.7/site-packages/django/test/utils.py"", line 62, in instrumented_test_render
    return self.nodelist.render(context)
  File ""/usr/lib/python2.7/site-packages/django/template/base.py"", line 823, in render
    bit = self.render_node(node, context)
  File ""/usr/lib/python2.7/site-packages/django/template/debug.py"", line 74, in render_node
    return node.render(context)
  File ""/usr/lib/python2.7/site-packages/django/template/defaulttags.py"", line 427, in render
    raise e
NoReverseMatch: Reverse for 'zinnia_entry_archive_index' with arguments '()' and keyword arguments '{}' not found.

======================================================================
ERROR: test_middleware_disabled (django.contrib.messages.tests.session.SessionTest)
----------------------------------------------------------------------
Traceback (most recent call last):
  File ""/usr/lib/python2.7/site-packages/django/test/utils.py"", line 205, in inner
    return test_func(*args, **kwargs)
  File ""/usr/lib/python2.7/site-packages/django/contrib/messages/tests/base.py"", line 235, in test_middleware_disabled
    data, follow=True)
  File ""/home/matej/.local/lib/python2.7/site-packages/unittest2/case.py"", line 475, in assertRaises
    callableObj(*args, **kwargs)
  File ""/usr/lib/python2.7/site-packages/django/test/client.py"", line 449, in post
    response = super(Client, self).post(path, data=data, content_type=content_type, **extra)
  File ""/usr/lib/python2.7/site-packages/django/test/client.py"", line 262, in post
    return self.request(**r)
  File ""/usr/lib/python2.7/site-packages/django/test/client.py"", line 381, in request
    response = self.handler(environ)
  File ""/usr/lib/python2.7/site-packages/django/test/client.py"", line 84, in __call__
    response = self.get_response(request)
  File ""/usr/lib/python2.7/site-packages/django/core/handlers/base.py"", line 179, in get_response
    response = self.handle_uncaught_exception(request, resolver, sys.exc_info())
  File ""/usr/lib/python2.7/site-packages/django/core/handlers/base.py"", line 228, in handle_uncaught_exception
    return callback(request, **param_dict)
  File ""/usr/lib/python2.7/site-packages/django/utils/decorators.py"", line 91, in _wrapped_view
    response = view_func(request, *args, **kwargs)
  File ""/usr/lib/python2.7/site-packages/django/views/defaults.py"", line 33, in server_error
    return http.HttpResponseServerError(t.render(Context({})))
  File ""/usr/lib/python2.7/site-packages/django/template/base.py"", line 140, in render
    return self._render(context)
  File ""/usr/lib/python2.7/site-packages/django/test/utils.py"", line 62, in instrumented_test_render
    return self.nodelist.render(context)
  File ""/usr/lib/python2.7/site-packages/django/template/base.py"", line 823, in render
    bit = self.render_node(node, context)
  File ""/usr/lib/python2.7/site-packages/django/template/debug.py"", line 74, in render_node
    return node.render(context)
  File ""/usr/lib/python2.7/site-packages/django/template/loader_tags.py"", line 123, in render
    return compiled_parent._render(context)
  File ""/usr/lib/python2.7/site-packages/django/test/utils.py"", line 62, in instrumented_test_render
    return self.nodelist.render(context)
  File ""/usr/lib/python2.7/site-packages/django/template/base.py"", line 823, in render
    bit = self.render_node(node, context)
  File ""/usr/lib/python2.7/site-packages/django/template/debug.py"", line 74, in render_node
    return node.render(context)
  File ""/usr/lib/python2.7/site-packages/django/template/defaulttags.py"", line 427, in render
    raise e
NoReverseMatch: Reverse for 'zinnia_entry_archive_index' with arguments '()' and keyword arguments '{}' not found.

======================================================================
FAIL: test_message_attrs (django.contrib.auth.tests.context_processors.AuthContextProcessorTests)
----------------------------------------------------------------------
Traceback (most recent call last):
  File ""/usr/lib/python2.7/site-packages/django/contrib/auth/tests/context_processors.py"", line 58, in test_message_attrs
    self.assertContains(response, ""Message 1"")
  File ""/usr/lib/python2.7/site-packages/django/test/testcases.py"", line 637, in assertContains
    msg_prefix + ""Couldn't find '%s' in response"" % text)
AssertionError: False is not True : Couldn't find 'Message 1' in response

======================================================================
FAIL: test_full_request_response_cycle (django.contrib.messages.tests.cookie.CookieTest)
----------------------------------------------------------------------
Traceback (most recent call last):
  File ""/usr/lib/python2.7/site-packages/django/test/utils.py"", line 205, in inner
    return test_func(*args, **kwargs)
  File ""/usr/lib/python2.7/site-packages/django/contrib/messages/tests/base.py"", line 162, in test_full_request_response_cycle
    self.assertTrue('messages' in response.context)
AssertionError: False is not True

======================================================================
FAIL: test_middleware_disabled_fail_silently (django.contrib.messages.tests.cookie.CookieTest)
----------------------------------------------------------------------
Traceback (most recent call last):
  File ""/usr/lib/python2.7/site-packages/django/test/utils.py"", line 205, in inner
    return test_func(*args, **kwargs)
  File ""/usr/lib/python2.7/site-packages/django/contrib/messages/tests/base.py"", line 262, in test_middleware_disabled_fail_silently
    self.assertTrue('messages' in response.context)
AssertionError: False is not True

======================================================================
FAIL: test_multiple_posts (django.contrib.messages.tests.cookie.CookieTest)
----------------------------------------------------------------------
Traceback (most recent call last):
  File ""/usr/lib/python2.7/site-packages/django/test/utils.py"", line 205, in inner
    return test_func(*args, **kwargs)
  File ""/usr/lib/python2.7/site-packages/django/contrib/messages/tests/base.py"", line 207, in test_multiple_posts
    self.assertTrue('messages' in response.context)
AssertionError: False is not True

======================================================================
FAIL: test_with_template_response (django.contrib.messages.tests.cookie.CookieTest)
----------------------------------------------------------------------
Traceback (most recent call last):
  File ""/usr/lib/python2.7/site-packages/django/test/utils.py"", line 205, in inner
    return test_func(*args, **kwargs)
  File ""/usr/lib/python2.7/site-packages/django/contrib/messages/tests/base.py"", line 180, in test_with_template_response
    self.assertTrue('messages' in response.context)
AssertionError: False is not True

======================================================================
FAIL: test_full_request_response_cycle (django.contrib.messages.tests.fallback.FallbackTest)
----------------------------------------------------------------------
Traceback (most recent call last):
  File ""/usr/lib/python2.7/site-packages/django/test/utils.py"", line 205, in inner
    return test_func(*args, **kwargs)
  File ""/usr/lib/python2.7/site-packages/django/contrib/messages/tests/base.py"", line 162, in test_full_request_response_cycle
    self.assertTrue('messages' in response.context)
AssertionError: False is not True

======================================================================
FAIL: test_middleware_disabled_fail_silently (django.contrib.messages.tests.fallback.FallbackTest)
----------------------------------------------------------------------
Traceback (most recent call last):
  File ""/usr/lib/python2.7/site-packages/django/test/utils.py"", line 205, in inner
    return test_func(*args, **kwargs)
  File ""/usr/lib/python2.7/site-packages/django/contrib/messages/tests/base.py"", line 262, in test_middleware_disabled_fail_silently
    self.assertTrue('messages' in response.context)
AssertionError: False is not True

======================================================================
FAIL: test_multiple_posts (django.contrib.messages.tests.fallback.FallbackTest)
----------------------------------------------------------------------
Traceback (most recent call last):
  File ""/usr/lib/python2.7/site-packages/django/test/utils.py"", line 205, in inner
    return test_func(*args, **kwargs)
  File ""/usr/lib/python2.7/site-packages/django/contrib/messages/tests/base.py"", line 207, in test_multiple_posts
    self.assertTrue('messages' in response.context)
AssertionError: False is not True

======================================================================
FAIL: test_with_template_response (django.contrib.messages.tests.fallback.FallbackTest)
----------------------------------------------------------------------
Traceback (most recent call last):
  File ""/usr/lib/python2.7/site-packages/django/test/utils.py"", line 205, in inner
    return test_func(*args, **kwargs)
  File ""/usr/lib/python2.7/site-packages/django/contrib/messages/tests/base.py"", line 180, in test_with_template_response
    self.assertTrue('messages' in response.context)
AssertionError: False is not True

======================================================================
FAIL: test_full_request_response_cycle (django.contrib.messages.tests.session.SessionTest)
----------------------------------------------------------------------
Traceback (most recent call last):
  File ""/usr/lib/python2.7/site-packages/django/test/utils.py"", line 205, in inner
    return test_func(*args, **kwargs)
  File ""/usr/lib/python2.7/site-packages/django/contrib/messages/tests/base.py"", line 162, in test_full_request_response_cycle
    self.assertTrue('messages' in response.context)
AssertionError: False is not True

======================================================================
FAIL: test_middleware_disabled_fail_silently (django.contrib.messages.tests.session.SessionTest)
----------------------------------------------------------------------
Traceback (most recent call last):
  File ""/usr/lib/python2.7/site-packages/django/test/utils.py"", line 205, in inner
    return test_func(*args, **kwargs)
  File ""/usr/lib/python2.7/site-packages/django/contrib/messages/tests/base.py"", line 262, in test_middleware_disabled_fail_silently
    self.assertTrue('messages' in response.context)
AssertionError: False is not True

======================================================================
FAIL: test_multiple_posts (django.contrib.messages.tests.session.SessionTest)
----------------------------------------------------------------------
Traceback (most recent call last):
  File ""/usr/lib/python2.7/site-packages/django/test/utils.py"", line 205, in inner
    return test_func(*args, **kwargs)
  File ""/usr/lib/python2.7/site-packages/django/contrib/messages/tests/base.py"", line 207, in test_multiple_posts
    self.assertTrue('messages' in response.context)
AssertionError: False is not True

======================================================================
FAIL: test_with_template_response (django.contrib.messages.tests.session.SessionTest)
----------------------------------------------------------------------
Traceback (most recent call last):
  File ""/usr/lib/python2.7/site-packages/django/test/utils.py"", line 205, in inner
    return test_func(*args, **kwargs)
  File ""/usr/lib/python2.7/site-packages/django/contrib/messages/tests/base.py"", line 180, in test_with_template_response
    self.assertTrue('messages' in response.context)
AssertionError: False is not True

----------------------------------------------------------------------
Ran 557 tests in 20.231s

FAILED (failures=13, errors=3)
Destroying test database for alias 'default'...
matej@wycliff: zinnia_blog$ 
```

What more information you need for debugging?
"
13907,Fantomas42,django-blog-zinnia,5,closed,192,2,https://api.github.com/repos/Fantomas42/django-blog-zinnia/issues/192/comments,https://github.com/Fantomas42/django-blog-zinnia/issues/192,"[{""default"": false, ""name"": ""Bug"", ""url"": ""https://api.github.com/repos/Fantomas42/django-blog-zinnia/labels/Bug"", ""color"": ""3c7496"", ""node_id"": ""MDU6TGFiZWwzNTA0MQ=="", ""id"": 35041}]",django-blog-zinnia trunk,"I am using the trunk version and it appears that I am the url call to `zinnia_entry_archive_month` breaks on the YEAR page whenever there's an entry in that month.

For instance, when I access http://127.0.0.1/webblogs/2012/

I get this template error -

```
Template error:
In template /Users/calvin/.virtualenvs/myproject/src/django-blog-zinnia/zinnia/templates/zinnia/entry_archive_year.html, error at line 20
   Reverse for 'zinnia_entry_archive_month' with arguments '(datetime.date(2012, 1, 1), u'12')' and keyword arguments '{}' not found.
   10 : 


   11 : {% block content-title %}


   12 : <h1>{% trans ""Archives"" %} {{ year }}</h1>


   13 : {% endblock %}


   14 : 


   15 : {% block content-related %}


   16 : <h2>{% trans ""Monthly archives"" %}</h2>


   17 : <ul>


   18 :   {% for date in date_list %}


   19 :   <li>


   20 :     <a href="" {% url 'zinnia_entry_archive_month' year date|date:""m"" %} "" rel=""archives"">{{ date|date:""YEAR_MONTH_FORMAT"" }}</a>


   21 :   </li>


   22 :   {% endfor %}


   23 : </ul>


   24 : {% endblock %}


   25 : 

Traceback:
File ""/Users/calvin/.virtualenvs/myproject/src/django/django/core/handlers/base.py"" in get_response
  141.                     response = response.render()
File ""/Users/calvin/.virtualenvs/myproject/src/django/django/template/response.py"" in render
  105.             self.content = self.rendered_content
File ""/Users/calvin/.virtualenvs/myproject/src/django/django/template/response.py"" in rendered_content
  82.         content = template.render(context)
File ""/Users/calvin/.virtualenvs/myproject/src/django/django/template/base.py"" in render
  140.             return self._render(context)
File ""/Users/calvin/.virtualenvs/myproject/src/django/django/test/utils.py"" in instrumented_test_render
  64.     return self.nodelist.render(context)
File ""/Users/calvin/.virtualenvs/myproject/src/django/django/template/base.py"" in render
  830.                 bit = self.render_node(node, context)
File ""/Users/calvin/.virtualenvs/myproject/src/django/django/template/debug.py"" in render_node
  74.             return node.render(context)
File ""/Users/calvin/.virtualenvs/myproject/src/django/django/template/loader_tags.py"" in render
  124.         return compiled_parent._render(context)
File ""/Users/calvin/.virtualenvs/myproject/src/django/django/test/utils.py"" in instrumented_test_render
  64.     return self.nodelist.render(context)
File ""/Users/calvin/.virtualenvs/myproject/src/django/django/template/base.py"" in render
  830.                 bit = self.render_node(node, context)
File ""/Users/calvin/.virtualenvs/myproject/src/django/django/template/debug.py"" in render_node
  74.             return node.render(context)
File ""/Users/calvin/.virtualenvs/myproject/src/django/django/template/loader_tags.py"" in render
  124.         return compiled_parent._render(context)
File ""/Users/calvin/.virtualenvs/myproject/src/django/django/test/utils.py"" in instrumented_test_render
  64.     return self.nodelist.render(context)
File ""/Users/calvin/.virtualenvs/myproject/src/django/django/template/base.py"" in render
  830.                 bit = self.render_node(node, context)
File ""/Users/calvin/.virtualenvs/myproject/src/django/django/template/debug.py"" in render_node
  74.             return node.render(context)
File ""/Users/calvin/.virtualenvs/myproject/src/django/django/template/loader_tags.py"" in render
  124.         return compiled_parent._render(context)
File ""/Users/calvin/.virtualenvs/myproject/src/django/django/test/utils.py"" in instrumented_test_render
  64.     return self.nodelist.render(context)
File ""/Users/calvin/.virtualenvs/myproject/src/django/django/template/base.py"" in render
  830.                 bit = self.render_node(node, context)
File ""/Users/calvin/.virtualenvs/myproject/src/django/django/template/debug.py"" in render_node
  74.             return node.render(context)
File ""/Users/calvin/.virtualenvs/myproject/src/django/django/template/loader_tags.py"" in render
  124.         return compiled_parent._render(context)
File ""/Users/calvin/.virtualenvs/myproject/src/django/django/test/utils.py"" in instrumented_test_render
  64.     return self.nodelist.render(context)
File ""/Users/calvin/.virtualenvs/myproject/src/django/django/template/base.py"" in render
  830.                 bit = self.render_node(node, context)
File ""/Users/calvin/.virtualenvs/myproject/src/django/django/template/debug.py"" in render_node
  74.             return node.render(context)
File ""/Users/calvin/.virtualenvs/myproject/src/django/django/template/loader_tags.py"" in render
  124.         return compiled_parent._render(context)
File ""/Users/calvin/.virtualenvs/myproject/src/django/django/test/utils.py"" in instrumented_test_render
  64.     return self.nodelist.render(context)
File ""/Users/calvin/.virtualenvs/myproject/src/django/django/template/base.py"" in render
  830.                 bit = self.render_node(node, context)
File ""/Users/calvin/.virtualenvs/myproject/src/django/django/template/debug.py"" in render_node
  74.             return node.render(context)
File ""/Users/calvin/.virtualenvs/myproject/src/django/django/template/loader_tags.py"" in render
  124.         return compiled_parent._render(context)
File ""/Users/calvin/.virtualenvs/myproject/src/django/django/test/utils.py"" in instrumented_test_render
  64.     return self.nodelist.render(context)
File ""/Users/calvin/.virtualenvs/myproject/src/django/django/template/base.py"" in render
  830.                 bit = self.render_node(node, context)
File ""/Users/calvin/.virtualenvs/myproject/src/django/django/template/debug.py"" in render_node
  74.             return node.render(context)
File ""/Users/calvin/.virtualenvs/myproject/src/django/django/template/loader_tags.py"" in render
  63.             result = block.nodelist.render(context)
File ""/Users/calvin/.virtualenvs/myproject/src/django/django/template/base.py"" in render
  830.                 bit = self.render_node(node, context)
File ""/Users/calvin/.virtualenvs/myproject/src/django/django/template/debug.py"" in render_node
  74.             return node.render(context)
File ""/Users/calvin/.virtualenvs/myproject/src/django/django/template/loader_tags.py"" in render
  63.             result = block.nodelist.render(context)
File ""/Users/calvin/.virtualenvs/myproject/src/django/django/template/base.py"" in render
  830.                 bit = self.render_node(node, context)
File ""/Users/calvin/.virtualenvs/myproject/src/django/django/template/debug.py"" in render_node
  74.             return node.render(context)
File ""/Users/calvin/.virtualenvs/myproject/src/django/django/template/loader_tags.py"" in render
  63.             result = block.nodelist.render(context)
File ""/Users/calvin/.virtualenvs/myproject/src/django/django/template/base.py"" in render
  830.                 bit = self.render_node(node, context)
File ""/Users/calvin/.virtualenvs/myproject/src/django/django/template/debug.py"" in render_node
  74.             return node.render(context)
File ""/Users/calvin/.virtualenvs/myproject/src/django/django/template/defaulttags.py"" in render
  188.                         nodelist.append(node.render(context))
File ""/Users/calvin/.virtualenvs/myproject/src/django/django/template/defaulttags.py"" in render
  424.                         raise e

Exception Type: NoReverseMatch at /weblogs/2012/
Exception Value: Reverse for 'zinnia_entry_archive_month' with arguments '(datetime.date(2012, 1, 1), u'12')' and keyword arguments '{}' not found.
```
"
13915,Fantomas42,django-blog-zinnia,5,closed,184,2,https://api.github.com/repos/Fantomas42/django-blog-zinnia/issues/184/comments,https://github.com/Fantomas42/django-blog-zinnia/issues/184,"[{""default"": false, ""name"": ""Documentation"", ""url"": ""https://api.github.com/repos/Fantomas42/django-blog-zinnia/labels/Documentation"", ""color"": ""8800ff"", ""node_id"": ""MDU6TGFiZWw1Mzc0Mw=="", ""id"": 53743}, {""default"": false, ""name"": ""ICC"", ""url"": ""https://api.github.com/repos/Fantomas42/django-blog-zinnia/labels/ICC"", ""color"": ""fffeb8"", ""node_id"": ""MDU6TGFiZWwzOTY1OQ=="", ""id"": 39659}]",Got a Exception when run zinnia:NoReverseMatch at /weblog/  ,"NoReverseMatch at /weblog/

u'admin' is not a registered namespace

some details are:

Error during template rendering

In template /root/Envs/yuetu_zinnia2/lib/python2.7/site-packages/zinnia/templates/zinnia/entry_list.html, error at line 50
u'admin' is not a registered namespace
49  <p class=""notice"">
50  <a href=""{% url 'admin:zinnia_entry_add' %}"">{% trans ""No entries yet."" %}</a>
51  </p>

Part of my setting.py 
INSTALLED_APPS = (
    # Uncomment the next line to enable the admin:
    # 'django.contrib.admin',
    # Uncomment the next line to enable admin documentation:
    # 'django.contrib.admindocs',
    'django.contrib.auth',
    'django.contrib.admin',
    'django.contrib.sites',
    'django.contrib.comments',
    'django.contrib.sessions',
    'django.contrib.messages',
    'django.contrib.contenttypes',
    'tagging',
    'mptt',
    'zinnia',
)

TEMPLATE_CONTEXT_PROCESSORS = (
    'django.contrib.auth.context_processors.auth',
    'django.core.context_processors.i18n',
    'django.core.context_processors.request',
    'django.core.context_processors.media',
    'django.core.context_processors.static',
    'zinnia.context_processors.version',
)

I run the python manage.py validate/syncdb/runserver with 0 errors.
but when I browse 127.0.0.1:8000/weblog    I  got that error above. I strictly followed the installation document. 

I've  tried twice with reinstall zinnia. Same error.  Please help me .
"
13946,Fantomas42,django-blog-zinnia,5,closed,153,0,https://api.github.com/repos/Fantomas42/django-blog-zinnia/issues/153/comments,https://github.com/Fantomas42/django-blog-zinnia/issues/153,"[{""default"": false, ""name"": ""Bug"", ""url"": ""https://api.github.com/repos/Fantomas42/django-blog-zinnia/labels/Bug"", ""color"": ""3c7496"", ""node_id"": ""MDU6TGFiZWwzNTA0MQ=="", ""id"": 35041}]",Quick publishing on another language,"Entering Quick publishing at Dashboard with a title on Russian is going to error ""NoReverseMatch at /weblog/quick_entry/"".
"
13955,Fantomas42,django-blog-zinnia,5,closed,144,2,https://api.github.com/repos/Fantomas42/django-blog-zinnia/issues/144/comments,https://github.com/Fantomas42/django-blog-zinnia/issues/144,"[{""default"": false, ""name"": ""Database"", ""url"": ""https://api.github.com/repos/Fantomas42/django-blog-zinnia/labels/Database"", ""color"": ""a858ba"", ""node_id"": ""MDU6TGFiZWw0NTQzNg=="", ""id"": 45436}, {""default"": false, ""name"": ""ICC"", ""url"": ""https://api.github.com/repos/Fantomas42/django-blog-zinnia/labels/ICC"", ""color"": ""fffeb8"", ""node_id"": ""MDU6TGFiZWwzOTY1OQ=="", ""id"": 39659}, {""default"": false, ""name"": ""Wont fix"", ""url"": ""https://api.github.com/repos/Fantomas42/django-blog-zinnia/labels/Wont%20fix"", ""color"": ""e10c02"", ""node_id"": ""MDU6TGFiZWw5NzAyNQ=="", ""id"": 97025}]","NoReverseMatch at /admin/zinnia/entry/, using MySQL UTF-8 database ","Hi,
I can add a new entry when use default DB under MySQL, but I need to save UTF-8 words so I create the database as following:
CREATE DATABASE mydb
  DEFAULT CHARACTER SET utf8
  DEFAULT COLLATE utf8_general_ci; 

After sending the a new entry, I caught the error NoReverseMatch at /admin/zinnia/entry/
Reverse for 'zinnia_entry_detail' with arguments '()' and keyword arguments '{'year': '2012', 'slug': u'', 'day': '01', 'month': '05'}' not found. I also name the slug, but the slug shows nothing in the error.

Thanks your help!

My urls.py:

```
from django.conf.urls import patterns, include, url

from django.contrib import admin
admin.autodiscover()

urlpatterns = patterns('',

     url(r'^admin/doc/', include('django.contrib.admindocs.urls')), 

     url(r'^admin/', include(admin.site.urls)),

     url(r'^$', include('zinnia.urls.entries')),
     url(r'^search/', include('zinnia.urls.search')),
     url(r'^sitemap/', include('zinnia.urls.sitemap')),
     url(r'^trackback/', include('zinnia.urls.trackback')),
     url(r'^weblog/tags/', include('zinnia.urls.tags')),
     url(r'^weblog/feeds/', include('zinnia.urls.feeds')),
     url(r'^weblog/authors/', include('zinnia.urls.authors')),
     url(r'^weblog/categories/', include('zinnia.urls.categories')),
     url(r'^weblog/discussions/', include('zinnia.urls.discussions')),
     url(r'^weblog/', include('zinnia.urls.entries')),
     url(r'^weblog/', include('zinnia.urls.archives')),
     url(r'^weblog/', include('zinnia.urls.shortlink')),
     url(r'^weblog/', include('zinnia.urls.quick_entry')),
     url(r'^comments/', include('django.contrib.comments.urls')),


)
```
"
13988,Fantomas42,django-blog-zinnia,6,closed,111,3,https://api.github.com/repos/Fantomas42/django-blog-zinnia/issues/111/comments,https://github.com/Fantomas42/django-blog-zinnia/issues/111,"[{""default"": false, ""name"": ""ICC"", ""url"": ""https://api.github.com/repos/Fantomas42/django-blog-zinnia/labels/ICC"", ""color"": ""fffeb8"", ""node_id"": ""MDU6TGFiZWwzOTY1OQ=="", ""id"": 39659}]",Bug with virtualenv,"Hi !

Zinnia was installed in a virtual environnement with pip. An error occure when I want to reach the main page :
TemplateSyntaxError :
""Caught NoReverseMatch while rendering: Reverse for 'zinnia_rsd' with arguments '()' and keyword arguments '{}' not found.""

Do you have any idea to resolve it ?

Thanks
"
14011,Fantomas42,django-blog-zinnia,6,closed,88,1,https://api.github.com/repos/Fantomas42/django-blog-zinnia/issues/88/comments,https://github.com/Fantomas42/django-blog-zinnia/issues/88,"[{""default"": false, ""name"": ""Improvement"", ""url"": ""https://api.github.com/repos/Fantomas42/django-blog-zinnia/labels/Improvement"", ""color"": ""8ac728"", ""node_id"": ""MDU6TGFiZWwzNTA0Mg=="", ""id"": 35042}, {""default"": false, ""name"": ""Tagging"", ""url"": ""https://api.github.com/repos/Fantomas42/django-blog-zinnia/labels/Tagging"", ""color"": ""0b02e1"", ""node_id"": ""MDU6TGFiZWwxMDg5ODM="", ""id"": 108983}]",Full stop in tag causes internal server error,"Hi,

I realize there are issues in zinnia with spaces in tags (and this may be a django-tagging issue) but accidentally putting a ""."" rather than a "","" in the tag list causes a NoReverseMatch to be raised when a client tries to access the entry detail page.

Using zinnia 0.8 and django 1.3. Backtrace:

```
Traceback (most recent call last):

  File ""/home/xyz/webapps/abclive/lib/python2.6/django/core/handlers/base.py"", line 111, in get_response
    response = callback(request, *callback_args, **callback_kwargs)

  File ""/home/xyz/webapps/abclive/lib/python2.6/zinnia/views/decorators.py"", line 63, in wrap
    return view(*ka, **kw)

  File ""/home/xyz/webapps/abclive/lib/python2.6/django/views/generic/date_based.py"", line 373, in object_detail
    response = HttpResponse(t.render(c), mimetype=mimetype)

  File ""/home/xyz/webapps/abclive/lib/python2.6/django/template/base.py"", line 123, in render
    return self._render(context)

  File ""/home/xyz/webapps/abclive/lib/python2.6/django/template/base.py"", line 117, in _render
    return self.nodelist.render(context)

  File ""/home/xyz/webapps/abclive/lib/python2.6/django/template/base.py"", line 744, in render
    bits.append(self.render_node(node, context))

  File ""/home/xyz/webapps/abclive/lib/python2.6/django/template/base.py"", line 757, in render_node
    return node.render(context)

  File ""/home/xyz/webapps/abclive/lib/python2.6/django/template/loader_tags.py"", line 127, in render
    return compiled_parent._render(context)

  File ""/home/xyz/webapps/abclive/lib/python2.6/django/template/base.py"", line 117, in _render
    return self.nodelist.render(context)

  File ""/home/xyz/webapps/abclive/lib/python2.6/django/template/base.py"", line 744, in render
    bits.append(self.render_node(node, context))

  File ""/home/xyz/webapps/abclive/lib/python2.6/django/template/base.py"", line 757, in render_node
    return node.render(context)

  File ""/home/xyz/webapps/abclive/lib/python2.6/django/template/loader_tags.py"", line 127, in render
    return compiled_parent._render(context)

  File ""/home/xyz/webapps/abclive/lib/python2.6/django/template/base.py"", line 117, in _render
    return self.nodelist.render(context)

  File ""/home/xyz/webapps/abclive/lib/python2.6/django/template/base.py"", line 744, in render
    bits.append(self.render_node(node, context))

  File ""/home/xyz/webapps/abclive/lib/python2.6/django/template/base.py"", line 757, in render_node
    return node.render(context)

  File ""/home/xyz/webapps/abclive/lib/python2.6/django/template/loader_tags.py"", line 127, in render
    return compiled_parent._render(context)

  File ""/home/xyz/webapps/abclive/lib/python2.6/django/template/base.py"", line 117, in _render
    return self.nodelist.render(context)

  File ""/home/xyz/webapps/abclive/lib/python2.6/django/template/base.py"", line 744, in render
    bits.append(self.render_node(node, context))

  File ""/home/xyz/webapps/abclive/lib/python2.6/django/template/base.py"", line 757, in render_node
    return node.render(context)

  File ""/home/xyz/webapps/abclive/lib/python2.6/django/template/loader_tags.py"", line 127, in render
    return compiled_parent._render(context)

  File ""/home/xyz/webapps/abclive/lib/python2.6/django/template/base.py"", line 117, in _render
    return self.nodelist.render(context)

  File ""/home/xyz/webapps/abclive/lib/python2.6/django/template/base.py"", line 744, in render
    bits.append(self.render_node(node, context))

  File ""/home/xyz/webapps/abclive/lib/python2.6/django/template/base.py"", line 757, in render_node
    return node.render(context)

  File ""/home/xyz/webapps/abclive/lib/python2.6/django/template/loader_tags.py"", line 64, in render
    result = block.nodelist.render(context)

  File ""/home/xyz/webapps/abclive/lib/python2.6/django/template/base.py"", line 744, in render
    bits.append(self.render_node(node, context))

  File ""/home/xyz/webapps/abclive/lib/python2.6/django/template/base.py"", line 757, in render_node
    return node.render(context)

  File ""/home/xyz/webapps/abclive/lib/python2.6/django/template/loader_tags.py"", line 64, in render
    result = block.nodelist.render(context)

  File ""/home/xyz/webapps/abclive/lib/python2.6/django/template/base.py"", line 744, in render
    bits.append(self.render_node(node, context))

  File ""/home/xyz/webapps/abclive/lib/python2.6/django/template/base.py"", line 757, in render_node
    return node.render(context)

  File ""/home/xyz/webapps/abclive/lib/python2.6/django/template/loader_tags.py"", line 64, in render
    result = block.nodelist.render(context)

  File ""/home/xyz/webapps/abclive/lib/python2.6/django/template/base.py"", line 744, in render
    bits.append(self.render_node(node, context))

  File ""/home/xyz/webapps/abclive/lib/python2.6/django/template/base.py"", line 757, in render_node
    return node.render(context)

  File ""/home/xyz/webapps/abclive/lib/python2.6/django/template/loader_tags.py"", line 64, in render
    result = block.nodelist.render(context)

  File ""/home/xyz/webapps/abclive/lib/python2.6/django/template/base.py"", line 744, in render
    bits.append(self.render_node(node, context))

  File ""/home/xyz/webapps/abclive/lib/python2.6/django/template/base.py"", line 757, in render_node
    return node.render(context)

  File ""/home/xyz/webapps/abclive/lib/python2.6/django/template/loader_tags.py"", line 64, in render
    result = block.nodelist.render(context)

  File ""/home/xyz/webapps/abclive/lib/python2.6/django/template/base.py"", line 744, in render
    bits.append(self.render_node(node, context))

  File ""/home/xyz/webapps/abclive/lib/python2.6/django/template/base.py"", line 757, in render_node
    return node.render(context)

  File ""/home/xyz/webapps/abclive/lib/python2.6/django/template/defaulttags.py"", line 500, in render
    output = self.nodelist.render(context)

  File ""/home/xyz/webapps/abclive/lib/python2.6/django/template/base.py"", line 744, in render
    bits.append(self.render_node(node, context))

  File ""/home/xyz/webapps/abclive/lib/python2.6/django/template/base.py"", line 757, in render_node
    return node.render(context)

  File ""/home/xyz/webapps/abclive/lib/python2.6/django/template/loader_tags.py"", line 159, in render
    return self.render_template(self.template, context)

  File ""/home/xyz/webapps/abclive/lib/python2.6/django/template/loader_tags.py"", line 141, in render_template
    output = template.render(context)

  File ""/home/xyz/webapps/abclive/lib/python2.6/django/template/base.py"", line 123, in render
    return self._render(context)

  File ""/home/xyz/webapps/abclive/lib/python2.6/django/template/base.py"", line 117, in _render
    return self.nodelist.render(context)

  File ""/home/xyz/webapps/abclive/lib/python2.6/django/template/base.py"", line 744, in render
    bits.append(self.render_node(node, context))

  File ""/home/xyz/webapps/abclive/lib/python2.6/django/template/base.py"", line 757, in render_node
    return node.render(context)

  File ""/home/xyz/webapps/abclive/lib/python2.6/django/template/defaulttags.py"", line 227, in render
    nodelist.append(node.render(context))

  File ""/home/xyz/webapps/abclive/lib/python2.6/django/template/defaulttags.py"", line 450, in render
    raise e

NoReverseMatch: Reverse for 'zinnia_tag_detail' with arguments '(<Tag: Altitude One. Venture Capital>,)' and keyword arguments '{}' not found.
```
"
14037,Fantomas42,django-blog-zinnia,6,closed,62,6,https://api.github.com/repos/Fantomas42/django-blog-zinnia/issues/62/comments,https://github.com/Fantomas42/django-blog-zinnia/issues/62,"[{""default"": false, ""name"": ""ICC"", ""url"": ""https://api.github.com/repos/Fantomas42/django-blog-zinnia/labels/ICC"", ""color"": ""fffeb8"", ""node_id"": ""MDU6TGFiZWwzOTY1OQ=="", ""id"": 39659}]",NoReverseMatch error-new install,"Hi, installed zinnia cebfe88 with django 1.3 beta1 and mptt 0.4.2
Cannot post a comment. Have one category and one entry. 
I've tried zinnia 0.7, and various django and mptt combos without success.
The error is a template syntax error while rendering reverse for 'django.contrib.comments.views.comments.post_comment' with args() and keyword args {} not found
Any ideas?
I am incorporating zinnia into a production site. Not using django cms. 
Thanks, john
"
14051,Fantomas42,django-blog-zinnia,6,closed,48,3,https://api.github.com/repos/Fantomas42/django-blog-zinnia/issues/48/comments,https://github.com/Fantomas42/django-blog-zinnia/issues/48,"[{""default"": false, ""name"": ""ICC"", ""url"": ""https://api.github.com/repos/Fantomas42/django-blog-zinnia/labels/ICC"", ""color"": ""fffeb8"", ""node_id"": ""MDU6TGFiZWwzOTY1OQ=="", ""id"": 39659}]",When Added entry I got NoReverseMatch at /admin/zinnia/entry/add/,"(Djano-cms+django-blog-zinnia)

After I added category 
I go to added entry >>>> click button SAVE 

I got the message error.

NoReverseMatch at /admin/zinnia/entry/add/

Reverse for 'zinnia_entry_detail' with arguments '()' and keyword arguments '{'year': '2010', 'slug': u'lesson1', 'day': '14', 'month': '12'}' not found.

Request Method:     POST
Request URL:    http://127.0.0.1:8000/admin/zinnia/entry/add/
Django Version:     1.2.3
Exception Type:     NoReverseMatch
Exception Value:  
Reverse for 'zinnia_entry_detail' with arguments '()' and keyword arguments '{'year': '2010', 'slug': u'lesson1', 'day': '14', 'month': '12'}' not found.

Exception Location:     F:\Python27\lib\site-packages\django_cms-2.1.0.beta3-py2.7.egg\cms\models__init__.py in new_reverse, line 63
Python Executable:  F:\Python27\python.exe
Python Version:     2.7.0

Please Help me to solve this problem !
thanks
"
14088,Fantomas42,django-blog-zinnia,7,closed,11,10,https://api.github.com/repos/Fantomas42/django-blog-zinnia/issues/11/comments,https://github.com/Fantomas42/django-blog-zinnia/issues/11,"[{""default"": false, ""name"": ""Bug"", ""url"": ""https://api.github.com/repos/Fantomas42/django-blog-zinnia/labels/Bug"", ""color"": ""3c7496"", ""node_id"": ""MDU6TGFiZWwzNTA0MQ=="", ""id"": 35041}]",enabling ZINNIA_PING_DIRECTORIES and feeds,"'m getting bit by the ""template bug"", but it's not in a template, it's in `ping.py`.

`NoReverseMatch: Reverse for 'zinnia_feeds' with arguments '('latest',)' and keyword arguments '{}' not found.`

Ah found it. I enabled ZINNIA_PING_DIRECTORIES and here's the relevant code in ping.py:

original:

```
if not blog_url or not blog_feed:
    blog_url = '%s%s' % (site, reverse('zinnia_entry_archive_index'))
    blog_feed = '%s%s' % (site, reverse('zinnia_feeds', args=['latest', ]))
```

patch:

```
 if not blog_url or not blog_feed:
      blog_url = '%s%s' % (site, reverse('zinnia_entry_archive_index'))
```
-        blog_feed = '%s%s' % (site, reverse('zinnia_feeds', args=['latest', ]))
  -        blog_feed = '%s%s' % (site, reverse('zinnia_entry_latest_feed'))

(not a real patch, i'll generate a real one in a sec.
"
14089,Fantomas42,django-blog-zinnia,7,closed,10,6,https://api.github.com/repos/Fantomas42/django-blog-zinnia/issues/10/comments,https://github.com/Fantomas42/django-blog-zinnia/issues/10,"[{""default"": false, ""name"": ""ICC"", ""url"": ""https://api.github.com/repos/Fantomas42/django-blog-zinnia/labels/ICC"", ""color"": ""fffeb8"", ""node_id"": ""MDU6TGFiZWwzOTY1OQ=="", ""id"": 39659}]","Caught NoReverseMatch while rendering: Reverse for 'zinnia_feeds' with arguments '(u'search',)' and keyword arguments '{}' not found.","this particular issue happens when i go to /blog/search,  but it happens in other places.

it traces back to:
Caught NoReverseMatch while rendering: Reverse for 'zinnia_feeds' with arguments '(u'search',)' and keyword arguments '{}' not found.
1   {% extends ""zinnia/entry_archive_base.html"" %}
2   {% load i18n %}
3  
4   {% block title %}{% trans ""Search results"" %} {% if pattern %}'{{ pattern }}'{% endif %}{% endblock %}
5  
6   {% block link %}
7     <link rel=""alternate"" type=""application/rss+xml"" title=""{% trans ""RSS Feed of search result of"" %} '{{ pattern }}'"" href=""{% url zinnia_feeds ""search"" %}{{ pattern }}/"" />
8   {% endblock %}

i've search through all the urls files and do not see a urlpattern named 'zinnia_feeds' anywhere
"
15995,Tivix,django-rest-auth,2,closed,508,1,https://api.github.com/repos/Tivix/django-rest-auth/issues/508/comments,https://github.com/Tivix/django-rest-auth/issues/508,[],error while password reset ,"i'm getting this error, while trying to reset password

NoReverseMatch at /rest-auth/password/reset/

Reverse for 'password_reset_confirm' not found. 'password_reset_confirm' is not a valid view function or pattern name."
16019,Tivix,django-rest-auth,2,closed,458,2,https://api.github.com/repos/Tivix/django-rest-auth/issues/458/comments,https://github.com/Tivix/django-rest-auth/pull/458,[],Add missing django-allauth empty View,"Hello,

A `NoReverseMatch` exception is thrown during signup when using _django-allauth_ and `ACCOUNT_EMAIL_VERIFICATION` is set to `'mandatory'`.
This happen because _django-allouth_ tries to reverse a missing route: https://github.com/pennersr/django-allauth/blob/master/allauth/account/adapter.py#L458.

I added an empty view to avoid this.
The view was already there some time ago and removed on this commit: https://github.com/Tivix/django-rest-auth/commit/0fc4d56dae860be87809d8c9368f7cae28e14a44#diff-c6d8840dbabc2fb43a1d18876004f17a. Please let me know if it was any reason for this, I can't see any.

This can also be avoided by importing _django-allauth_ urls but I would prefer not to. Also, the documentation doesn't say you should."
16052,Tivix,django-rest-auth,2,closed,384,1,https://api.github.com/repos/Tivix/django-rest-auth/issues/384/comments,https://github.com/Tivix/django-rest-auth/issues/384,[],Use only rest_password_reset without exposing django endpoints,"I'm using this library only for the password reset functionality.

However, my urls only work if I expose `django.contrib.auth.urls'`, which gives access to all other authentication endpoint such as /login etc.

Is there a way I can only use rest-auth's password_rest and password_reset confirm without exposing the other endpoints?

Here are my  urls patterns:

```
urlpatterns = [

    url(r'^api', include('django.contrib.auth.urls')), #Exposing dangerous endpoints!!!
    url(r'^api/rest-auth/password/reset/$', auth_views.PasswordResetView.as_view(),
        name='rest_password_reset'),
    url(r'^api/rest-auth/password/reset/confirm/$', auth_views.PasswordResetConfirmView.as_view(),
        name='rest_password_reset_confirm'),
]
```

If I remove the first url, I get:

> NoReverseMatch at /api/rest-auth/password/reset/
Reverse for 'password_reset_confirm' not found. 'password_reset_confirm' is not a valid view function or pattern name."
16088,Tivix,django-rest-auth,3,closed,326,4,https://api.github.com/repos/Tivix/django-rest-auth/issues/326/comments,https://github.com/Tivix/django-rest-auth/issues/326,[],"When submitting email to reset password, 500 status because the password reset confirm URL is missing arguments?","It looks like django-rest-auth, by default, simply uses native Django's contrib/admin/templates/registration/password_reset_email.html template when you submit your email to reset your password.

If you look at urlpatterns in django.contrib.auth.urls, the password_reset_confirm URL takes uidb64 and token params, which makes sense--when clicked on, this will identify the user resetting the password. However, django-rest-auth's rest_password_reset_confirm URL doesn't take any arguments: it just goes to password/reset/confirm/. How can it work? I get the following 500 error when submitting my email to reset my password, and I'm not surprised--the error makes sense:

NoReverseMatch: Reverse for 'password_reset_confirm' with arguments '()' and keyword arguments '{u'uidb64': 'NA', u'token': u'4lj-65cd7b4219c9206126b4'}' not found.

What I don't understand is it seems like such a basic thing that I must be doing something wrong--otherwise everyone using django-rest-auth would get this error because the arguments are clearly missing in the URL definition. Has anyone else experienced it and if so, did you update urlpatterns to fix it?"
16091,Tivix,django-rest-auth,3,closed,320,2,https://api.github.com/repos/Tivix/django-rest-auth/issues/320/comments,https://github.com/Tivix/django-rest-auth/issues/320,[],NoReverseMatch at /rest-auth/registration/account-confirm-email/OQ:1cltRJ:Suk-ByPIoc5fpzcVjTBcgm2dh88/,"I am trying to impliment rest-auth in my project which uses angular in front-end. I have managed to get the user to register, however the problem is that when I click the registration link from my email, I get this error
NoReverseMatch at /rest-auth/registration/account-confirm-email/OQ:1cltRJ:Suk-ByPIoc5fpzcVjTBcgm2dh88/

here is the whole traceback

Environment:


Request Method: GET
Request URL: http://localhost:8000/rest-auth/registration/account-confirm-email/OQ:1cltRJ:Suk-ByPIoc5fpzcVjTBcgm2dh88/

Django Version: 1.10.6
Python Version: 3.6.0
Installed Applications:
['django.contrib.admin',
 'django.contrib.auth',
 'django.contrib.contenttypes',
 'django.contrib.sessions',
 'django.contrib.messages',
 'django.contrib.staticfiles',
 'django.contrib.sites',
 'corsheaders',
 'marks_app',
 'profiles_app',
 'search_app',
 'timeline_app',
 'accounts_app',
 'sectors_app',
 'videos_app',
 'university_app',
 'rest_framework',
 'rest_framework.authentication',
 'rest_framework.authtoken',
 'allauth',
 'allauth.account',
 'allauth.socialaccount',
 'allauth.socialaccount.providers.facebook',
 'allauth.socialaccount.providers.twitter',
 'rest_auth.registration',
 'rest_auth',
 'debug_toolbar',
 'rest_framework_swagger',
 'api',
 'djangular']
Installed Middleware:
['django.middleware.security.SecurityMiddleware',
 'django.contrib.sessions.middleware.SessionMiddleware',
 'django.middleware.common.CommonMiddleware',
 'corsheaders.middleware.CorsMiddleware',
 'django.middleware.csrf.CsrfViewMiddleware',
 'django.contrib.auth.middleware.AuthenticationMiddleware',
 'django.contrib.auth.middleware.SessionAuthenticationMiddleware',
 'debug_toolbar.middleware.DebugToolbarMiddleware',
 'django.contrib.messages.middleware.MessageMiddleware',
 'django.middleware.clickjacking.XFrameOptionsMiddleware']


Template error:
In template C:\Users\Nibit\AppData\Local\Programs\Python\Python36-32\lib\site-packages\allauth\templates\account\email_confirm.html, error at line 16
   Reverse for 'account_email' with arguments '()' and keyword arguments '{}' not found. 0 pattern(s) tried: []   6 : {% block head_title %}{% trans ""Confirm E-mail Address"" %}{% endblock %}
   7 : 
   8 : 
   9 : {% block content %}
   10 : <h1>{% trans ""Confirm E-mail Address"" %}</h1>
   11 : 
   12 : {% if confirmation %}
   13 : 
   14 : {% user_display confirmation.email_address.user as user_display %}
   15 : 
   16 : <p>{% blocktrans with confirmation.email_address.email as email %}Please confirm that <a href=""mailto:{{ email }}"">{{ email }}</a> is an e-mail addres s for user {{ user_displa y }}.{% endblocktrans %}</p>
   17 : 
   18 : <form method=""post"" action=""{% url 'account_confirm_email' confirmation.key %}"">
   19 : {% csrf_token %}
   20 :     <button type=""submit"">{% trans 'Confirm' %}</button>
   21 : </form>
   22 : 
   23 : {% else %}
   24 : 
   25 : {% url 'account_email' as email_url %}
   26 : 


Traceback:

File ""C:\Users\Nibit\AppData\Local\Programs\Python\Python36-32\lib\site-packages\django\core\handlers\exception.py"" in inner
  42.             response = get_response(request)

File ""C:\Users\Nibit\AppData\Local\Programs\Python\Python36-32\lib\site-packages\django\core\handlers\base.py"" in _legacy_get_response
  249.             response = self._get_response(request)

File ""C:\Users\Nibit\AppData\Local\Programs\Python\Python36-32\lib\site-packages\django\core\handlers\base.py"" in _get_response
  217.                 response = self.process_exception_by_middleware(e, request)

File ""C:\Users\Nibit\AppData\Local\Programs\Python\Python36-32\lib\site-packages\django\core\handlers\base.py"" in _get_response
  215.                 response = response.render()

File ""C:\Users\Nibit\AppData\Local\Programs\Python\Python36-32\lib\site-packages\django\template\response.py"" in render
  109.             self.content = self.rendered_content

File ""C:\Users\Nibit\AppData\Local\Programs\Python\Python36-32\lib\site-packages\django\template\response.py"" in rendered_content
  86.         content = template.render(context, self._request)

File ""C:\Users\Nibit\AppData\Local\Programs\Python\Python36-32\lib\site-packages\django\template\backends\django.py"" in render
  66.             return self.template.render(context)

File ""C:\Users\Nibit\AppData\Local\Programs\Python\Python36-32\lib\site-packages\django\template\base.py"" in render
  208.                     return self._render(context)

File ""C:\Users\Nibit\AppData\Local\Programs\Python\Python36-32\lib\site-packages\django\test\utils.py"" in instrumented_test_render
  94.     return self.nodelist.render(context)

File ""C:\Users\Nibit\AppData\Local\Programs\Python\Python36-32\lib\site-packages\django\template\base.py"" in render
  994.                 bit = node.render_annotated(context)

File ""C:\Users\Nibit\AppData\Local\Programs\Python\Python36-32\lib\site-packages\django\template\base.py"" in render_annotated
  961.             return self.render(context)

File ""C:\Users\Nibit\AppData\Local\Programs\Python\Python36-32\lib\site-packages\django\template\loader_tags.py"" in render
  174.         return compiled_parent._render(context)

File ""C:\Users\Nibit\AppData\Local\Programs\Python\Python36-32\lib\site-packages\django\test\utils.py"" in instrumented_test_render
  94.     return self.nodelist.render(context)

File ""C:\Users\Nibit\AppData\Local\Programs\Python\Python36-32\lib\site-packages\django\template\base.py"" in render
  994.                 bit = node.render_annotated(context)

File ""C:\Users\Nibit\AppData\Local\Programs\Python\Python36-32\lib\site-packages\django\template\base.py"" in render_annotated
  961.             return self.render(context)

File ""C:\Users\Nibit\AppData\Local\Programs\Python\Python36-32\lib\site-packages\django\template\loader_tags.py"" in render
  174.         return compiled_parent._render(context)

File ""C:\Users\Nibit\AppData\Local\Programs\Python\Python36-32\lib\site-packages\django\test\utils.py"" in instrumented_test_render
  94.     return self.nodelist.render(context)

File ""C:\Users\Nibit\AppData\Local\Programs\Python\Python36-32\lib\site-packages\django\template\base.py"" in render
  994.                 bit = node.render_annotated(context)

File ""C:\Users\Nibit\AppData\Local\Programs\Python\Python36-32\lib\site-packages\django\template\base.py"" in render_annotated
  961.             return self.render(context)

File ""C:\Users\Nibit\AppData\Local\Programs\Python\Python36-32\lib\site-packages\django\template\loader_tags.py"" in render
  70.                 result = block.nodelist.render(context)

File ""C:\Users\Nibit\AppData\Local\Programs\Python\Python36-32\lib\site-packages\django\template\base.py"" in render
  994.                 bit = node.render_annotated(context)

File ""C:\Users\Nibit\AppData\Local\Programs\Python\Python36-32\lib\site-packages\django\template\base.py"" in render_annotated
  961.             return self.render(context)

File ""C:\Users\Nibit\AppData\Local\Programs\Python\Python36-32\lib\site-packages\django\template\defaulttags.py"" in render
  315.                 return nodelist.render(context)

File ""C:\Users\Nibit\AppData\Local\Programs\Python\Python36-32\lib\site-packages\django\template\base.py"" in render
  994.                 bit = node.render_annotated(context)

File ""C:\Users\Nibit\AppData\Local\Programs\Python\Python36-32\lib\site-packages\django\template\base.py"" in render_annotated
  961.             return self.render(context)

File ""C:\Users\Nibit\AppData\Local\Programs\Python\Python36-32\lib\site-packages\django\template\defaulttags.py"" in render
  439.             url = reverse(view_name, args=args, kwargs=kwargs, current_app=current_app)

File ""C:\Users\Nibit\AppData\Local\Programs\Python\Python36-32\lib\site-packages\django\urls\base.py"" in reverse
  91.     return force_text(iri_to_uri(resolver._reverse_with_prefix(view, prefix, *args, **kwargs)))

File ""C:\Users\Nibit\AppData\Local\Programs\Python\Python36-32\lib\site-packages\django\urls\resolvers.py"" in _reverse_with_prefix
  392.             (lookup_view_s, args, kwargs, len(patterns), patterns)

Exception Type: NoReverseMatch at /rest-auth/registration/account-confirm-email/OQ:1cltRJ:Suk-ByPIoc5fpzcVjTBcgm2dh88/
Exception Value: Reverse for 'account_email' with arguments '()' and keyword arguments '{}' not found. 0 pattern(s) tried: []

Can anyone help me please. "
16100,Tivix,django-rest-auth,3,closed,304,1,https://api.github.com/repos/Tivix/django-rest-auth/issues/304/comments,https://github.com/Tivix/django-rest-auth/issues/304,[],Error to register through REST API,"I have error when making registration through POST request to `/api/v1/auth/registration/` which says `NoReverseMatch at /api/v1/auth/registration/. 'users' is not a registered namespace`.

In my **urls.py**:
```
url(r'^api/v1/auth/', include('rest_auth.urls')),
url(r'^api/v1/auth/registration/', include('rest_auth.registration.urls')),
```

In my settings:
```
# APP CONFIGURATION
# ------------------------------------------------------------------------------
DJANGO_APPS = (
    # Default Django apps:
    'django.contrib.auth',
    'django.contrib.contenttypes',
    'django.contrib.sessions',
    'django.contrib.sites',
    'django.contrib.messages',
    'django.contrib.staticfiles',

    # Useful template tags:
    # 'django.contrib.humanize',

    # Admin
    'django.contrib.admin',
)
THIRD_PARTY_APPS = (
    'crispy_forms',  # Form layouts
    'allauth',  # registration
    'allauth.account',  # registration
    'allauth.socialaccount',  # registration
    'allauth.socialaccount.providers.facebook',
    'allauth.socialaccount.providers.linkedin_oauth2',
    'rest_framework',
    'rest_framework.authtoken',
    'rest_auth',
    'rest_auth.registration',
)

# Apps specific for this project go here.
LOCAL_APPS = (
    # custom users app
    'myapp.users.apps.UsersConfig',
    # Your stuff: custom apps go here
)

# See: https://docs.djangoproject.com/en/dev/ref/settings/#installed-apps
INSTALLED_APPS = DJANGO_APPS + THIRD_PARTY_APPS + LOCAL_APPS
```

"
16155,Tivix,django-rest-auth,3,closed,232,3,https://api.github.com/repos/Tivix/django-rest-auth/issues/232/comments,https://github.com/Tivix/django-rest-auth/issues/232,[],account_email_confim No Reverse Match,"Hi, I know this has been rehashed but this seems to persist and I cannot remove the error no matter how I reconfigure the urls:

my urls.py

``` python
from allauth.account.views import confirm_email
urlpatterns = patterns('',
url(r'^api/v1/rest-auth/registration/account-confirm-email/(?P<key>[-/\w]+)/$', confirm_email, name='account_confirm_email'),
url(r'^api/v1/rest-auth/', include('rest_auth.urls')),
url(r'^api/v1/rest-auth/registration/', include('rest_auth.registration.urls')),
url(r'^api/v1/rest-auth/facebook/$', 'common.api.fb_login', name='fb_login'),
# url(r'^account/', include('allauth.urls')),
...
)
```

account_confirm_email is the first pattern I have no namespaces defined.
Also I've imported allauths view to override the empty/dummy TemplateView defined by django-rest-auth.
Still when I run a curl call on register endpoint api/v1/rest-auth/registration/ I have No reverse match error thrown.
This is what comes out of shell:

``` python
Traceback (most recent call last):
  File ""<console>"", line 1, in <module>
  File ""/home/borko/.virtualenvs/cco_apiauth/local/lib/python2.7/site-packages/django/core/urlresolvers.py"", line 578, in reverse
    return force_text(iri_to_uri(resolver._reverse_with_prefix(view, prefix, *args, **kwargs)))
  File ""/home/borko/.virtualenvs/cco_apiauth/local/lib/python2.7/site-packages/django/core/urlresolvers.py"", line 495, in _reverse_with_prefix
    (lookup_view_s, args, kwargs, len(patterns), patterns))
NoReverseMatch: Reverse for 'account_confirm_email' with arguments '('Mzk:1bSNFh:JqL2-mnq0toOx6efgmLSjxh3A5M',)' and keyword arguments '{}' not found. 2 pattern(s) tried: ['api/v1/rest-auth/registration/account-confirm-email/(?P<key>\\w+)/$', 'api/v1/rest-auth/registration/account-confirm-email/(?P<key>[-/\\w]+)/$']
```

This recognizes two patterns since after hitting my override it hits the TemplateView still defined in django-rest-auth.

lib versions:
Django==1.8.14
djangorestframework==3.4.0
django-rest-auth==0.8.0
djangorestframework-jwt==1.8.0

Any advice on how to proceed here would be great.
"
16174,Tivix,django-rest-auth,3,closed,205,3,https://api.github.com/repos/Tivix/django-rest-auth/issues/205/comments,https://github.com/Tivix/django-rest-auth/issues/205,[],/rest-auth/password/reset/ gave 500 Error,"Here is my request:

```
http://localhost:8000/rest-auth/password/reset/

request body:
{""email"": ""test@gmail.com""}
```

error:

```
django.core.urlresolvers.NoReverseMatch: Reverse for 'password_reset_confirm' with arguments '()' and keyword arguments '{'token': '4b9-73e30e0cb92a36a7e52b', 'uidb64': b'Mg'}' not found. 0 pattern(s) tried: []
```
"
16206,Tivix,django-rest-auth,4,closed,170,4,https://api.github.com/repos/Tivix/django-rest-auth/issues/170/comments,https://github.com/Tivix/django-rest-auth/issues/170,[],NoReverseMatch: Reverse for 'account_confirm_email' with arguments,"I have created an app named 'api' within a project and the api/urls.py looks like:

```
...
url(r'^accounts/', include('allauth.urls')),
url(r'^rest-auth/registration/account-confirm-email/(?P<key>\w+)/$',confirm_email, name='account_confirm_email'),
url(r'^rest-auth/', include('rest_auth.urls')),
url(r'^rest-auth/registration/', include('rest_auth.registration.urls')),
...
```

but when trying to register I get the following stacktrace:

```
[2016-02-15 23:45:35,093] ERROR [base:handle_uncaught_exception:256 8977] Internal Server Error: /api/rest-auth/registration/
Traceback (most recent call last):                                              
  File ""/home/.../webapps/project_test/lib/python2.7/Django-1.8.7-py2.7.egg/django/core/handlers/base.py"", line 132, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)     
  File ""/home/.../webapps/project_test/lib/python2.7/Django-1.8.7-py2.7.egg/django/views/decorators/csrf.py"", line 58, in wrapped_view
    return view_func(*args, **kwargs)                                           
  File ""/home/.../webapps/project_test/lib/python2.7/Django-1.8.7-py2.7.egg/django/views/generic/base.py"", line 71, in view
    return self.dispatch(request, *args, **kwargs)                              
  File ""/home/.../webapps/project_test/.ve/lib/python2.7/site-packages/rest_framework/views.py"", line 452, in dispatch
    response = self.handle_exception(exc)                                       
  File ""/home/.../webapps/project_test/.ve/lib/python2.7/site-packages/rest_framework/views.py"", line 449, in dispatch
    response = handler(request, *args, **kwargs)                                
  File ""/home/.../webapps/project_test/.ve/lib/python2.7/site-packages/rest_auth/registration/views.py"", line 44, in post
    self.form_valid(self.form)                                                  
  File ""/home/.../webapps/project_test/.ve/lib/python2.7/site-packages/rest_auth/registration/views.py"", line 36, in form_valid
    self.get_success_url())                                                     
  File ""/home/.../webapps/project_test/.ve/lib/python2.7/site-packages/allauth/account/utils.py"", line 157, in complete_signup
    signal_kwargs=signal_kwargs)                                                
  File ""/home/.../webapps/project_test/.ve/lib/python2.7/site-packages/allauth/account/utils.py"", line 114, in perform_login
    send_email_confirmation(request, user, signup=signup)                       
  File ""/home/.../webapps/project_test/.ve/lib/python2.7/site-packages/allauth/account/utils.py"", line 286, in send_email_confirmation
    signup=signup)                                                              
  File ""/home/.../webapps/project_test/.ve/lib/python2.7/site-packages/allauth/account/models.py"", line 60, in send_confirmation
    confirmation.send(request, signup=signup)                                   
  File ""/home/.../webapps/project_test/.ve/lib/python2.7/site-packages/allauth/account/models.py"", line 121, in send
    activate_url = reverse(""account_confirm_email"", args=[self.key])            
  File ""/home/.../webapps/project_test/lib/python2.7/Django-1.8.7-py2.7.egg/django/core/urlresolvers.py"", line 578, in reverse
    return force_text(iri_to_uri(resolver._reverse_with_prefix(view, prefix, *args, **kwargs)))
  File ""/home/.../webapps/project_test/lib/python2.7/Django-1.8.7-py2.7.egg/django/core/urlresolvers.py"", line 495, in _reverse_with_prefix
    (lookup_view_s, args, kwargs, len(patterns), patterns))                     
NoReverseMatch: Reverse for 'account_confirm_email' with arguments '(u'vgro7mdagterfbnqxlkihpnzs2bsp1iktwxng9vecznpeg8hcdv1eidco11tee3u',)' and keyword arguments '{}' not found. 0 pattern(s) tried: []
```

Using a shell I see:

```
python manage.py shell
Inside api.apps.ApiConfig.ready
Python 2.7.5 (default, Nov 20 2015, 02:00:19) 
[GCC 4.8.5 20150623 (Red Hat 4.8.5-4)] on linux2
Type ""help"", ""copyright"", ""credits"" or ""license"" for more information.
(InteractiveConsole)
>>> from django.core.urlresolvers import reverse
>>> 
>>> reverse('account_confirm_email', args=['l8ig7wqo1l4ypd7uosuoxlgnv2qxf5voe5ehwcd7s46hbprzyx9qwjgeontw5un6'])
Traceback (most recent call last):
  File ""<console>"", line 1, in <module>
  File ""/home/divkis01/webapps/instaguide_test/lib/python2.7/Django-1.8.7-py2.7.egg/django/core/urlresolvers.py"", line 578, in reverse
    return force_text(iri_to_uri(resolver._reverse_with_prefix(view, prefix, *args, **kwargs)))
  File ""/home/divkis01/webapps/instaguide_test/lib/python2.7/Django-1.8.7-py2.7.egg/django/core/urlresolvers.py"", line 495, in _reverse_with_prefix
    (lookup_view_s, args, kwargs, len(patterns), patterns))
NoReverseMatch: Reverse for 'account_confirm_email' with arguments '('l8ig7wqo1l4ypd7uosuoxlgnv2qxf5voe5ehwcd7s46hbprzyx9qwjgeontw5un6',)' and keyword arguments '{}' not found. 0 pattern(s) tried: []
>>> 

```

while if I use api:account_confirm_email, it does return correct url.

```
>>> reverse('api:account_confirm_email', args=['l8ig7wqo1l4ypd7uosuoxlgnv2qxf5voe5ehwcd7s46hbprzyx9qwjgeontw5un6'])
u'/api/rest-auth/registration/account-confirm-email/l8ig7wqo1l4ypd7uosuoxlgnv2qxf5voe5ehwcd7s46hbprzyx9qwjgeontw5un6/'
```

Given the exception is from within the allauth and I guess modifying the allauth is not the right solution here, what am I missing here or if it is an issue in rest-auth itself?
"
16238,Tivix,django-rest-auth,4,closed,135,5,https://api.github.com/repos/Tivix/django-rest-auth/issues/135/comments,https://github.com/Tivix/django-rest-auth/issues/135,[],500 Internal Server Error for /rest-auth/password/reset/,"When I tried to use the /rest-auth/password/reset/ endpoint to reset password, I got this error. It was fine for v0.5, but not v0.6. Thanks.

Trackback:

```
Internal Server Error: /rest-auth/password/reset/
Traceback (most recent call last):
  File ""/Users/ZachLiu/.virtualenvs/property_365/lib/python3.4/site-packages/django/template/defaulttags.py"", line 501, in render
    current_app=current_app)
  File ""/Users/ZachLiu/.virtualenvs/property_365/lib/python3.4/site-packages/django/core/urlresolvers.py"", line 578, in reverse
    return force_text(iri_to_uri(resolver._reverse_with_prefix(view, prefix, *args, **kwargs)))
  File ""/Users/ZachLiu/.virtualenvs/property_365/lib/python3.4/site-packages/django/core/urlresolvers.py"", line 495, in _reverse_with_prefix
    (lookup_view_s, args, kwargs, len(patterns), patterns))
django.core.urlresolvers.NoReverseMatch: Reverse for 'project.password_reset_confirm' with arguments '()' and keyword arguments '{'uidb64': b'Mg', 'token': '47i-9050dc8d943a476f73b9'}' not found. 0 pattern(s) tried: []

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File ""/Users/ZachLiu/.virtualenvs/property_365/lib/python3.4/site-packages/django/core/handlers/base.py"", line 132, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File ""/Users/ZachLiu/.virtualenvs/property_365/lib/python3.4/site-packages/django/views/decorators/csrf.py"", line 58, in wrapped_view
    return view_func(*args, **kwargs)
  File ""/Users/ZachLiu/.virtualenvs/property_365/lib/python3.4/site-packages/django/views/generic/base.py"", line 71, in view
    return self.dispatch(request, *args, **kwargs)
  File ""/Users/ZachLiu/.virtualenvs/property_365/lib/python3.4/site-packages/rest_framework/views.py"", line 466, in dispatch
    response = self.handle_exception(exc)
  File ""/Users/ZachLiu/.virtualenvs/property_365/lib/python3.4/site-packages/rest_framework/views.py"", line 463, in dispatch
    response = handler(request, *args, **kwargs)
  File ""/Users/ZachLiu/.virtualenvs/property_365/lib/python3.4/site-packages/rest_auth/views.py"", line 112, in post
    serializer.save()
  File ""/Users/ZachLiu/.virtualenvs/property_365/lib/python3.4/site-packages/rest_auth/serializers.py"", line 131, in save
    self.reset_form.save(**opts)
  File ""/Users/ZachLiu/.virtualenvs/property_365/lib/python3.4/site-packages/django/contrib/auth/forms.py"", line 256, in save
    html_email_template_name=html_email_template_name)
  File ""/Users/ZachLiu/.virtualenvs/property_365/lib/python3.4/site-packages/django/contrib/auth/forms.py"", line 206, in send_mail
    body = loader.render_to_string(email_template_name, context)
  File ""/Users/ZachLiu/.virtualenvs/property_365/lib/python3.4/site-packages/django/template/loader.py"", line 99, in render_to_string
    return template.render(context, request)
  File ""/Users/ZachLiu/.virtualenvs/property_365/lib/python3.4/site-packages/django/template/backends/django.py"", line 74, in render
    return self.template.render(context)
  File ""/Users/ZachLiu/.virtualenvs/property_365/lib/python3.4/site-packages/django/template/base.py"", line 209, in render
    return self._render(context)
  File ""/Users/ZachLiu/.virtualenvs/property_365/lib/python3.4/site-packages/django/test/utils.py"", line 96, in instrumented_test_render
    return self.nodelist.render(context)
  File ""/Users/ZachLiu/.virtualenvs/property_365/lib/python3.4/site-packages/django/template/base.py"", line 903, in render
    bit = self.render_node(node, context)
  File ""/Users/ZachLiu/.virtualenvs/property_365/lib/python3.4/site-packages/django/template/debug.py"", line 79, in render_node
    return node.render(context)
  File ""/Users/ZachLiu/.virtualenvs/property_365/lib/python3.4/site-packages/django/template/defaulttags.py"", line 40, in render
    output = self.nodelist.render(context)
  File ""/Users/ZachLiu/.virtualenvs/property_365/lib/python3.4/site-packages/django/template/base.py"", line 903, in render
    bit = self.render_node(node, context)
  File ""/Users/ZachLiu/.virtualenvs/property_365/lib/python3.4/site-packages/django/template/debug.py"", line 79, in render_node
    return node.render(context)
  File ""/Users/ZachLiu/.virtualenvs/property_365/lib/python3.4/site-packages/django/template/loader_tags.py"", line 56, in render
    result = self.nodelist.render(context)
  File ""/Users/ZachLiu/.virtualenvs/property_365/lib/python3.4/site-packages/django/template/base.py"", line 903, in render
    bit = self.render_node(node, context)
  File ""/Users/ZachLiu/.virtualenvs/property_365/lib/python3.4/site-packages/django/template/debug.py"", line 79, in render_node
    return node.render(context)
  File ""/Users/ZachLiu/.virtualenvs/property_365/lib/python3.4/site-packages/django/template/defaulttags.py"", line 507, in render
    six.reraise(*exc_info)
  File ""/Users/ZachLiu/.virtualenvs/property_365/lib/python3.4/site-packages/django/utils/six.py"", line 659, in reraise
    raise value
  File ""/Users/ZachLiu/.virtualenvs/property_365/lib/python3.4/site-packages/django/template/defaulttags.py"", line 493, in render
    url = reverse(view_name, args=args, kwargs=kwargs, current_app=current_app)
  File ""/Users/ZachLiu/.virtualenvs/property_365/lib/python3.4/site-packages/django/core/urlresolvers.py"", line 578, in reverse
    return force_text(iri_to_uri(resolver._reverse_with_prefix(view, prefix, *args, **kwargs)))
  File ""/Users/ZachLiu/.virtualenvs/property_365/lib/python3.4/site-packages/django/core/urlresolvers.py"", line 495, in _reverse_with_prefix
    (lookup_view_s, args, kwargs, len(patterns), patterns))
django.core.urlresolvers.NoReverseMatch: Reverse for 'password_reset_confirm' with arguments '()' and keyword arguments '{'uidb64': b'Mg', 'token': '47i-9050dc8d943a476f73b9'}' not found. 0 pattern(s) tried: []
```
"
16331,Tivix,django-rest-auth,5,closed,38,3,https://api.github.com/repos/Tivix/django-rest-auth/issues/38/comments,https://github.com/Tivix/django-rest-auth/issues/38,[],Demo exceptions,"Hello! Just made a fresh install from master branch and came across several exceptions:

http://localhost:8000/email-verification/

```
NoReverseMatch at /email-verification/
Reverse for 'verify_email' with arguments '()' and keyword arguments '{}' not found. 0 pattern(s) tried: []
Request Method: GET
Request URL:    http://localhost:8000/email-verification/
Django Version: 1.7.1
Exception Type: NoReverseMatch
Exception Value:    
Reverse for 'verify_email' with arguments '()' and keyword arguments '{}' not found. 0 pattern(s) tried: []
```

Also during sign up process:

```
NoReverseMatch at /rest-auth/registration/
Reverse for 'account_email_verification_sent' with arguments '()' and keyword arguments '{}' not found. 0 pattern(s) tried: []
```
"
16346,Tivix,django-rest-auth,5,closed,23,13,https://api.github.com/repos/Tivix/django-rest-auth/issues/23/comments,https://github.com/Tivix/django-rest-auth/issues/23,[],Error with Social Authentication (Facebook): NoReverseMatch: Reverse for 'socialaccount_signup',"Hello,
I enabled Facebook login following documentation but I'm getting the same error described here:
https://github.com/pennersr/django-allauth/issues/558

What am I missing? Thanks in advance.
"
16445,vitorfs,bootcamp,2,closed,109,1,https://api.github.com/repos/vitorfs/bootcamp/issues/109/comments,https://github.com/vitorfs/bootcamp/issues/109,[],help ! i cant load the static files ...,"when i run the first page
i found the css files is not found

i get those errors 
thanks for helper !

---------------------------------------------------------------

[05/Sep/2017 09:49:46] ""GET / HTTP/1.1"" 200 2421
Traceback (most recent call last):
  File ""D:\Python36-32\lib\site-packages\django\core\handlers\exception.py"", line 41, in inner
    response = get_response(request)
  File ""D:\Python36-32\lib\site-packages\django\core\handlers\base.py"", line 249, in _legacy_get_response
    response = self._get_response(request)
  File ""D:\Python36-32\lib\site-packages\django\core\handlers\base.py"", line 172, in _get_response
    resolver_match = resolver.resolve(request.path_info)
  File ""D:\Python36-32\lib\site-packages\django\urls\resolvers.py"", line 392, in resolve
    raise Resolver404({'tried': tried, 'path': new_path})
django.urls.exceptions.Resolver404: {'tried': [[<RegexURLPattern home ^$>], [<RegexURLPattern login ^login>], [<RegexURLPattern logout ^logout>], [<RegexURL
Pattern signup ^signup/$>], [<RegexURLPattern settings ^settings/$>], [<RegexURLPattern picture ^settings/picture/$>], [<RegexURLPattern upload_picture ^set
tings/upload_picture/$>], [<RegexURLPattern save_uploaded_picture ^settings/save_uploaded_picture/$>], [<RegexURLPattern password ^settings/password/$>], [<
RegexURLPattern network ^network/$>], [<RegexURLResolver <module 'bootcamp.feeds.urls' from 'D:\\Python36-32\\works\\myvenv2\\bootcamp\\feeds\\urls.py'> (No
ne:None) ^feeds/>], [<RegexURLResolver <module 'bootcamp.questions.urls' from 'D:\\Python36-32\\works\\myvenv2\\bootcamp\\questions\\urls.py'> (None:None) ^
questions/>], [<RegexURLResolver <module 'bootcamp.articles.urls' from 'D:\\Python36-32\\works\\myvenv2\\bootcamp\\articles\\urls.py'> (None:None) ^articles
/>], [<RegexURLResolver <module 'bootcamp.messenger.urls' from 'D:\\Python36-32\\works\\myvenv2\\bootcamp\\messenger\\urls.py'> (None:None) ^messages/>], [<
RegexURLPattern notifications ^notifications/$>], [<RegexURLPattern last_notifications ^notifications/last/$>], [<RegexURLPattern check_notifications ^notif
ications/check/$>], [<RegexURLPattern search ^search/$>], [<RegexURLPattern profile ^(?P<username>[^/]+)/$>], [<RegexURLResolver <module 'django.conf.urls.i
18n' from 'D:\\Python36-32\\lib\\site-packages\\django\\conf\\urls\\i18n.py'> (None:i18n) ^i18n/>]], 'path': 'static/css/bootcamp.css'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File ""D:\Python36-32\lib\site-packages\django\core\handlers\exception.py"", line 109, in get_exception_response
    response = callback(request, **dict(param_dict, exception=exception))
  File ""D:\Python36-32\lib\site-packages\django\utils\decorators.py"", line 149, in _wrapped_view
    response = view_func(request, *args, **kwargs)
  File ""D:\Python36-32\lib\site-packages\django\views\defaults.py"", line 45, in page_not_found
    body = template.render(context, request)
  File ""D:\Python36-32\lib\site-packages\django\template\backends\django.py"", line 66, in render
    return self.template.render(context)
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 207, in render
    return self._render(context)
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 199, in _render
    return self.nodelist.render(context)
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 990, in render
    bit = node.render_annotated(context)
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 957, in render_annotated
    return self.render(context)
  File ""D:\Python36-32\lib\site-packages\django\template\loader_tags.py"", line 177, in render
    return compiled_parent._render(context)
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 199, in _render
    return self.nodelist.render(context)
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 990, in render
    bit = node.render_annotated(context)
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 957, in render_annotated
    return self.render(context)
  File ""D:\Python36-32\lib\site-packages\django\template\loader_tags.py"", line 72, in render
    result = block.nodelist.render(context)
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 990, in render
    bit = node.render_annotated(context)
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 957, in render_annotated
    return self.render(context)
  File ""D:\Python36-32\lib\site-packages\django\template\defaulttags.py"", line 458, in render
    url = reverse(view_name, args=args, kwargs=kwargs, current_app=current_app)
  File ""D:\Python36-32\lib\site-packages\django\urls\base.py"", line 91, in reverse
    return force_text(iri_to_uri(resolver._reverse_with_prefix(view, prefix, *args, **kwargs)))
  File ""D:\Python36-32\lib\site-packages\django\urls\resolvers.py"", line 497, in _reverse_with_prefix
    raise NoReverseMatch(msg)
django.urls.exceptions.NoReverseMatch: Reverse for 'profile' with arguments '('',)' not found. 1 pattern(s) tried: ['(?P<username>[^/]+)/$']

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
Traceback (most recent call last):
  File ""D:\Python36-32\lib\wsgiref\handlers.py"", line 137, in run
    self.result = application(self.environ, self.start_response)
  File ""D:\Python36-32\lib\site-packages\django\core\handlers\wsgi.py"", line 157, in __call__
    response = self.get_response(request)
  File ""D:\Python36-32\lib\site-packages\django\core\handlers\base.py"", line 124, in get_response
    response = self._middleware_chain(request)
  File ""D:\Python36-32\lib\site-packages\django\core\handlers\exception.py"", line 43, in inner
    response = response_for_exception(request, exc)
  File ""D:\Python36-32\lib\site-packages\django\core\handlers\exception.py"", line 53, in response_for_exception
    response = get_exception_response(request, get_resolver(get_urlconf()), 404, exc)
  File ""D:\Python36-32\lib\site-packages\django\core\handlers\exception.py"", line 119, in get_exception_response
    response = handle_uncaught_exception(request, resolver, sys.exc_info())
  File ""D:\Python36-32\lib\site-packages\django\core\handlers\exception.py"", line 143, in handle_uncaught_exception
    return callback(request, **param_dict)
  File ""D:\Python36-32\lib\site-packages\django\utils\decorators.py"", line 149, in _wrapped_view
    response = view_func(request, *args, **kwargs)
  File ""D:\Python36-32\lib\site-packages\django\views\defaults.py"", line 74, in server_error
    return http.HttpResponseServerError(template.render())
  File ""D:\Python36-32\lib\site-packages\django\template\backends\django.py"", line 66, in render
    return self.template.render(context)
  File ""D:\Python36-32\lib\site-packages\django\core\handlers\exception.py"", line 41, in inner
    response = get_response(request)
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 207, in render
    return self._render(context)
  File ""D:\Python36-32\lib\site-packages\django\core\handlers\base.py"", line 249, in _legacy_get_response
    response = self._get_response(request)
  File ""D:\Python36-32\lib\site-packages\django\core\handlers\base.py"", line 172, in _get_response
    resolver_match = resolver.resolve(request.path_info)
  File ""D:\Python36-32\lib\site-packages\django\urls\resolvers.py"", line 392, in resolve
    raise Resolver404({'tried': tried, 'path': new_path})
django.urls.exceptions.Resolver404: {'tried': [[<RegexURLPattern home ^$>], [<RegexURLPattern login ^login>], [<RegexURLPattern logout ^logout>], [<RegexURL
Pattern signup ^signup/$>], [<RegexURLPattern settings ^settings/$>], [<RegexURLPattern picture ^settings/picture/$>], [<RegexURLPattern upload_picture ^set
tings/upload_picture/$>], [<RegexURLPattern save_uploaded_picture ^settings/save_uploaded_picture/$>], [<RegexURLPattern password ^settings/password/$>], [<
RegexURLPattern network ^network/$>], [<RegexURLResolver <module 'bootcamp.feeds.urls' from 'D:\\Python36-32\\works\\myvenv2\\bootcamp\\feeds\\urls.py'> (No
ne:None) ^feeds/>], [<RegexURLResolver <module 'bootcamp.questions.urls' from 'D:\\Python36-32\\works\\myvenv2\\bootcamp\\questions\\urls.py'> (None:None) ^
questions/>], [<RegexURLResolver <module 'bootcamp.articles.urls' from 'D:\\Python36-32\\works\\myvenv2\\bootcamp\\articles\\urls.py'> (None:None) ^articles
/>], [<RegexURLResolver <module 'bootcamp.messenger.urls' from 'D:\\Python36-32\\works\\myvenv2\\bootcamp\\messenger\\urls.py'> (None:None) ^messages/>], [<
RegexURLPattern notifications ^notifications/$>], [<RegexURLPattern last_notifications ^notifications/last/$>], [<RegexURLPattern check_notifications ^notif
ications/check/$>], [<RegexURLPattern search ^search/$>], [<RegexURLPattern profile ^(?P<username>[^/]+)/$>], [<RegexURLResolver <module 'django.conf.urls.i
18n' from 'D:\\Python36-32\\lib\\site-packages\\django\\conf\\urls\\i18n.py'> (None:i18n) ^i18n/>]], 'path': 'static/js/bootcamp.js'}

During handling of the above exception, another exception occurred:

  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 199, in _render
    return self.nodelist.render(context)
Traceback (most recent call last):
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 990, in render
    bit = node.render_annotated(context)
  File ""D:\Python36-32\lib\site-packages\django\core\handlers\exception.py"", line 109, in get_exception_response
    response = callback(request, **dict(param_dict, exception=exception))
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 957, in render_annotated
    return self.render(context)
  File ""D:\Python36-32\lib\site-packages\django\utils\decorators.py"", line 149, in _wrapped_view
    response = view_func(request, *args, **kwargs)
  File ""D:\Python36-32\lib\site-packages\django\views\defaults.py"", line 45, in page_not_found
    body = template.render(context, request)
  File ""D:\Python36-32\lib\site-packages\django\template\loader_tags.py"", line 177, in render
    return compiled_parent._render(context)
  File ""D:\Python36-32\lib\site-packages\django\template\backends\django.py"", line 66, in render
    return self.template.render(context)
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 199, in _render
    return self.nodelist.render(context)
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 207, in render
    return self._render(context)
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 990, in render
    bit = node.render_annotated(context)
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 199, in _render
    return self.nodelist.render(context)
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 957, in render_annotated
    return self.render(context)
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 990, in render
    bit = node.render_annotated(context)
  File ""D:\Python36-32\lib\site-packages\django\template\loader_tags.py"", line 72, in render
    result = block.nodelist.render(context)
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 957, in render_annotated
    return self.render(context)
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 990, in render
    bit = node.render_annotated(context)
  File ""D:\Python36-32\lib\site-packages\django\template\loader_tags.py"", line 177, in render
    return compiled_parent._render(context)
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 957, in render_annotated
    return self.render(context)
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 199, in _render
    return self.nodelist.render(context)
  File ""D:\Python36-32\lib\site-packages\django\template\defaulttags.py"", line 458, in render
    url = reverse(view_name, args=args, kwargs=kwargs, current_app=current_app)
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 990, in render
    bit = node.render_annotated(context)
  File ""D:\Python36-32\lib\site-packages\django\urls\base.py"", line 91, in reverse
    return force_text(iri_to_uri(resolver._reverse_with_prefix(view, prefix, *args, **kwargs)))
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 957, in render_annotated
    return self.render(context)
  File ""D:\Python36-32\lib\site-packages\django\template\loader_tags.py"", line 72, in render
    result = block.nodelist.render(context)
  File ""D:\Python36-32\lib\site-packages\django\urls\resolvers.py"", line 497, in _reverse_with_prefix
    raise NoReverseMatch(msg)
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 990, in render
    bit = node.render_annotated(context)
django.urls.exceptions.NoReverseMatch: Reverse for 'profile' with arguments '('',)' not found. 1 pattern(s) tried: ['(?P<username>[^/]+)/$']
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 957, in render_annotated
    return self.render(context)
  File ""D:\Python36-32\lib\site-packages\django\template\defaulttags.py"", line 458, in render
    url = reverse(view_name, args=args, kwargs=kwargs, current_app=current_app)
Traceback (most recent call last):
  File ""D:\Python36-32\lib\site-packages\django\urls\base.py"", line 91, in reverse
    return force_text(iri_to_uri(resolver._reverse_with_prefix(view, prefix, *args, **kwargs)))
  File ""D:\Python36-32\lib\site-packages\django\urls\resolvers.py"", line 497, in _reverse_with_prefix
    raise NoReverseMatch(msg)
django.urls.exceptions.NoReverseMatch: Reverse for 'profile' with arguments '('',)' not found. 1 pattern(s) tried: ['(?P<username>[^/]+)/$']

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File ""D:\Python36-32\lib\site-packages\django\core\handlers\exception.py"", line 41, in inner
    response = get_response(request)
  File ""D:\Python36-32\lib\wsgiref\handlers.py"", line 137, in run
    self.result = application(self.environ, self.start_response)
  File ""D:\Python36-32\lib\site-packages\django\core\handlers\wsgi.py"", line 157, in __call__
    response = self.get_response(request)
  File ""D:\Python36-32\lib\site-packages\django\core\handlers\base.py"", line 124, in get_response
    response = self._middleware_chain(request)
  File ""D:\Python36-32\lib\site-packages\django\core\handlers\exception.py"", line 43, in inner
    response = response_for_exception(request, exc)
  File ""D:\Python36-32\lib\site-packages\django\core\handlers\exception.py"", line 53, in response_for_exception
    response = get_exception_response(request, get_resolver(get_urlconf()), 404, exc)
  File ""D:\Python36-32\lib\site-packages\django\core\handlers\exception.py"", line 119, in get_exception_response
    response = handle_uncaught_exception(request, resolver, sys.exc_info())
  File ""D:\Python36-32\lib\site-packages\django\core\handlers\exception.py"", line 143, in handle_uncaught_exception
    return callback(request, **param_dict)
  File ""D:\Python36-32\lib\site-packages\django\utils\decorators.py"", line 149, in _wrapped_view
    response = view_func(request, *args, **kwargs)
  File ""D:\Python36-32\lib\site-packages\django\views\defaults.py"", line 74, in server_error
    return http.HttpResponseServerError(template.render())
  File ""D:\Python36-32\lib\site-packages\django\template\backends\django.py"", line 66, in render
    return self.template.render(context)
  File ""D:\Python36-32\lib\site-packages\django\core\handlers\base.py"", line 249, in _legacy_get_response
    response = self._get_response(request)
  File ""D:\Python36-32\lib\site-packages\django\core\handlers\base.py"", line 172, in _get_response
    resolver_match = resolver.resolve(request.path_info)
  File ""D:\Python36-32\lib\site-packages\django\urls\resolvers.py"", line 392, in resolve
    raise Resolver404({'tried': tried, 'path': new_path})
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 207, in render
    return self._render(context)
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 199, in _render
    return self.nodelist.render(context)
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 990, in render
    bit = node.render_annotated(context)
django.urls.exceptions.Resolver404: {'tried': [[<RegexURLPattern home ^$>], [<RegexURLPattern login ^login>], [<RegexURLPattern logout ^logout>], [<RegexURL
Pattern signup ^signup/$>], [<RegexURLPattern settings ^settings/$>], [<RegexURLPattern picture ^settings/picture/$>], [<RegexURLPattern upload_picture ^set
tings/upload_picture/$>], [<RegexURLPattern save_uploaded_picture ^settings/save_uploaded_picture/$>], [<RegexURLPattern password ^settings/password/$>], [<
RegexURLPattern network ^network/$>], [<RegexURLResolver <module 'bootcamp.feeds.urls' from 'D:\\Python36-32\\works\\myvenv2\\bootcamp\\feeds\\urls.py'> (No
ne:None) ^feeds/>], [<RegexURLResolver <module 'bootcamp.questions.urls' from 'D:\\Python36-32\\works\\myvenv2\\bootcamp\\questions\\urls.py'> (None:None) ^
questions/>], [<RegexURLResolver <module 'bootcamp.articles.urls' from 'D:\\Python36-32\\works\\myvenv2\\bootcamp\\articles\\urls.py'> (None:None) ^articles
/>], [<RegexURLResolver <module 'bootcamp.messenger.urls' from 'D:\\Python36-32\\works\\myvenv2\\bootcamp\\messenger\\urls.py'> (None:None) ^messages/>], [<
RegexURLPattern notifications ^notifications/$>], [<RegexURLPattern last_notifications ^notifications/last/$>], [<RegexURLPattern check_notifications ^notif
ications/check/$>], [<RegexURLPattern search ^search/$>], [<RegexURLPattern profile ^(?P<username>[^/]+)/$>], [<RegexURLResolver <module 'django.conf.urls.i
18n' from 'D:\\Python36-32\\lib\\site-packages\\django\\conf\\urls\\i18n.py'> (None:i18n) ^i18n/>]], 'path': 'static/css/cover.css'}
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 957, in render_annotated
    return self.render(context)

During handling of the above exception, another exception occurred:

  File ""D:\Python36-32\lib\site-packages\django\template\loader_tags.py"", line 177, in render
    return compiled_parent._render(context)
Traceback (most recent call last):
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 199, in _render
    return self.nodelist.render(context)
  File ""D:\Python36-32\lib\site-packages\django\core\handlers\exception.py"", line 109, in get_exception_response
    response = callback(request, **dict(param_dict, exception=exception))
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 990, in render
    bit = node.render_annotated(context)
  File ""D:\Python36-32\lib\site-packages\django\utils\decorators.py"", line 149, in _wrapped_view
    response = view_func(request, *args, **kwargs)
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 957, in render_annotated
    return self.render(context)
  File ""D:\Python36-32\lib\site-packages\django\views\defaults.py"", line 45, in page_not_found
    body = template.render(context, request)
  File ""D:\Python36-32\lib\site-packages\django\template\loader_tags.py"", line 72, in render
    result = block.nodelist.render(context)
  File ""D:\Python36-32\lib\site-packages\django\template\backends\django.py"", line 66, in render
    return self.template.render(context)
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 990, in render
    bit = node.render_annotated(context)
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 207, in render
    return self._render(context)
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 957, in render_annotated
    return self.render(context)
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 199, in _render
    return self.nodelist.render(context)
  File ""D:\Python36-32\lib\site-packages\django\template\defaulttags.py"", line 458, in render
    url = reverse(view_name, args=args, kwargs=kwargs, current_app=current_app)
  File ""D:\Python36-32\lib\site-packages\django\urls\base.py"", line 91, in reverse
    return force_text(iri_to_uri(resolver._reverse_with_prefix(view, prefix, *args, **kwargs)))
  File ""D:\Python36-32\lib\site-packages\django\urls\resolvers.py"", line 497, in _reverse_with_prefix
    raise NoReverseMatch(msg)
django.urls.exceptions.NoReverseMatch: Reverse for 'profile' with arguments '('',)' not found. 1 pattern(s) tried: ['(?P<username>[^/]+)/$']
[05/Sep/2017 09:49:46] ""GET /static/css/bootcamp.css?v=1 HTTP/1.1"" 500 59
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 990, in render
    bit = node.render_annotated(context)
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 957, in render_annotated
    return self.render(context)
[05/Sep/2017 09:49:46] ""GET /static/js/bootcamp.js HTTP/1.1"" 500 59
  File ""D:\Python36-32\lib\site-packages\django\template\loader_tags.py"", line 177, in render
    return compiled_parent._render(context)
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 199, in _render
    return self.nodelist.render(context)
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 990, in render
    bit = node.render_annotated(context)
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 957, in render_annotated
    return self.render(context)
  File ""D:\Python36-32\lib\site-packages\django\template\loader_tags.py"", line 72, in render
    result = block.nodelist.render(context)
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 990, in render
    bit = node.render_annotated(context)
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 957, in render_annotated
    return self.render(context)
  File ""D:\Python36-32\lib\site-packages\django\template\defaulttags.py"", line 458, in render
    url = reverse(view_name, args=args, kwargs=kwargs, current_app=current_app)
  File ""D:\Python36-32\lib\site-packages\django\urls\base.py"", line 91, in reverse
    return force_text(iri_to_uri(resolver._reverse_with_prefix(view, prefix, *args, **kwargs)))
  File ""D:\Python36-32\lib\site-packages\django\urls\resolvers.py"", line 497, in _reverse_with_prefix
    raise NoReverseMatch(msg)
django.urls.exceptions.NoReverseMatch: Reverse for 'profile' with arguments '('',)' not found. 1 pattern(s) tried: ['(?P<username>[^/]+)/$']

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File ""D:\Python36-32\lib\wsgiref\handlers.py"", line 137, in run
    self.result = application(self.environ, self.start_response)
  File ""D:\Python36-32\lib\site-packages\django\core\handlers\wsgi.py"", line 157, in __call__
    response = self.get_response(request)
  File ""D:\Python36-32\lib\site-packages\django\core\handlers\base.py"", line 124, in get_response
    response = self._middleware_chain(request)
  File ""D:\Python36-32\lib\site-packages\django\core\handlers\exception.py"", line 43, in inner
    response = response_for_exception(request, exc)
  File ""D:\Python36-32\lib\site-packages\django\core\handlers\exception.py"", line 53, in response_for_exception
    response = get_exception_response(request, get_resolver(get_urlconf()), 404, exc)
  File ""D:\Python36-32\lib\site-packages\django\core\handlers\exception.py"", line 119, in get_exception_response
    response = handle_uncaught_exception(request, resolver, sys.exc_info())
Traceback (most recent call last):
  File ""D:\Python36-32\lib\site-packages\django\core\handlers\exception.py"", line 143, in handle_uncaught_exception
    return callback(request, **param_dict)
  File ""D:\Python36-32\lib\site-packages\django\core\handlers\exception.py"", line 41, in inner
    response = get_response(request)
  File ""D:\Python36-32\lib\site-packages\django\core\handlers\base.py"", line 249, in _legacy_get_response
    response = self._get_response(request)
  File ""D:\Python36-32\lib\site-packages\django\core\handlers\base.py"", line 172, in _get_response
    resolver_match = resolver.resolve(request.path_info)
  File ""D:\Python36-32\lib\site-packages\django\urls\resolvers.py"", line 392, in resolve
    raise Resolver404({'tried': tried, 'path': new_path})
  File ""D:\Python36-32\lib\site-packages\django\utils\decorators.py"", line 149, in _wrapped_view
    response = view_func(request, *args, **kwargs)
django.urls.exceptions.Resolver404: {'tried': [[<RegexURLPattern home ^$>], [<RegexURLPattern login ^login>], [<RegexURLPattern logout ^logout>], [<RegexURL
Pattern signup ^signup/$>], [<RegexURLPattern settings ^settings/$>], [<RegexURLPattern picture ^settings/picture/$>], [<RegexURLPattern upload_picture ^set
tings/upload_picture/$>], [<RegexURLPattern save_uploaded_picture ^settings/save_uploaded_picture/$>], [<RegexURLPattern password ^settings/password/$>], [<
RegexURLPattern network ^network/$>], [<RegexURLResolver <module 'bootcamp.feeds.urls' from 'D:\\Python36-32\\works\\myvenv2\\bootcamp\\feeds\\urls.py'> (No
ne:None) ^feeds/>], [<RegexURLResolver <module 'bootcamp.questions.urls' from 'D:\\Python36-32\\works\\myvenv2\\bootcamp\\questions\\urls.py'> (None:None) ^
questions/>], [<RegexURLResolver <module 'bootcamp.articles.urls' from 'D:\\Python36-32\\works\\myvenv2\\bootcamp\\articles\\urls.py'> (None:None) ^articles
/>], [<RegexURLResolver <module 'bootcamp.messenger.urls' from 'D:\\Python36-32\\works\\myvenv2\\bootcamp\\messenger\\urls.py'> (None:None) ^messages/>], [<
RegexURLPattern notifications ^notifications/$>], [<RegexURLPattern last_notifications ^notifications/last/$>], [<RegexURLPattern check_notifications ^notif
ications/check/$>], [<RegexURLPattern search ^search/$>], [<RegexURLPattern profile ^(?P<username>[^/]+)/$>], [<RegexURLResolver <module 'django.conf.urls.i
18n' from 'D:\\Python36-32\\lib\\site-packages\\django\\conf\\urls\\i18n.py'> (None:i18n) ^i18n/>]], 'path': 'static/js/ga.js'}
  File ""D:\Python36-32\lib\site-packages\django\views\defaults.py"", line 74, in server_error
    return http.HttpResponseServerError(template.render())

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File ""D:\Python36-32\lib\site-packages\django\template\backends\django.py"", line 66, in render
    return self.template.render(context)
  File ""D:\Python36-32\lib\site-packages\django\core\handlers\exception.py"", line 109, in get_exception_response
    response = callback(request, **dict(param_dict, exception=exception))
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 207, in render
    return self._render(context)
  File ""D:\Python36-32\lib\site-packages\django\utils\decorators.py"", line 149, in _wrapped_view
    response = view_func(request, *args, **kwargs)
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 199, in _render
    return self.nodelist.render(context)
  File ""D:\Python36-32\lib\site-packages\django\views\defaults.py"", line 45, in page_not_found
    body = template.render(context, request)
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 990, in render
    bit = node.render_annotated(context)
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 957, in render_annotated
    return self.render(context)
  File ""D:\Python36-32\lib\site-packages\django\template\backends\django.py"", line 66, in render
    return self.template.render(context)
  File ""D:\Python36-32\lib\site-packages\django\template\loader_tags.py"", line 177, in render
    return compiled_parent._render(context)
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 207, in render
    return self._render(context)
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 199, in _render
    return self.nodelist.render(context)
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 199, in _render
    return self.nodelist.render(context)
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 990, in render
    bit = node.render_annotated(context)
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 990, in render
    bit = node.render_annotated(context)
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 957, in render_annotated
    return self.render(context)
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 957, in render_annotated
    return self.render(context)
  File ""D:\Python36-32\lib\site-packages\django\template\loader_tags.py"", line 72, in render
    result = block.nodelist.render(context)
  File ""D:\Python36-32\lib\site-packages\django\template\loader_tags.py"", line 177, in render
    return compiled_parent._render(context)
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 990, in render
    bit = node.render_annotated(context)
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 199, in _render
    return self.nodelist.render(context)
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 957, in render_annotated
    return self.render(context)
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 990, in render
    bit = node.render_annotated(context)
  File ""D:\Python36-32\lib\site-packages\django\template\defaulttags.py"", line 458, in render
    url = reverse(view_name, args=args, kwargs=kwargs, current_app=current_app)
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 957, in render_annotated
    return self.render(context)
  File ""D:\Python36-32\lib\site-packages\django\urls\base.py"", line 91, in reverse
    return force_text(iri_to_uri(resolver._reverse_with_prefix(view, prefix, *args, **kwargs)))
  File ""D:\Python36-32\lib\site-packages\django\template\loader_tags.py"", line 72, in render
    result = block.nodelist.render(context)
  File ""D:\Python36-32\lib\site-packages\django\urls\resolvers.py"", line 497, in _reverse_with_prefix
    raise NoReverseMatch(msg)
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 990, in render
    bit = node.render_annotated(context)
django.urls.exceptions.NoReverseMatch: Reverse for 'profile' with arguments '('',)' not found. 1 pattern(s) tried: ['(?P<username>[^/]+)/$']
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 957, in render_annotated
    return self.render(context)
  File ""D:\Python36-32\lib\site-packages\django\template\defaulttags.py"", line 458, in render
    url = reverse(view_name, args=args, kwargs=kwargs, current_app=current_app)
  File ""D:\Python36-32\lib\site-packages\django\urls\base.py"", line 91, in reverse
    return force_text(iri_to_uri(resolver._reverse_with_prefix(view, prefix, *args, **kwargs)))
  File ""D:\Python36-32\lib\site-packages\django\urls\resolvers.py"", line 497, in _reverse_with_prefix
    raise NoReverseMatch(msg)
django.urls.exceptions.NoReverseMatch: Reverse for 'profile' with arguments '('',)' not found. 1 pattern(s) tried: ['(?P<username>[^/]+)/$']

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
[05/Sep/2017 09:49:46] ""GET /static/css/cover.css HTTP/1.1"" 500 59
  File ""D:\Python36-32\lib\wsgiref\handlers.py"", line 137, in run
    self.result = application(self.environ, self.start_response)
  File ""D:\Python36-32\lib\site-packages\django\core\handlers\wsgi.py"", line 157, in __call__
    response = self.get_response(request)
  File ""D:\Python36-32\lib\site-packages\django\core\handlers\base.py"", line 124, in get_response
    response = self._middleware_chain(request)
  File ""D:\Python36-32\lib\site-packages\django\core\handlers\exception.py"", line 43, in inner
    response = response_for_exception(request, exc)
  File ""D:\Python36-32\lib\site-packages\django\core\handlers\exception.py"", line 53, in response_for_exception
    response = get_exception_response(request, get_resolver(get_urlconf()), 404, exc)
  File ""D:\Python36-32\lib\site-packages\django\core\handlers\exception.py"", line 119, in get_exception_response
    response = handle_uncaught_exception(request, resolver, sys.exc_info())
  File ""D:\Python36-32\lib\site-packages\django\core\handlers\exception.py"", line 143, in handle_uncaught_exception
    return callback(request, **param_dict)
  File ""D:\Python36-32\lib\site-packages\django\utils\decorators.py"", line 149, in _wrapped_view
    response = view_func(request, *args, **kwargs)
  File ""D:\Python36-32\lib\site-packages\django\views\defaults.py"", line 74, in server_error
    return http.HttpResponseServerError(template.render())
  File ""D:\Python36-32\lib\site-packages\django\template\backends\django.py"", line 66, in render
    return self.template.render(context)
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 207, in render
    return self._render(context)
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 199, in _render
    return self.nodelist.render(context)
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 990, in render
    bit = node.render_annotated(context)
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 957, in render_annotated
    return self.render(context)
  File ""D:\Python36-32\lib\site-packages\django\template\loader_tags.py"", line 177, in render
    return compiled_parent._render(context)
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 199, in _render
    return self.nodelist.render(context)
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 990, in render
    bit = node.render_annotated(context)
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 957, in render_annotated
    return self.render(context)
  File ""D:\Python36-32\lib\site-packages\django\template\loader_tags.py"", line 72, in render
    result = block.nodelist.render(context)
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 990, in render
    bit = node.render_annotated(context)
  File ""D:\Python36-32\lib\site-packages\django\template\base.py"", line 957, in render_annotated
    return self.render(context)
  File ""D:\Python36-32\lib\site-packages\django\template\defaulttags.py"", line 458, in render
    url = reverse(view_name, args=args, kwargs=kwargs, current_app=current_app)
  File ""D:\Python36-32\lib\site-packages\django\urls\base.py"", line 91, in reverse
    return force_text(iri_to_uri(resolver._reverse_with_prefix(view, prefix, *args, **kwargs)))
  File ""D:\Python36-32\lib\site-packages\django\urls\resolvers.py"", line 497, in _reverse_with_prefix
    raise NoReverseMatch(msg)
django.urls.exceptions.NoReverseMatch: Reverse for 'profile' with arguments '('',)' not found. 1 pattern(s) tried: ['(?P<username>[^/]+)/$']
[05/Sep/2017 09:49:46] ""GET /static/js/ga.js HTTP/1.1"" 500 59


"
5060,mirumee,saleor,25,closed,1572,4,https://api.github.com/repos/mirumee/saleor/issues/1572/comments,https://github.com/mirumee/saleor/issues/1572,[],InterfaceError at /admin/products/product/add/,"I get following error when saving product from admin. 

`
InterfaceError at /admin/products/product/add/
Error binding parameter 9 - probably unsupported type.
`

I am confused with the attribute field.

this is what I have provided in attribute field of Product 

`
{
    ""color"": ""Red, Blue, Green""
}
`

![Product Admin](https://i.imgur.com/BOOQ1Ix.png)



  "
7870,ansible,awx,14,closed,2480,1,https://api.github.com/repos/ansible/awx/issues/2480/comments,https://github.com/ansible/awx/issues/2480,[],2.0.1 Install on linux from rpm. sqlite3.InterfaceError: Error binding parameter 0 - probably unsupported type.,"##### ISSUE TYPE
 - Bug Report

##### COMPONENT NAME
 - Installer

##### SUMMARY


##### ENVIRONMENT
* AWX version: 2.0.1
* AWX install method: no-containers
* Ansible version:   2.7.0
* Operating System: CentOS Linux release 7.5.1804
* Web Browser:

##### STEPS TO REPRODUCE

 sudo -u awx /opt/awx/bin/awx-manage migrate

##### EXPECTED RESULTS

running migarations successfully

##### ACTUAL RESULTS

Operations to perform:
  Apply all migrations: auth, conf, contenttypes, djcelery, main, oauth2_provider, sessions, sites, social_django, sso, taggit
Running migrations:
  Applying main.0006_v320_release...Traceback (most recent call last):
  File ""/opt/awx/bin/awx-manage"", line 11, in <module>
    sys.exit(manage())
  File ""/usr/lib/python2.7/site-packages/awx-2.0.1-py2.7.egg/awx/__init__.py"", line 116, in manage
    execute_from_command_line(sys.argv)
  File ""/opt/awx/embedded/lib64/python2.7/site-packages/django/core/management/__init__.py"", line 364, in execute_from_command_line
    utility.execute()
  File ""/opt/awx/embedded/lib64/python2.7/site-packages/django/core/management/__init__.py"", line 356, in execute
    self.fetch_command(subcommand).run_from_argv(self.argv)
  File ""/opt/awx/embedded/lib64/python2.7/site-packages/django/core/management/base.py"", line 283, in run_from_argv
    self.execute(*args, **cmd_options)
  File ""/opt/awx/embedded/lib64/python2.7/site-packages/django/core/management/base.py"", line 330, in execute
    output = self.handle(*args, **options)
  File ""/opt/awx/embedded/lib64/python2.7/site-packages/django/core/management/commands/migrate.py"", line 204, in handle
    fake_initial=fake_initial,
  File ""/opt/awx/embedded/lib64/python2.7/site-packages/django/db/migrations/executor.py"", line 115, in migrate
    state = self._migrate_all_forwards(state, plan, full_plan, fake=fake, fake_initial=fake_initial)
  File ""/opt/awx/embedded/lib64/python2.7/site-packages/django/db/migrations/executor.py"", line 145, in _migrate_all_forwards
    state = self.apply_migration(state, migration, fake=fake, fake_initial=fake_initial)
  File ""/opt/awx/embedded/lib64/python2.7/site-packages/django/db/migrations/executor.py"", line 244, in apply_migration
    state = migration.apply(state, schema_editor)
  File ""/opt/awx/embedded/lib64/python2.7/site-packages/django/db/migrations/migration.py"", line 129, in apply
    operation.database_forwards(self.app_label, schema_editor, old_state, project_state)
  File ""/opt/awx/embedded/lib64/python2.7/site-packages/django/db/migrations/operations/special.py"", line 108, in database_forwards
    self._run_sql(schema_editor, self.sql)
  File ""/opt/awx/embedded/lib64/python2.7/site-packages/django/db/migrations/operations/special.py"", line 129, in _run_sql
    schema_editor.execute(sql, params=params)
  File ""/opt/awx/embedded/lib64/python2.7/site-packages/django/db/backends/base/schema.py"", line 120, in execute
    cursor.execute(sql, params)
  File ""/opt/awx/embedded/lib64/python2.7/site-packages/django/db/backends/utils.py"", line 83, in execute
    sql = self.db.ops.last_executed_query(self.cursor, sql, params)
  File ""/opt/awx/embedded/lib64/python2.7/site-packages/django/db/backends/sqlite3/operations.py"", line 135, in last_executed_query
    params = self._quote_params_for_last_executed_query(params)
  File ""/opt/awx/embedded/lib64/python2.7/site-packages/django/db/backends/sqlite3/operations.py"", line 124, in _quote_params_for_last_executed_query
    return cursor.execute(sql, params).fetchone()
sqlite3.InterfaceError: Error binding parameter 0 - probably unsupported type.


##### ADDITIONAL INFORMATION


"
8094,ansible,awx,17,closed,2204,1,https://api.github.com/repos/ansible/awx/issues/2204/comments,https://github.com/ansible/awx/issues/2204,"[{""default"": false, ""name"": ""component:installer"", ""url"": ""https://api.github.com/repos/ansible/awx/labels/component:installer"", ""color"": ""d4c5f9"", ""node_id"": ""MDU6TGFiZWw2ODc5Nzk5NjQ="", ""id"": 687979964}, {""default"": false, ""name"": ""state:needs_triage"", ""url"": ""https://api.github.com/repos/ansible/awx/labels/state:needs_triage"", ""color"": ""A0522D"", ""node_id"": ""MDU6TGFiZWw2ODcxNzI4NTg="", ""id"": 687172858}, {""default"": false, ""name"": ""type:bug"", ""url"": ""https://api.github.com/repos/ansible/awx/labels/type:bug"", ""color"": ""F79F81"", ""node_id"": ""MDU6TGFiZWw2MDcyODM3NDg="", ""id"": 607283748}]",1.0.7.3 clean install: sqlite3.InterfaceError: Error binding parameter 0 - probably unsupported type.,"##### ISSUE TYPE
 - Bug Report

##### COMPONENT NAME
<!-- Pick the area of AWX for this issue, you can have multiple, delete the rest: -->
 
 - Installer

##### SUMMARY
<!-- Briefly describe the problem. -->

##### ENVIRONMENT
* AWX version: 1.0.7
* AWX install docker on linux
* Ansible version:  2.6.2
* Operating System: linux
* Web Browser:

##### STEPS TO REPRODUCE

<!-- Please describe exactly how to reproduce the problem. -->
awx-manage migrate

##### EXPECTED RESULTS

<!-- What did you expect to happen when running the steps above? -->
running migarations successfully

##### ACTUAL RESULTS

<!-- What actually happened? -->

````
/opt/awx/bin/awx-manage migrate
Operations to perform:
  Apply all migrations: auth, conf, contenttypes, djcelery, main, oauth2_provider, sessions, sites, social_django, sso, taggit
Running migrations:
  Applying contenttypes.0001_initial... OK
  Applying taggit.0001_initial... OK
  Applying taggit.0002_auto_20150616_2121... OK
  Applying contenttypes.0002_remove_content_type_name... OK
  Applying auth.0001_initial... OK
  Applying main.0001_initial... OK
  Applying main.0002_squashed_v300_release... OK
  Applying main.0003_squashed_v300_v303_updates... OK
  Applying main.0004_squashed_v310_release... OK
  Applying conf.0001_initial... OK
  Applying conf.0002_v310_copy_tower_settings... OK
  Applying main.0005_squashed_v310_v313_updates... OK
  Applying main.0006_v320_release...Traceback (most recent call last):
  
  File ""/django/db/backends/sqlite3/operations.py"", line 124, in _quote_params_for_last_executed_query
    return cursor.execute(sql, params).fetchone()
sqlite3.InterfaceError: Error binding parameter 0 - probably unsupported type.
````

##### ADDITIONAL INFORMATION

<!-- Include any links to sosreport, database dumps, screenshots or other
information. -->
"
11936,django-oscar,django-oscar,21,closed,1053,4,https://api.github.com/repos/django-oscar/django-oscar/issues/1053/comments,https://github.com/django-oscar/django-oscar/pull/1053,[],Fix custom_range bugs,"Here is fix of three bugs with custom_range and Range class:
1. Function `oscar.apps.offer.custom.create_range()` don't check for equally custom ranges already added to DB, and IntegrityError will raises (reason is unique fields in Range model).
2. If object of custom range have name with ugettext_lazy then raise InterfaceError in sqlite3 (and some other errors in other DB). Reason is passed proxy object instead of string. `force_text()` added.
3. Fix for `num_products` which not delegated to a proxy class as documented.

Tests for 1 and 2 is attached.
"
8719,ansible,awx,23,closed,1470,0,https://api.github.com/repos/ansible/awx/issues/1470/comments,https://github.com/ansible/awx/pull/1470,[],Include stack trace for delete_inventory logs,"Current behavior is just a single-line message. Testing:

```
In [1]: from awx.main.tasks import delete_inventory

In [3]: delete_inventory.delay(38232, None)
Out[3]: <AsyncResult: 404c4d9d-0b9f-413b-aa7a-7385550990e8>
```

yields

```
awx_1        | 2018-03-08 12:33:18,638 ERROR    awx.main.tasks Delete Inventory failed due to missing inventory: 283934
awx_1        | Traceback (most recent call last):
awx_1        |   File ""/awx_devel/awx/main/tasks.py"", line 573, in delete_inventory
awx_1        |     i = Inventory.objects.get(id=inventory_id)
awx_1        |   File ""/venv/awx/lib/python2.7/site-packages/django/db/models/manager.py"", line 85, in manager_method
awx_1        |     return getattr(self.get_queryset(), name)(*args, **kwargs)
awx_1        |   File ""/venv/awx/lib/python2.7/site-packages/django/db/models/query.py"", line 380, in get
awx_1        |     self.model._meta.object_name
awx_1        | DoesNotExist: Inventory matching query does not exist.
```

From celery documentation, I had through that the retry method, itself, would throw an exception. Maybe it does, but it doesn't print the stack trace like I assumed.

This is because we've seen the DatabaseError case, and wanted to see if we could correlate the DB locks to other messages in the logs."
10485,django-oscar,django-oscar,6,closed,2554,12,https://api.github.com/repos/django-oscar/django-oscar/issues/2554/comments,https://github.com/django-oscar/django-oscar/issues/2554,[],Django oscar got failed migration via using mysql as backend,"I am trying to use django with mysql and while I was trying to migrate it throws an error ie.

""mysql.connector.errors.DatabaseError: 1553 (HY000): Cannot drop index 'catalogue_productimage_product_id_display_order_2df78171_uniq': needed in a foreign key constraint"""
11969,django-oscar,django-oscar,21,closed,1018,2,https://api.github.com/repos/django-oscar/django-oscar/issues/1018/comments,https://github.com/django-oscar/django-oscar/pull/1018,[],Fix for oscar_calculate_scores command,"The result of 

```
python manage.py oscar_calculate_scores
```

with my Postgresql Database is:

```
DatabaseError: syntax error at or near ""`""
LINE 1: UPDATE `analytics_productrecord`
```

Using double quotes("") instead of grave accents (`) should fix the error.
"
11999,django-oscar,django-oscar,21,closed,985,1,https://api.github.com/repos/django-oscar/django-oscar/issues/985/comments,https://github.com/django-oscar/django-oscar/issues/985,[],DB Table,"Hello,

I am new to Django Oscar, would like to ask couple questions. I used 1.4.9 django version and installed it and synced the db + migrate it + restarted the apache server.

I did it exactly by documentations and db was migrated successfully, not sure why it is missing...I installed django-oscar by pip

DatabaseError at /
no such table: promotions_pagepromotion

Screenshots:
https://www.dropbox.com/s/6knvbt2d08zdjpk/Screenshot%202013-11-13%2001.21.03.png

https://www.dropbox.com/s/bm6hvxeg9x7nl8y/Screenshot%202013-11-13%2001.21.39.png

Thanks
"
12005,django-oscar,django-oscar,21,closed,978,3,https://api.github.com/repos/django-oscar/django-oscar/issues/978/comments,https://github.com/django-oscar/django-oscar/issues/978,[],Data and schema migration in one migration in payment application causes DatabaseError,"Migrating data and schema in one migration: https://github.com/tangentlabs/django-oscar/blob/master/oscar/apps/payment/migrations/0002_auto__chg_field_source_reference__chg_field_source_label__chg_field_tr.py is a bad thing.

```
django.db.backends.postgresql_psycopg2.base in execute
DatabaseError: cannot ALTER TABLE ""payment_source"" because it has pending trigger events
```
"
12055,django-oscar,django-oscar,22,closed,928,2,https://api.github.com/repos/django-oscar/django-oscar/issues/928/comments,https://github.com/django-oscar/django-oscar/pull/928,[],migrations are not working with a custom user model,"There are still references to **auth.user** in some schema-migrations so migrations are not working with a custom user model.

**AUTH_USER_MODEL** and **AUTH_USER_MODEL_NAME** should be used everywhere or you could have some weird error like:

```
 > order:0001_initial
 > offer:0001_initial
 > voucher:0001_initial
 > basket:0001_initial
 > basket:0002_auto__add_field_line_price_incl_tax
 > basket:0003_auto__add_field_line_price_excl_tax
 > basket:0004_auto__add_field_line_stockrecord
 > basket:0005_auto__add_field_line_price_currency
DatabaseError: value too long for type character varying(50)
```

order, basket, partner and wishlist apps should be fixed.

I'll try to create a pull request for this.
"
12157,django-oscar,django-oscar,23,closed,823,5,https://api.github.com/repos/django-oscar/django-oscar/issues/823/comments,https://github.com/django-oscar/django-oscar/pull/823,[],Fix for failing south migration on new oscar projects,"This is a re-opening of previously closed pull request (because I did not provide error message originally). https://github.com/tangentlabs/django-oscar/pull/786 

To illustrate the problem I have created a basic oscar project: https://github.com/eukreign/oscardepends

The only app this project overloads is the 'order' app. Below are the commands to create the initial schemamigration for order and then an attempt to syncdb --migrate.

This pull request fixes the error below and several other situations where the schema migration fails. I have three other projects that overload a different combination of oscar apps that all exhibited this problem, with this fix they all work fine.

```
(oscardepends)lex@ubuntu:~/projects/oscardepends$ ./manage.py schemamigration order --initial
Creating migrations directory at '/home/lex/projects/oscardepends/oscardepends/apps/order/migrations'...
Creating __init__.py in '/home/lex/projects/oscardepends/oscardepends/apps/order/migrations'...
 + Added model order.PaymentEventQuantity
 + Added model order.ShippingEventQuantity
 + Added model order.Order
 + Added model order.OrderNote
 + Added model order.CommunicationEvent
 + Added model order.ShippingAddress
 + Added model order.BillingAddress
 + Added model order.Line
 + Added model order.LinePrice
 + Added model order.LineAttribute
 + Added model order.ShippingEvent
 + Added model order.ShippingEventType
 + Added model order.PaymentEvent
 + Added model order.PaymentEventType
 + Added model order.OrderDiscount
Created 0001_initial.py. You can now apply this migration with: ./manage.py migrate order
(oscardepends)lex@ubuntu:~/projects/oscardepends$ ./manage.py syncdb --migrate
Syncing...
Creating tables ...
Creating table auth_permission
Creating table auth_group_permissions
Creating table auth_group
Creating table auth_user_groups
Creating table auth_user_user_permissions
Creating table auth_user
Creating table django_content_type
Creating table django_session
Creating table django_site
Creating table south_migrationhistory
Creating table reviews_productreview
Creating table reviews_vote
Creating table thumbnail_kvstore

You just installed Django's auth system, which means you don't have any superusers defined.
Would you like to create one now? (yes/no): 
Please enter either ""yes"" or ""no"": no
Installing custom SQL ...
Installing indexes ...
Installed 0 object(s) from 0 fixture(s)
Migrating...
Running migrations for analytics:
 - Migrating forwards to 0001_initial.
 > customer:0001_initial
 > catalogue:0001_initial
 > analytics:0001_initial
 - Loading initial data for analytics.
Installed 0 object(s) from 0 fixture(s)
Running migrations for order:
 - Migrating forwards to 0001_initial.
 > order:0001_initial
FATAL ERROR - The following SQL query failed: ALTER TABLE ""order_shippingaddress"" ADD CONSTRAINT ""country_id_refs_iso_3166_1_a2_6ed25861"" FOREIGN KEY (""country_id"") REFERENCES ""address_country"" (""iso_3166_1_a2"") DEFERRABLE INITIALLY DEFERRED;
The error was: relation ""address_country"" does not exist

Error in migration: order:0001_initial
DatabaseError: relation ""address_country"" does not exist
```
"
12273,django-oscar,django-oscar,24,closed,704,1,https://api.github.com/repos/django-oscar/django-oscar/issues/704/comments,https://github.com/django-oscar/django-oscar/issues/704,[],Permission names can get to long for few Benefit models,"Models from ShippingAbsoluteDiscountBenefit to ShippingPercentageDiscountBenefit have quite long verbose_name and in some translations (like Polish) the translated names are even longer and generate permission names that are longer than the expected 50 chars - django.db.utils.DatabaseError: value too long for type character varying(50)

Looking at all permissions not all get translated. It's either lack of translation or something in the code. The best solution would be if no translatable string would be in the (permissions) database.... or at least the core English ones and do the translation on display.
"
12419,django-oscar,django-oscar,26,closed,551,1,https://api.github.com/repos/django-oscar/django-oscar/issues/551/comments,https://github.com/django-oscar/django-oscar/issues/551,[],apps partner error on first migration,"Hello,

I have an error when i migrate oscar for the first time on partner app.
I had the error for catalogue because of mysql restriction ( Fix #190 )

But this time however i found again some max length 1024 in partner files, which i change of course, i still have an error :

:1234: django.db.utils.DatabaseError: (1146, ""Table 'bzb_0_1.partner_stockrecord' doesn't exist"")

it seems that he try to create the table twice...

:1234:  Running migrations for partner:
- Migrating forwards to 0003_auto__add_unique_stockrecord_partner_partner_sku.
  > partner:0002_auto__add_stockalert__add_abstractstockalert__add_field_stockrecord_lo
  FATAL ERROR - The following SQL query failed: ALTER TABLE `partner_stockrecord` ADD COLUMN `low_stock_threshold` integer UNSIGNED   NULL;
  The error was: (1146, ""Table 'bzb_0_1.partner_stockrecord' doesn't exist"") 
"
12494,django-oscar,django-oscar,26,closed,475,0,https://api.github.com/repos/django-oscar/django-oscar/issues/475/comments,https://github.com/django-oscar/django-oscar/issues/475,[],Post-save signal conflict with syncdb,"Found an issue when using django-oscar-stores in that a signal receiver errors when creating a superuser via syncdb:

```
...
File ""/Users/dwinterbottom/.virtualenvs/meridian/lib/python2.7/site-packages/django/contrib/auth/management/commands/createsuperuser.py"", line 124, in handle
    User.objects.db_manager(database).create_superuser(username, email, password)
  File ""/Users/dwinterbottom/.virtualenvs/meridian/lib/python2.7/site-packages/django/contrib/auth/models.py"", line 164, in create_superuser
    u = self.create_user(username, email, password)
  File ""/Users/dwinterbottom/.virtualenvs/meridian/lib/python2.7/site-packages/django/contrib/auth/models.py"", line 160, in create_user
    user.save(using=self._db)
  File ""/Users/dwinterbottom/.virtualenvs/meridian/lib/python2.7/site-packages/django/db/models/base.py"", line 463, in save
    self.save_base(using=using, force_insert=force_insert, force_update=force_update)
  File ""/Users/dwinterbottom/.virtualenvs/meridian/lib/python2.7/site-packages/django/db/models/base.py"", line 565, in save_base
    created=(not record_exists), raw=raw, using=using)
  File ""/Users/dwinterbottom/.virtualenvs/meridian/lib/python2.7/site-packages/django/dispatch/dispatcher.py"", line 172, in send
    response = receiver(signal=self, sender=sender, **named)
  File ""/Users/dwinterbottom/.virtualenvs/meridian/src/django-oscar/oscar/apps/customer/alerts/receivers.py"", line 20, in migrate_alerts_to_user
    alerts.update(user=instance, key=None, email=None)
  File ""/Users/dwinterbottom/.virtualenvs/meridian/lib/python2.7/site-packages/django/db/models/query.py"", line 536, in update
    rows = query.get_compiler(self.db).execute_sql(None)
  File ""/Users/dwinterbottom/.virtualenvs/meridian/lib/python2.7/site-packages/django/db/models/sql/compiler.py"", line 988, in execute_sql
    cursor = super(SQLUpdateCompiler, self).execute_sql(result_type)
  File ""/Users/dwinterbottom/.virtualenvs/meridian/lib/python2.7/site-packages/django/db/models/sql/compiler.py"", line 818, in execute_sql
    cursor.execute(sql, params)
  File ""/Users/dwinterbottom/.virtualenvs/meridian/lib/python2.7/site-packages/django/db/backends/util.py"", line 40, in execute
    return self.cursor.execute(sql, params)
  File ""/Users/dwinterbottom/.virtualenvs/meridian/lib/python2.7/site-packages/django/db/backends/postgresql_psycopg2/base.py"", line 52, in execute
    return self.cursor.execute(query, args)
django.db.utils.DatabaseError: relation ""customer_productalert"" does not exist
LINE 1: UPDATE ""customer_productalert"" SET ""user_id"" = 1, ""key"" = NU...
```
"
12688,django-oscar,django-oscar,28,closed,278,0,https://api.github.com/repos/django-oscar/django-oscar/issues/278/comments,https://github.com/django-oscar/django-oscar/issues/278,"[{""default"": false, ""name"": ""\u2601 Bug"", ""url"": ""https://api.github.com/repos/django-oscar/django-oscar/labels/%E2%98%81%20Bug"", ""color"": ""F8C1C1"", ""node_id"": ""MDU6TGFiZWw5NzM0NA=="", ""id"": 97344}]",DatabaseError: integer out of range,"When adding products to the basket, there is not enough data cleanup before writing data into the database.

Try to add quantity of 999999999999999999999999999 (max to the allowed input field length) will generate 50x error with DatabaseError exception.

This should be cleaned out before in the form.cleanup chain.

Maybe to set a default value of `OSCAR_MAX_BASKET_QUANTITY_THRESHOLD` to some reasonable item?
So even if there will be no value set to the user, there is a default - reasonable - fallback.
"
12751,django-oscar,django-oscar,29,closed,215,2,https://api.github.com/repos/django-oscar/django-oscar/issues/215/comments,https://github.com/django-oscar/django-oscar/issues/215,[],Unfinished transaction when accessing django /admin after clean installation,"Installed by hand by this guide: http://django-oscar.readthedocs.org/en/latest/getting_started.html
database backend is postgresql 8.4 via psycopg2

Environment:

Request Method: GET
Request URL: http://oobchod.progredior.yac/admin/

Django Version: 1.4
Python Version: 2.6.6
Installed Applications:
['django.contrib.auth',
 'django.contrib.contenttypes',
 'django.contrib.sessions',
 'django.contrib.sites',
 'django.contrib.messages',
 'django.contrib.staticfiles',
 'django.contrib.admin',
 'south',
 'oscar',
 'oscar.apps.analytics',
 'oscar.apps.order',
 'oscar.apps.checkout',
 'oscar.apps.shipping',
 'oscar.apps.catalogue',
 'oscar.apps.catalogue.reviews',
 'oscar.apps.basket',
 'oscar.apps.payment',
 'oscar.apps.offer',
 'oscar.apps.address',
 'oscar.apps.partner',
 'oscar.apps.customer',
 'oscar.apps.promotions',
 'oscar.apps.search',
 'oscar.apps.voucher',
 'oscar.apps.dashboard',
 'oscar.apps.dashboard.reports',
 'oscar.apps.dashboard.users',
 'oscar.apps.dashboard.orders',
 'oscar.apps.dashboard.promotions',
 'oscar.apps.dashboard.catalogue',
 'oscar.apps.dashboard.offers',
 'oscar.apps.dashboard.ranges',
 'oscar.apps.dashboard.vouchers',
 'debug_toolbar']
Installed Middleware:
('django.middleware.common.CommonMiddleware',
 'django.contrib.sessions.middleware.SessionMiddleware',
 'django.middleware.csrf.CsrfViewMiddleware',
 'django.contrib.auth.middleware.AuthenticationMiddleware',
 'django.contrib.messages.middleware.MessageMiddleware',
 'oscar.apps.basket.middleware.BasketMiddleware',
 'debug_toolbar.middleware.DebugToolbarMiddleware')

Traceback:
File ""/home/yac/.local/share/virtualenvs/oscar/pk-eshop/lib/python2.6/site-packages/django/core/handlers/base.py"" in get_response
1.                 response = middleware_method(request, response)
   File ""/home/yac/.local/share/virtualenvs/oscar/pk-eshop/lib/python2.6/site-packages/debug_toolbar/panels/template.py"" in process_response
2.                     pformat(k(self.request))) for k in get_standard_processors()
   File ""/home/yac/.local/share/virtualenvs/oscar/pk-eshop/lib/python2.6/site-packages/oscar/apps/promotions/context_processors.py"" in promotions
3.     split_by_position(promotions, context)
   File ""/home/yac/.local/share/virtualenvs/oscar/pk-eshop/lib/python2.6/site-packages/oscar/apps/promotions/context_processors.py"" in split_by_position
4.     for linked_promotion in linked_promotions:
   File ""/home/yac/.local/share/virtualenvs/oscar/pk-eshop/lib/python2.6/site-packages/django/db/models/query.py"" in _result_iter
5.                 self._fill_cache()
   File ""/home/yac/.local/share/virtualenvs/oscar/pk-eshop/lib/python2.6/site-packages/django/db/models/query.py"" in _fill_cache
6.                     self._result_cache.append(self._iter.next())
   File ""/home/yac/.local/share/virtualenvs/oscar/pk-eshop/lib/python2.6/site-packages/django/db/models/query.py"" in iterator
7.         for row in compiler.results_iter():
   File ""/home/yac/.local/share/virtualenvs/oscar/pk-eshop/lib/python2.6/site-packages/django/db/models/sql/compiler.py"" in results_iter
8.         for rows in self.execute_sql(MULTI):
   File ""/home/yac/.local/share/virtualenvs/oscar/pk-eshop/lib/python2.6/site-packages/django/db/models/sql/compiler.py"" in execute_sql
9.         cursor.execute(sql, params)
   File ""/home/yac/.local/share/virtualenvs/oscar/pk-eshop/lib/python2.6/site-packages/django/db/backends/util.py"" in execute
10.             return self.cursor.execute(sql, params)
    File ""/home/yac/.local/share/virtualenvs/oscar/pk-eshop/lib/python2.6/site-packages/django/db/backends/postgresql_psycopg2/base.py"" in execute
11.             return self.cursor.execute(query, args)

Exception Type: DatabaseError at /admin/
Exception Value: current transaction is aborted, commands ignored until end of transaction block
"
13809,Fantomas42,django-blog-zinnia,4,closed,290,3,https://api.github.com/repos/Fantomas42/django-blog-zinnia/issues/290/comments,https://github.com/Fantomas42/django-blog-zinnia/issues/290,"[{""default"": false, ""name"": ""Database"", ""url"": ""https://api.github.com/repos/Fantomas42/django-blog-zinnia/labels/Database"", ""color"": ""a858ba"", ""node_id"": ""MDU6TGFiZWw0NTQzNg=="", ""id"": 45436}, {""default"": false, ""name"": ""ICC"", ""url"": ""https://api.github.com/repos/Fantomas42/django-blog-zinnia/labels/ICC"", ""color"": ""fffeb8"", ""node_id"": ""MDU6TGFiZWwzOTY1OQ=="", ""id"": 39659}]",value too long for type character varying(100),"When adding an article with an image that has exactly 100 character this exception is raised. For example an image with this name 7459_7_573507459_7_573507459_7_573507459_7_570556464545454545414-545454454-54545_mounir_test_img.jpg

value too long for type character varying(100)
Request Method: POST
Request URL:    http://127.0.0.1:8000/admin/zinnia/entry/add/
Django Version: 1.5.4
Exception Type: DatabaseError
Exception Value:  
value too long for type character varying(100)
"
13863,Fantomas42,django-blog-zinnia,4,closed,236,2,https://api.github.com/repos/Fantomas42/django-blog-zinnia/issues/236/comments,https://github.com/Fantomas42/django-blog-zinnia/issues/236,"[{""default"": false, ""name"": ""ICC"", ""url"": ""https://api.github.com/repos/Fantomas42/django-blog-zinnia/labels/ICC"", ""color"": ""fffeb8"", ""node_id"": ""MDU6TGFiZWwzOTY1OQ=="", ""id"": 39659}, {""default"": false, ""name"": ""Templates"", ""url"": ""https://api.github.com/repos/Fantomas42/django-blog-zinnia/labels/Templates"", ""color"": ""a8ff1c"", ""node_id"": ""MDU6TGFiZWw1MDExNw=="", ""id"": 50117}]",column zinnia_entry.template does not exist,"I upgraded from zinnia 0.12.dev (Oct. 16, 2012) to 0.13.dev (head today April 20).

I used the instructions here:

http://docs.django-blog-zinnia.com/en/latest/getting-started/upgrading.html

I upgraded to django-1.5

I believe I have all of my templates updated.

Everything went fine, but when I browse my blog I get this error:

```
Traceback (most recent call last):    
  File ""/usr/lib/python2.7/dist-packages/django/core/handlers/base.py"", line 136, in get_response
    # response middleware and the render the response
  File ""/usr/lib/python2.7/dist-packages/django/template/response.py"", line 104, in render
    if not self._is_rendered:
  File ""/usr/lib/python2.7/dist-packages/django/template/response.py"", line 81, in rendered_content
    context = self.resolve_context(self.context_data)
  File ""/usr/lib/python2.7/dist-packages/django/template/base.py"", line 140, in render
    return self._render(context)
  File ""/usr/lib/python2.7/dist-packages/django/template/base.py"", line 134, in _render
    return self.nodelist.render(context)
  File ""/usr/lib/python2.7/dist-packages/django/template/base.py"", line 823, in render
    # extend_nodelist().
  File ""/usr/lib/python2.7/dist-packages/django/template/base.py"", line 837, in render_node
    ""Return a list of all nodes of the given type""
  File ""/usr/lib/python2.7/dist-packages/django/template/loader_tags.py"", line 123, in render
    # the same.
  File ""/usr/lib/python2.7/dist-packages/django/template/base.py"", line 134, in _render
    return self.nodelist.render(context)
  File ""/usr/lib/python2.7/dist-packages/django/template/base.py"", line 823, in render
    # extend_nodelist().
  File ""/usr/lib/python2.7/dist-packages/django/template/base.py"", line 837, in render_node
    ""Return a list of all nodes of the given type""
  File ""/usr/lib/python2.7/dist-packages/django/template/loader_tags.py"", line 123, in render
    # the same.
  File ""/usr/lib/python2.7/dist-packages/django/template/base.py"", line 134, in _render
    return self.nodelist.render(context)
  File ""/usr/lib/python2.7/dist-packages/django/template/base.py"", line 823, in render
    # extend_nodelist().
  File ""/usr/lib/python2.7/dist-packages/django/template/base.py"", line 837, in render_node
    ""Return a list of all nodes of the given type""
  File ""/usr/lib/python2.7/dist-packages/django/template/loader_tags.py"", line 123, in render
    # the same.
  File ""/usr/lib/python2.7/dist-packages/django/template/base.py"", line 134, in _render
    return self.nodelist.render(context)
  File ""/usr/lib/python2.7/dist-packages/django/template/base.py"", line 823, in render
    # extend_nodelist().
  File ""/usr/lib/python2.7/dist-packages/django/template/base.py"", line 837, in render_node
    ""Return a list of all nodes of the given type""
  File ""/usr/lib/python2.7/dist-packages/django/template/loader_tags.py"", line 62, in render
    context['block'] = block
  File ""/usr/lib/python2.7/dist-packages/django/template/base.py"", line 823, in render
    # extend_nodelist().
  File ""/usr/lib/python2.7/dist-packages/django/template/base.py"", line 837, in render_node
    ""Return a list of all nodes of the given type""
  File ""/usr/lib/python2.7/dist-packages/django/template/base.py"", line 874, in render
    self.filter_expression = filter_expression
  File ""/usr/lib/python2.7/dist-packages/django/template/base.py"", line 571, in resolve
  File ""/usr/lib/python2.7/dist-packages/django/template/base.py"", line 721, in resolve
    var)
  File ""/usr/lib/python2.7/dist-packages/django/template/base.py"", line 772, in _resolve_lookup
    if callable(current):
  File ""/usr/lib/python2.7/dist-packages/django/template/loader_tags.py"", line 72, in super
    render_context[BLOCK_CONTEXT_KEY].get_block(self.name) is not None):
  File ""/usr/lib/python2.7/dist-packages/django/template/loader_tags.py"", line 62, in render
    context['block'] = block
  File ""/usr/lib/python2.7/dist-packages/django/template/base.py"", line 823, in render
    # extend_nodelist().
  File ""/usr/lib/python2.7/dist-packages/django/template/base.py"", line 837, in render_node
    ""Return a list of all nodes of the given type""
  File ""/usr/lib/python2.7/dist-packages/django/template/defaulttags.py"", line 280, in render
    else:                               # else clause
  File ""/usr/lib/python2.7/dist-packages/django/core/paginator.py"", line 88, in __len__
    return '<Page %s of %s>' % (self.number, self.paginator.num_pages)
  File ""/usr/lib/python2.7/dist-packages/django/db/models/query.py"", line 85, in __len__
    # whilst not messing up any existing iterators against the QuerySet.
  File ""/usr/lib/python2.7/dist-packages/django/db/models/query.py"", line 291, in iterator
    init_list.append(field.attname)
  File ""/usr/lib/python2.7/dist-packages/django/db/models/sql/compiler.py"", line 763, in results_iter
    def results_iter(self):
  File ""/usr/lib/python2.7/dist-packages/django/db/models/sql/compiler.py"", line 818, in execute_sql
    Run the query against the database and returns the result(s). The
  File ""/usr/lib/python2.7/dist-packages/django/db/backends/postgresql_psycopg2/base.py"", line 52, in execute
    def execute(self, query, args=None):

DatabaseError: column zinnia_entry.template does not exist
LINE 1: ...try"".""login_required"", ""zinnia_entry"".""password"", ""zinnia_en...
```

Output from South:

```
Syncing...
Creating tables ...
Installing custom SQL ...
Installing indexes ...
Installed 0 object(s) from 0 fixture(s)
Migrating...
Running migrations for zinnia:
 - Migrating forwards to 0017_index_together.
 > zinnia:0011_author_proxy
 > zinnia:0012_discussion_count
 > zinnia:0013_compute_discussion_count
 > zinnia:0014_trackback_enabled
 > zinnia:0015_rename_template
 > zinnia:0016_entry_content_template
 > zinnia:0017_index_together
 - Loading initial data for zinnia.
Installed 0 object(s) from 0 fixture(s)

Synced:
 > django.contrib.auth
 > django.contrib.contenttypes
 > django.contrib.sessions
 > django.contrib.sites
 > django.contrib.messages
 > django.contrib.staticfiles
 > django.contrib.admin
 > django.contrib.admindocs
 > django.contrib.comments
 > django.contrib.sitemaps
 > tagging
 > mptt
 > south

Migrated:
 - zinnia
```

The schema for zinnia_entry is:

```
Table ""public.zinnia_entry""
      Column       |           Type           |                                 Modifiers                                  
-------------------+--------------------------+----------------------------------------------------------------------------
 status            | integer                  | not null default 0
 last_update       | timestamp with time zone | not null default '2012-10-14 03:01:31.532296-06'::timestamp with time zone
 comment_enabled   | boolean                  | not null default true
 tags              | character varying(255)   | not null
 image             | character varying(100)   | not null
 title             | character varying(255)   | not null
 excerpt           | text                     | not null
 slug              | character varying(255)   | not null
 content           | text                     | not null
 end_publication   | timestamp with time zone | 
 start_publication | timestamp with time zone | 
 creation_date     | timestamp with time zone | not null default '2012-10-14 03:01:31.537093-06'::timestamp with time zone
 id                | integer                  | not null default nextval('zinnia_entry_id_seq'::regclass)
 pingback_enabled  | boolean                  | not null default true
 login_required    | boolean                  | not null
 password          | character varying(50)    | not null
 detail_template   | character varying(250)   | not null
 featured          | boolean                  | not null
 comment_count     | integer                  | not null
 pingback_count    | integer                  | not null
 trackback_count   | integer                  | not null
 trackback_enabled | boolean                  | not null
 content_template  | character varying(250)   | not null
Indexes:
    ""zinnia_entry_pkey"" PRIMARY KEY, btree (id)
    ""zinnia_entry_slug"" btree (slug)
    ""zinnia_entry_slug_2b17fcf59b18c4f4"" btree (slug, creation_date)
    ""zinnia_entry_slug_like"" btree (slug varchar_pattern_ops)
Referenced by:
    TABLE ""zinnia_entry_sites"" CONSTRAINT ""entry_id_refs_id_2ca8c253350895b0"" FOREIGN KEY (entry_id) REFERENCES zinnia_entry(id) DEFERRABLE INITIALLY DEFERRED
    TABLE ""zinnia_entry_categories"" CONSTRAINT ""entry_id_refs_id_2e8e58e6fb6ebd9"" FOREIGN KEY (entry_id) REFERENCES zinnia_entry(id) DEFERRABLE INITIALLY DEFERRED
    TABLE ""zinnia_entry_authors"" CONSTRAINT ""entry_id_refs_id_456b2b7ada51dea2"" FOREIGN KEY (entry_id) REFERENCES zinnia_entry(id) DEFERRABLE INITIALLY DEFERRED
    TABLE ""zinnia_entry_related"" CONSTRAINT ""from_entry_id_refs_id_233a09ab4d833995"" FOREIGN KEY (from_entry_id) REFERENCES zinnia_entry(id) DEFERRABLE INITIALLY DEFERRED
    TABLE ""zinnia_entry_related"" CONSTRAINT ""to_entry_id_refs_id_233a09ab4d833995"" FOREIGN KEY (to_entry_id) REFERENCES zinnia_entry(id) DEFERRABLE INITIALLY DEFERRED
```
"
13867,Fantomas42,django-blog-zinnia,5,closed,232,1,https://api.github.com/repos/Fantomas42/django-blog-zinnia/issues/232/comments,https://github.com/Fantomas42/django-blog-zinnia/issues/232,"[{""default"": false, ""name"": ""Database"", ""url"": ""https://api.github.com/repos/Fantomas42/django-blog-zinnia/labels/Database"", ""color"": ""a858ba"", ""node_id"": ""MDU6TGFiZWw0NTQzNg=="", ""id"": 45436}, {""default"": false, ""name"": ""Documentation"", ""url"": ""https://api.github.com/repos/Fantomas42/django-blog-zinnia/labels/Documentation"", ""color"": ""8800ff"", ""node_id"": ""MDU6TGFiZWw1Mzc0Mw=="", ""id"": 53743}]",I can't migrate zinnia migrations,"I'm back.. trying to install zinnia again.
Now I'm using postgresql as a db backend, and to start, I run:
`manage.py migrate zinnia`
Fist error I get is in 0003_auto__chg_field_category_title__chg_field_category_slug__add_unique_ca.py
and I managed to pass it by reversing two lines:

```
    # Changing field 'Category.slug'
    db.alter_column('zinnia_category', 'slug', self.gf('django.db.models.fields.SlugField')(unique=True, max_length=255))

    # Adding unique constraint on 'Category', fields ['slug']
    db.create_unique('zinnia_category', ['slug'])
```

If create_unique gets before alter_column will work, if not will get an error.
I don't have the specific error now, but was something like 'already exists'.

The next error I get is in 0009_change_mptt_field.

```
Running migrations for zinnia:
 - Migrating forwards to 0010_publication_dates_unrequired.
 > zinnia:0009_change_mptt_field
FATAL ERROR - The following SQL query failed: ALTER TABLE ""zinnia_category"" ADD CONSTRAINT ""parent_id_refs_id_31e754fd"" FOREIGN KEY (""parent_id"") REFERENCES ""zinnia_categ
ory"" (""id"") DEFERRABLE INITIALLY DEFERRED;
The error was: constraint ""parent_id_refs_id_31e754fd"" for relation ""zinnia_category"" already exists

Error in migration: zinnia:0009_change_mptt_field
DatabaseError: constraint ""parent_id_refs_id_31e754fd"" for relation ""zinnia_category"" already exists
```

I'm using django 1.5, I tested with django 1.4.3 and gets same error.
I remember testing zinnia long time ago and I didn't have this problems, but by that time I was testing with sqlite, now I'm testing with postgresql.
The version of south I'm using is 0.7.4.

I don't know exactly what the problem is with this alter_column command, but it doesn't work in my environment.
"
13942,Fantomas42,django-blog-zinnia,5,closed,157,4,https://api.github.com/repos/Fantomas42/django-blog-zinnia/issues/157/comments,https://github.com/Fantomas42/django-blog-zinnia/issues/157,"[{""default"": false, ""name"": ""Database"", ""url"": ""https://api.github.com/repos/Fantomas42/django-blog-zinnia/labels/Database"", ""color"": ""a858ba"", ""node_id"": ""MDU6TGFiZWw0NTQzNg=="", ""id"": 45436}, {""default"": false, ""name"": ""Perimeter"", ""url"": ""https://api.github.com/repos/Fantomas42/django-blog-zinnia/labels/Perimeter"", ""color"": ""fffb08"", ""node_id"": ""MDU6TGFiZWw1MDA3Mw=="", ""id"": 50073}, {""default"": false, ""name"": ""Wont fix"", ""url"": ""https://api.github.com/repos/Fantomas42/django-blog-zinnia/labels/Wont%20fix"", ""color"": ""e10c02"", ""node_id"": ""MDU6TGFiZWw5NzAyNQ=="", ""id"": 97025}]","Migration 0003 fails with zinnia_category_a951d5d6"" already exists","python manage.py syncdb --migrate fails stack trace below: 

L12 

```
       # Changing field 'Category.slug'
        db.alter_column('zinnia_category', 'slug', self.gf('django.db.models.fields.SlugField')(unique=True, max_length=255))

        # Adding unique constraint on 'Category', fields ['slug']
        db.create_unique('zinnia_category', ['slug'])
```

L17

```

Error in migration: zinnia:0003_auto__chg_field_category_title__chg_field_category_slug__add_unique_ca
Traceback (most recent call last):
  File ""manage.py"", line 20, in <module>
    execute_from_command_line()
  File ""/home/madteckhead/.virtualenvs/synergy/lib/python2.6/site-packages/django/core/management/__init__.py"", line 443, in execute_from_command_line
    utility.execute()
  File ""/home/madteckhead/.virtualenvs/synergy/lib/python2.6/site-packages/django/core/management/__init__.py"", line 382, in execute
    self.fetch_command(subcommand).run_from_argv(self.argv)
  File ""/home/madteckhead/.virtualenvs/synergy/lib/python2.6/site-packages/django/core/management/base.py"", line 196, in run_from_argv
    self.execute(*args, **options.__dict__)
  File ""/home/madteckhead/.virtualenvs/synergy/lib/python2.6/site-packages/django/core/management/base.py"", line 232, in execute
    output = self.handle(*args, **options)
  File ""/home/madteckhead/.virtualenvs/synergy/lib/python2.6/site-packages/south/management/commands/migrate.py"", line 107, in handle
    ignore_ghosts = ignore_ghosts,
  File ""/home/madteckhead/.virtualenvs/synergy/lib/python2.6/site-packages/south/migration/__init__.py"", line 219, in migrate_app
    success = migrator.migrate_many(target, workplan, database)
  File ""/home/madteckhead/.virtualenvs/synergy/lib/python2.6/site-packages/south/migration/migrators.py"", line 235, in migrate_many
    result = migrator.__class__.migrate_many(migrator, target, migrations, database)
  File ""/home/madteckhead/.virtualenvs/synergy/lib/python2.6/site-packages/south/migration/migrators.py"", line 310, in migrate_many
    result = self.migrate(migration, database)
  File ""/home/madteckhead/.virtualenvs/synergy/lib/python2.6/site-packages/south/migration/migrators.py"", line 133, in migrate
    result = self.run(migration)
  File ""/home/madteckhead/.virtualenvs/synergy/lib/python2.6/site-packages/south/migration/migrators.py"", line 107, in run
    return self.run_migration(migration)
  File ""/home/madteckhead/.virtualenvs/synergy/lib/python2.6/site-packages/south/migration/migrators.py"", line 81, in run_migration
    migration_function()
  File ""/home/madteckhead/.virtualenvs/synergy/lib/python2.6/site-packages/south/migration/migrators.py"", line 57, in <lambda>
    return (lambda: direction(orm))
  File ""/home/madteckhead/.virtualenvs/synergy/lib/python2.6/site-packages/zinnia/migrations/0003_auto__chg_field_category_title__chg_field_category_slug__add_unique_ca.py"", line 16, in forwards
    db.create_unique('zinnia_category', ['slug'])
  File ""/home/madteckhead/.virtualenvs/synergy/lib/python2.6/site-packages/south/db/generic.py"", line 46, in _cache_clear
    return func(self, table, *args, **opts)
  File ""/home/madteckhead/.virtualenvs/synergy/lib/python2.6/site-packages/south/db/generic.py"", line 612, in create_unique
    cols,
  File ""/home/madteckhead/.virtualenvs/synergy/lib/python2.6/site-packages/south/db/generic.py"", line 264, in execute
    cursor.execute(sql, params)
  File ""/home/madteckhead/.virtualenvs/synergy/lib/python2.6/site-packages/django/db/backends/util.py"", line 40, in execute
    return self.cursor.execute(sql, params)
  File ""/home/madteckhead/.virtualenvs/synergy/lib/python2.6/site-packages/django/db/backends/postgresql_psycopg2/base.py"", line 52, in execute
    return self.cursor.execute(query, args)
django.db.utils.DatabaseError: relation ""zinnia_category_a951d5d6"" already exists
```
"
13964,Fantomas42,django-blog-zinnia,5,closed,135,5,https://api.github.com/repos/Fantomas42/django-blog-zinnia/issues/135/comments,https://github.com/Fantomas42/django-blog-zinnia/issues/135,"[{""default"": false, ""name"": ""Database"", ""url"": ""https://api.github.com/repos/Fantomas42/django-blog-zinnia/labels/Database"", ""color"": ""a858ba"", ""node_id"": ""MDU6TGFiZWw0NTQzNg=="", ""id"": 45436}, {""default"": false, ""name"": ""Perimeter"", ""url"": ""https://api.github.com/repos/Fantomas42/django-blog-zinnia/labels/Perimeter"", ""color"": ""fffb08"", ""node_id"": ""MDU6TGFiZWw1MDA3Mw=="", ""id"": 50073}]",Unable to migrate using latest south tip and Django 1.4c1,"I had to comment out this line in order to migrate all the way through:

https://github.com/Fantomas42/django-blog-zinnia/blob/master/zinnia/migrations/0003_auto__chg_field_category_title__chg_field_category_slug__add_unique_ca.py#L16

Here was the traceback from the error:

Running migrations for zinnia:
- Migrating forwards to 0007_entry_featured.
  
  > zinnia:0002_auto__add_field_entry_pingback_enabled
  > zinnia:0003_auto__chg_field_category_title__chg_field_category_slug__add_unique_ca
  > FATAL ERROR - The following SQL query failed: ALTER TABLE ""zinnia_category"" ADD CONSTRAINT ""zinnia_category_a951d5d6"" UNIQUE (""slug"")
  > The error was: relation ""zinnia_category_a951d5d6"" already exists
  
  ! Error found during real run of migration! Aborting.
  
  ! Since you have a database that does not support running
  ! schema-altering statements in transactions, we have had 
  ! to leave it in an interim state between migrations.

! You _might_ be able to recover with:   - no dry run output for alter_column() due to dynamic DDL, sorry
- no dry run output for alter_column() due to dynamic DDL, sorry
- no dry run output for delete_unique_column() due to dynamic DDL, sorry
- no dry run output for alter_column() due to dynamic DDL, sorry
- no dry run output for alter_column() due to dynamic DDL, sorry
  
  ! The South developers regret this has happened, and would
  ! like to gently persuade you to consider a slightly
  ! easier-to-deal-with DBMS (one that supports DDL transactions)
  ! NOTE: The error which caused the migration to fail is further up.
  Error in migration: zinnia:0003_auto__chg_field_category_title__chg_field_category_slug__add_unique_ca
  Traceback (most recent call last):
  File ""./manage.py"", line 9, in <module>
    execute_from_command_line(sys.argv)
  File ""/Users/jaddison/projects/phonesite/src/django/django/core/management/**init**.py"", line 443, in execute_from_command_line
    utility.execute()
  File ""/Users/jaddison/projects/phonesite/src/django/django/core/management/**init**.py"", line 382, in execute
    self.fetch_command(subcommand).run_from_argv(self.argv)
  File ""/Users/jaddison/projects/phonesite/src/django/django/core/management/base.py"", line 196, in run_from_argv
    self.execute(_args, *_options.**dict**)
  File ""/Users/jaddison/projects/phonesite/src/django/django/core/management/base.py"", line 232, in execute
    output = self.handle(_args, *_options)
  File ""/Users/jaddison/projects/phonesite/src/south/south/management/commands/migrate.py"", line 107, in handle
    ignore_ghosts = ignore_ghosts,
  File ""/Users/jaddison/projects/phonesite/src/south/south/migration/**init**.py"", line 219, in migrate_app
    success = migrator.migrate_many(target, workplan, database)
  File ""/Users/jaddison/projects/phonesite/src/south/south/migration/migrators.py"", line 235, in migrate_many
    result = migrator.**class**.migrate_many(migrator, target, migrations, database)
  File ""/Users/jaddison/projects/phonesite/src/south/south/migration/migrators.py"", line 310, in migrate_many
    result = self.migrate(migration, database)
  File ""/Users/jaddison/projects/phonesite/src/south/south/migration/migrators.py"", line 133, in migrate
    result = self.run(migration)
  File ""/Users/jaddison/projects/phonesite/src/south/south/migration/migrators.py"", line 107, in run
    return self.run_migration(migration)
  File ""/Users/jaddison/projects/phonesite/src/south/south/migration/migrators.py"", line 81, in run_migration
    migration_function()
  File ""/Users/jaddison/projects/phonesite/src/south/south/migration/migrators.py"", line 57, in <lambda>
    return (lambda: direction(orm))
  File ""/Users/jaddison/projects/phonesite/lib/python2.7/site-packages/zinnia/migrations/0003_auto__chg_field_category_title__chg_field_category_slug__add_unique_ca.py"", line 16, in forwards
    db.create_unique('zinnia_category', ['slug'])
  File ""/Users/jaddison/projects/phonesite/src/south/south/db/generic.py"", line 46, in _cache_clear
    return func(self, table, _args, *_opts)
  File ""/Users/jaddison/projects/phonesite/src/south/south/db/generic.py"", line 612, in create_unique
    cols,
  File ""/Users/jaddison/projects/phonesite/src/south/south/db/generic.py"", line 264, in execute
    cursor.execute(sql, params)
  File ""/Users/jaddison/projects/phonesite/src/django/django/db/backends/util.py"", line 40, in execute
    return self.cursor.execute(sql, params)
  File ""/Users/jaddison/projects/phonesite/src/django/django/db/backends/postgresql_psycopg2/base.py"", line 52, in execute
    return self.cursor.execute(query, args)
  django.db.utils.DatabaseError: relation ""zinnia_category_a951d5d6"" already exists
"
13984,Fantomas42,django-blog-zinnia,6,closed,115,17,https://api.github.com/repos/Fantomas42/django-blog-zinnia/issues/115/comments,https://github.com/Fantomas42/django-blog-zinnia/issues/115,"[{""default"": false, ""name"": ""Database"", ""url"": ""https://api.github.com/repos/Fantomas42/django-blog-zinnia/labels/Database"", ""color"": ""a858ba"", ""node_id"": ""MDU6TGFiZWw0NTQzNg=="", ""id"": 45436}, {""default"": false, ""name"": ""Documentation"", ""url"": ""https://api.github.com/repos/Fantomas42/django-blog-zinnia/labels/Documentation"", ""color"": ""8800ff"", ""node_id"": ""MDU6TGFiZWw1Mzc0Mw=="", ""id"": 53743}]",New install on django-cms breaks site,"I have installed zinnia as per the docs and the same way I always have done.

I have synced and migrated my database and on standard pages not related to the blog, I get the error:

""Caught DatabaseError while rendering: relation ""zinnia_entry"" does not exist LINE 1: ...te"", ""zinnia_entry"".""content_placeholder_id"" FROM ""zinnia_en... ^""

That relates to the ""{% show_menu 0 100 100 100 %}"" section of my templates.

Now on the page where zinnia is aphooked, I get the error

relation ""zinnia_entry"" does not exist
LINE 1: SELECT COUNT(*) FROM ""zinnia_entry"" INNER JOIN ""zinnia_entry...

Using postgresql + south
"
13992,Fantomas42,django-blog-zinnia,6,closed,107,3,https://api.github.com/repos/Fantomas42/django-blog-zinnia/issues/107/comments,https://github.com/Fantomas42/django-blog-zinnia/issues/107,"[{""default"": false, ""name"": ""Database"", ""url"": ""https://api.github.com/repos/Fantomas42/django-blog-zinnia/labels/Database"", ""color"": ""a858ba"", ""node_id"": ""MDU6TGFiZWw0NTQzNg=="", ""id"": 45436}, {""default"": false, ""name"": ""Documentation"", ""url"": ""https://api.github.com/repos/Fantomas42/django-blog-zinnia/labels/Documentation"", ""color"": ""8800ff"", ""node_id"": ""MDU6TGFiZWw1Mzc0Mw=="", ""id"": 53743}, {""default"": false, ""name"": ""ICC"", ""url"": ""https://api.github.com/repos/Fantomas42/django-blog-zinnia/labels/ICC"", ""color"": ""fffeb8"", ""node_id"": ""MDU6TGFiZWwzOTY1OQ=="", ""id"": 39659}]",Using 'zinnia.plugins.placeholder.EntryPlaceholder' as Entry Base Model causes DatabaseError,"When using ''zinnia.plugins.placeholder.EntryPlaceholder', as ZINNIA_ENTRY_BASE_MODEL as suggested [in the configuration docs](http://django-blog-zinnia.com/documentation/configuration/#django-cms), a DatabaseError is generated when visiting http://localhost:8000/admin/zinnia/. (0.8.1 release).

Examination reveals that the column zinnia_entry.content_placeholder_id does not get created by either the `syncdb` or `migrate` commands.

Creating the column manually (`ALTER TABLE zinnia_entry ADD COLUMN content_placeholder_id integer` on PostgreSQL) is an interim fix.
"
14047,Fantomas42,django-blog-zinnia,6,closed,52,7,https://api.github.com/repos/Fantomas42/django-blog-zinnia/issues/52/comments,https://github.com/Fantomas42/django-blog-zinnia/issues/52,"[{""default"": false, ""name"": ""Database"", ""url"": ""https://api.github.com/repos/Fantomas42/django-blog-zinnia/labels/Database"", ""color"": ""a858ba"", ""node_id"": ""MDU6TGFiZWw0NTQzNg=="", ""id"": 45436}, {""default"": false, ""name"": ""Perimeter"", ""url"": ""https://api.github.com/repos/Fantomas42/django-blog-zinnia/labels/Perimeter"", ""color"": ""fffb08"", ""node_id"": ""MDU6TGFiZWw1MDA3Mw=="", ""id"": 50073}, {""default"": false, ""name"": ""Tests"", ""url"": ""https://api.github.com/repos/Fantomas42/django-blog-zinnia/labels/Tests"", ""color"": ""b50000"", ""node_id"": ""MDU6TGFiZWw1Mzc0NA=="", ""id"": 53744}]",tests fails: DatabaseError: no such table: zinnia_category,"When i run manage.py test zinnia, i get:

https://gist.github.com/744738
"
14052,Fantomas42,django-blog-zinnia,6,closed,47,5,https://api.github.com/repos/Fantomas42/django-blog-zinnia/issues/47/comments,https://github.com/Fantomas42/django-blog-zinnia/issues/47,"[{""default"": false, ""name"": ""ICC"", ""url"": ""https://api.github.com/repos/Fantomas42/django-blog-zinnia/labels/ICC"", ""color"": ""fffeb8"", ""node_id"": ""MDU6TGFiZWwzOTY1OQ=="", ""id"": 39659}]",Django-cms AND django-blog-zinnia plugin,"I have to tried many time to install the blog plug in to django-cms but all the time unsuccessful.(i am using django 1.2.3 and python 2.7)
This is my setting.py
https://github.com/pykhmer/pykhmerWEB/blob/master/settings.py
or whole here (git@github.com:pykhmer/pykhmerWEB.git)
But when I run: 
   python manage.py syncdb ==>Okay [no error message]
   python manage.py server ==>Okay [no error message]
   python manage.py migrate --fake ==>Okay [no error message]
And I have tried comment south or uncomment south.
But when go to django-cms admin
and add the category
   or add entry
## I got the error messge

Request Method:     GET
Request URL:    http://127.0.0.1:8000/admin/zinnia/category/
Django Version:     1.2.3
Exception Type:     DatabaseError
Exception Value:    

no such table: zinnia_category

Exception Location:     F:\Python27\lib\site-packages\django\db\backends\sqlite3\base.py in execute, line 200
Python Executable:  F:\Python27\python.exe
Python Version:     2.7.0
.....................

What is the problems here?How can I fixed it?

Thanks.
"
14080,Fantomas42,django-blog-zinnia,7,closed,19,1,https://api.github.com/repos/Fantomas42/django-blog-zinnia/issues/19/comments,https://github.com/Fantomas42/django-blog-zinnia/pull/19,"[{""default"": false, ""name"": ""Bug"", ""url"": ""https://api.github.com/repos/Fantomas42/django-blog-zinnia/labels/Bug"", ""color"": ""3c7496"", ""node_id"": ""MDU6TGFiZWwzNTA0MQ=="", ""id"": 35041}, {""default"": false, ""name"": ""Database"", ""url"": ""https://api.github.com/repos/Fantomas42/django-blog-zinnia/labels/Database"", ""color"": ""a858ba"", ""node_id"": ""MDU6TGFiZWw0NTQzNg=="", ""id"": 45436}]",Patch to fix unicode casting error with postgres 8.4 and django 1.2.2,"Without this fix, I get this error when trying to run zinnia:

```
Template error

In template <my-virtualenv>/site-packages/django_blog_zinnia-0.6-py2.7.egg/zinnia/templates/zinnia/tags/recent_comments.html, error at line 4
Caught DatabaseError while rendering: operator does not exist: text = integer LINE 1: ...comment_id"") WHERE (""django_comments"".""object_pk"" IN (SELECT... ^ HINT: No operator matches the given name and argument type(s). You might need to add explicit type casts.
```

Some research showed this error to be related to this ticket: http://code.djangoproject.com/ticket/8554 . So I converted the entry pks using smart_unicode, and bam everything worked.
"
14580,awesto,django-shop,6,closed,222,2,https://api.github.com/repos/awesto/django-shop/issues/222/comments,https://github.com/awesto/django-shop/issues/222,[],Error while deleting users ,"I'm getting this error while deleting a user in my project.

```
Traceback (most recent call last):

  File ""/home/eyad/Envs/through_italy/local/lib/python2.7/site-packages/django/core/handlers/base.py"", line 115, in get_response
    response = callback(request, *callback_args, **callback_kwargs)

  File ""/home/eyad/Envs/through_italy/local/lib/python2.7/site-packages/django/contrib/admin/options.py"", line 372, in wrapper
    return self.admin_site.admin_view(view)(*args, **kwargs)

  File ""/home/eyad/Envs/through_italy/local/lib/python2.7/site-packages/django/utils/decorators.py"", line 91, in _wrapped_view
    response = view_func(request, *args, **kwargs)

  File ""/home/eyad/Envs/through_italy/local/lib/python2.7/site-packages/django/views/decorators/cache.py"", line 89, in _wrapped_view_func
    response = view_func(request, *args, **kwargs)

  File ""/home/eyad/Envs/through_italy/local/lib/python2.7/site-packages/django/contrib/admin/sites.py"", line 202, in inner
    return view(request, *args, **kwargs)

  File ""/home/eyad/Envs/through_italy/local/lib/python2.7/site-packages/django/utils/decorators.py"", line 25, in _wrapper
    return bound_func(*args, **kwargs)

  File ""/home/eyad/Envs/through_italy/local/lib/python2.7/site-packages/django/utils/decorators.py"", line 91, in _wrapped_view
    response = view_func(request, *args, **kwargs)

  File ""/home/eyad/Envs/through_italy/local/lib/python2.7/site-packages/django/utils/decorators.py"", line 21, in bound_func
    return func(self, *args2, **kwargs2)

  File ""/home/eyad/Envs/through_italy/local/lib/python2.7/site-packages/django/contrib/admin/options.py"", line 1205, in changelist_view
    response = self.response_action(request, queryset=cl.get_query_set(request))

  File ""/home/eyad/Envs/through_italy/local/lib/python2.7/site-packages/django/contrib/admin/options.py"", line 960, in response_action
    response = func(self, request, queryset)

  File ""/home/eyad/Envs/through_italy/local/lib/python2.7/site-packages/django/contrib/admin/actions.py"", line 35, in delete_selected
    queryset, opts, request.user, modeladmin.admin_site, using)

  File ""/home/eyad/Envs/through_italy/local/lib/python2.7/site-packages/django/contrib/admin/util.py"", line 109, in get_deleted_objects
    collector.collect(objs)

  File ""/home/eyad/Envs/through_italy/local/lib/python2.7/site-packages/django/contrib/admin/util.py"", line 160, in collect
    return super(NestedObjects, self).collect(objs, source_attr=source_attr, **kwargs)

  File ""/home/eyad/Envs/through_italy/local/lib/python2.7/site-packages/django/db/models/deletion.py"", line 225, in collect
    elif sub_objs:

  File ""/home/eyad/Envs/through_italy/local/lib/python2.7/site-packages/django/db/models/query.py"", line 141, in __nonzero__
    return type(self).__bool__(self)

  File ""/home/eyad/Envs/through_italy/local/lib/python2.7/site-packages/django/db/models/query.py"", line 135, in __bool__
    next(iter(self))

  File ""/home/eyad/Envs/through_italy/local/lib/python2.7/site-packages/django/db/models/query.py"", line 123, in _result_iter
    self._fill_cache()

  File ""/home/eyad/Envs/through_italy/local/lib/python2.7/site-packages/django/db/models/query.py"", line 927, in _fill_cache
    self._result_cache.append(next(self._iter))

  File ""/home/eyad/Envs/through_italy/local/lib/python2.7/site-packages/django/db/models/query.py"", line 301, in iterator
    for row in compiler.results_iter():

  File ""/home/eyad/Envs/through_italy/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py"", line 775, in results_iter
    for rows in self.execute_sql(MULTI):

  File ""/home/eyad/Envs/through_italy/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py"", line 840, in execute_sql
    cursor.execute(sql, params)

  File ""/home/eyad/Envs/through_italy/local/lib/python2.7/site-packages/django/db/backends/postgresql_psycopg2/base.py"", line 58, in execute
    six.reraise(utils.DatabaseError, utils.DatabaseError(*tuple(e.args)), sys.exc_info()[2])

  File ""/home/eyad/Envs/through_italy/local/lib/python2.7/site-packages/django/db/backends/postgresql_psycopg2/base.py"", line 54, in execute
    return self.cursor.execute(query, args)

DatabaseError: relation ""addressmodel_address"" does not exist
LINE 1: ...user"".""is_active"", ""auth_user"".""date_joined"" FROM ""addressmo...
```

I'm not using the address model, it's not in my installed apps and it's not in the DB.
I'm using Django 1.5.1
"
14623,awesto,django-shop,7,closed,179,2,https://api.github.com/repos/awesto/django-shop/issues/179/comments,https://github.com/awesto/django-shop/issues/179,[],Migrations fail if you don't use the shop's models,"If you use you own product or order models, the shop migration will fail with something like `django.db.utils.DatabaseError: table ""shop_order"" does not exist`. Faking the latest shop migration and creating a new one from your codebase works.

Any nicer way to handle this? Should we write some docs about it?
"
664,taigaio,taiga-back,4,closed,950,1,https://api.github.com/repos/taigaio/taiga-back/issues/950/comments,https://github.com/taigaio/taiga-back/issues/950,[],How to downgrade database ?,"**Do you want to request a *feature* or report a *bug*?**

Report a *bug*.

**What is the current behavior?**

I was mistakenly using master branch in taiga-backend (as one reported in #913).
So, I switched to stable branch.

After some days, I discovered that I can't create new project anymore.

I unsuccessfully tried to  downgrade database using django command:

```sh
./manage.py migrate projects zero
Trying import local.py settings...
Operations to perform:
  Unapply all migrations: projects
Running migrations:
  Rendering model states... DONE
  Unapplying userstories.0014_auto_20160928_0540...Raven is not configured (logging is disabled). Please see the documentation for more information.
Traceback (most recent call last):
  File ""/usr/local/lib/python3.5/site-packages/django/db/backends/utils.py"", line 64, in execute
    return self.cursor.execute(sql, params)
psycopg2.DataError: integer out of range

```

So, how can I downgrade database without loosing users datas?


**If the current behavior is a bug, please provide the steps to reproduce.**

1. From personal dashboard, Projects > Create Project.
2. Fill in needed Informations
3. Validate

-> Nothing Happens

**What is the expected behavior?**

New Project form should close and bring you to your new project .


**Is it happening in taiga.io or in your own instance?**
My Own.

**What browser/version are you using?**

Chromium Version 58.0.3028.0 / Windows 7

**Are there any console errors *(Ctrl + F12)* in red?**

_Console error:_
> POST http://my-taiga-instance/api/v1/projects 500 (Internal Server Error)

_Request Payload:_
```js
{""is_private"":false,""creation_template"":1,""name"":""test"",""description"":""test""}
```
_Server log:_
> [...]
>   File ""/usr/local/lib/python3.5/site-packages/django/utils/six.py"", line 685, in reraise
>     raise value.with_traceback(tb)
>   File ""/usr/local/lib/python3.5/site-packages/django/db/backends/utils.py"", line 64, in execute
>     return self.cursor.execute(sql, params)
> django.db.utils.IntegrityError: null value in column ""is_contact_activated"" violates not-null constraint
"
700,taigaio,taiga-back,5,closed,896,1,https://api.github.com/repos/taigaio/taiga-back/issues/896/comments,https://github.com/taigaio/taiga-back/issues/896,[],"userstories_rolepoints.points_id set to NULL, breaks API","We're running a local install, at version 3.0.0.  

Some of the users reported a project that stopped responding to viewing of user stories, expanding of stories in epics, etc.  After some digging, we found that one of the records in the userstories_rolepoints table for the project had a NULL in the points_id column.  After updating the record with a valid value, everything worked. 

I unfortunately don't know how the data got corrupted, but I'm recording this here as an Issue in case anyone else sees it.  Following is the exception and trace from the API call:

```
DataError at /api/v1/userstories
invalid input syntax for type json
DETAIL:  Expected JSON value, but found ""}"".
CONTEXT:  JSON data, line 1: {""79"":}
Request Method:	GET
Request URL:	http://taiga.****.com/api/v1/userstories?epic=2&include_tasks=true&order_by=epic_order
Django Version:	1.9.2
Exception Type:	DataError
Exception Value:	
invalid input syntax for type json
DETAIL:  Expected JSON value, but found ""}"".
CONTEXT:  JSON data, line 1: {""79"":}
Exception Location:	/opt/taiga/.virtualenv/lib/python3.4/site-packages/django/db/backends/utils.py in execute, line 64
Python Executable:	/opt/taiga/.virtualenv/bin/python3.4
Python Version:	3.4.5
Python Path:	
['/opt/taiga/back',
 '/opt/taiga/back',
 '/opt/taiga/.virtualenv/bin',
 '/opt/taiga/.virtualenv/lib/python3.4/site-packages',
 '/usr/lib64/python34.zip',
 '/usr/lib64/python3.4',
 '/usr/lib64/python3.4/plat-linux',
 '/usr/lib64/python3.4/lib-dynload',
 '/opt/taiga/back']
Server time:	Fri, 9 Dec 2016 22:10:20 +0000
```

![data](https://cloud.githubusercontent.com/assets/8208/21066546/5403da2c-be23-11e6-8183-f9adbb3af479.png)
"
2506,nitely,Spirit,2,closed,216,3,https://api.github.com/repos/nitely/Spirit/issues/216/comments,https://github.com/nitely/Spirit/pull/216,[],"Fix #150. DataError, REMOTE_ADDR is b''.",Small simple fix.
2561,nitely,Spirit,3,closed,150,11,https://api.github.com/repos/nitely/Spirit/issues/150/comments,https://github.com/nitely/Spirit/issues/150,[],"LastIPMiddleware sql update error because REMOTE_ADDR is ""b''""","REMOTE_ADDR is ""b''"" when login from LAN and DEBUG=True. If I set DEBUG=False everything works great.
I think here's the target code: [XForwardedForMiddleware](https://github.com/nitely/Spirit/blob/c476fe06aa28d4656369e8d85a43e4451a9005ff/spirit/core/middleware.py#L13-L14), [LastIPMiddleware](https://github.com/nitely/Spirit/blob/c476fe06aa28d4656369e8d85a43e4451a9005ff/spirit/user/middleware.py#L45). Can we remove [this](https://github.com/nitely/Spirit/blob/c476fe06aa28d4656369e8d85a43e4451a9005ff/spirit/core/middleware.py#L13) line?
Error details:
```
DataError at /
invalid input syntax for type inet: ""b''""
LINE 1: UPDATE ""spirit_user_userprofile"" SET ""last_ip"" = 'b'''''::in...
```
```
▶ Local vars
Variable	Value
params  (Inet(""b''""), 1)
self   <django.db.backends.utils.CursorDebugWrapper object at 0x7f8d2aa436d8>
sql   ('UPDATE ""spirit_user_userprofile"" SET ""last_ip"" = %s WHERE '
 '""spirit_user_userprofile"".""user_id"" = %s')
```
Meta:
```
HTTP_X_FORWARDED_FOR  '192.168.1.4'
HTTP_X_FORWARDED_PROTO  'http'
HTTP_X_REAL_IP  '192.168.1.4'
REMOTE_ADDR  ""b''""
```
Great app. Though there's no link to `st/admin/comment/flag/` from `st/admin/`"
4832,mirumee,saleor,23,closed,1814,3,https://api.github.com/repos/mirumee/saleor/issues/1814/comments,https://github.com/mirumee/saleor/issues/1814,"[{""default"": true, ""name"": ""bug"", ""url"": ""https://api.github.com/repos/mirumee/saleor/labels/bug"", ""color"": ""fc2929"", ""node_id"": ""MDU6TGFiZWwyODE5MjMzMQ=="", ""id"": 28192331}]","AttributeChoiceValue, slug field max length is much less than max length of name field","Branch: Master

### What I'm trying to achieve
Adding an attribute value that is longer than 50 characters (max allowed is 100)

### Steps to reproduce the problem

1.  Add an attribute choice value of greater than 50
2.  The slug field will throw a constraint error because it defaults to only 50

### What I expected to happen
Slug field should match length of name field

### What happened instead/how it failed
Constraint DB error gets thrown

django.db.utils.DataError: value too long for type character varying(50)
"
10145,django-oscar,django-oscar,3,closed,2923,0,https://api.github.com/repos/django-oscar/django-oscar/issues/2923/comments,https://github.com/django-oscar/django-oscar/pull/2923,[],Update redis to 3.1.0,"
This PR updates [redis](https://pypi.org/project/redis) from **2.10.6** to **3.1.0**.



<details>
  <summary>Changelog</summary>
  
  
   ### 3.1.0
   ```
   * Connection URLs must have one of the following schemes:
      redis://, rediss://, unix://. Thanks jdupl123. 961/969
    * Fixed an issue with retry_on_timeout logic that caused some TimeoutErrors
      to be retried. Thanks Aaron Yang. 1022/1023
    * Added support for SNI for SSL. Thanks oridistor and Roey Prat. 1087
    * Fixed ConnectionPool repr for pools with no connections. Thanks
      Cody Scott. 1043/995
    * Fixed GEOHASH to return a None value when specifying a place that
      doesn&#39;t exist on the server. Thanks guybe7. 1126
    * Fixed XREADGROUP to return an empty dictionary for messages that
      have been deleted but still exist in the unacknowledged queue. Thanks
      xeizmendi. 1116
    * Added an owned method to Lock objects. owned returns a boolean
      indicating whether the current lock instance still owns the lock.
      Thanks Dave Johansen. 1112
    * Allow lock.acquire() to accept an optional token argument. If
      provided, the token argument is used as the unique value used to claim
      the lock. Thankd Dave Johansen. 1112
    * Added a reacquire method to Lock objects. reaquire attempts to renew
      the lock such that the timeout is extended to the same value that the
      lock was initially acquired with. Thanks Ihor Kalnytskyi. 1014
    * Stream names found within XREAD and XREADGROUP responses now properly
      respect the decode_responses flag.
    * XPENDING_RANGE now requires the user the specify the min, max and
      count arguments. Newer versions of Redis prevent ount from being
      infinite so it&#39;s left to the user to specify these values explicitly.
    * ZADD now returns None when xx=True and incr=True and an element
      is specified that doesn&#39;t exist in the sorted set. This matches
      what the server returns in this case. 1084
    * Added client_kill_filter that accepts various filters to identify
      and kill clients. Thanks Theofanis Despoudis. 1098
    * Fixed a race condition that occurred when unsubscribing and
      resubscribing to the same channel or pattern in rapid succession.
      Thanks Marcin Raczyński. 764
    * Added a LockNotOwnedError that is raised when trying to extend or
      release a lock that is no longer owned. This is a subclass of LockError
      so previous code should continue to work as expected. Thanks Joshua
      Harlow. 1095
    * Fixed a bug in GEORADIUS that forced decoding of places without
      respecting the decode_responses option. Thanks Bo Bayles. 1082
   ```
   
  
  
   ### 3.0.1
   ```
   * Fixed regression with UnixDomainSocketConnection caused by 3.0.0.
      Thanks Jyrki Muukkonen
    * Fixed an issue with the new asynchronous flag on flushdb and flushall.
      Thanks rogeryen
    * Updated Lock.locked() method to indicate whether *any* process has
      acquired the lock, not just the current one. This is in line with
      the behavior of threading.Lock. Thanks Alan Justino da Silva
   ```
   
  
  
   ### 3.0.0
   ```
   BACKWARDS INCOMPATIBLE CHANGES
    * When using a Lock as a context manager and the lock fails to be acquired
      a LockError is now raised. This prevents the code block inside the
      context manager from being executed if the lock could not be acquired.
    * Renamed LuaLock to Lock.
    * Removed the pipeline based Lock implementation in favor of the LuaLock
      implementation.
    * Only bytes, strings and numbers (ints, longs and floats) are acceptable
      for keys and values. Previously redis-py attempted to cast other types
      to str() and store the result. This caused must confusion and frustration
      when passing boolean values (cast to &#39;True&#39; and &#39;False&#39;) or None values
      (cast to &#39;None&#39;). It is now the user&#39;s responsibility to cast all
      key names and values to bytes, strings or numbers before passing the
      value to redis-py.
    * The StrictRedis class has been renamed to Redis. StrictRedis will
      continue to exist as an alias of Redis for the forseeable future.
    * The legacy Redis client class has been removed. It caused much confusion
      to users.
    * ZINCRBY arguments &#39;value&#39; and &#39;amount&#39; have swapped order to match the
      the Redis server. The new argument order is: keyname, amount, value.
    * MGET no longer raises an error if zero keys are passed in. Instead an
      empty list is returned.
    * MSET and MSETNX now require all keys/values to be specified in a single
      dictionary argument named mapping. This was changed to allow for future
      options to these commands in the future.
    * ZADD now requires all element names/scores be specified in a single
      dictionary argument named mapping. This was required to allow the NX,
      XX, CH and INCR options to be specified.
    * ssl_cert_reqs now has a default value of &#39;required&#39; by default. This
      should make connecting to a remote Redis server over SSL more secure.
      Thanks u2mejc
    * Removed support for EOL Python 2.6 and 3.3. Thanks jdufresne
  OTHER CHANGES
    * Added missing DECRBY command. Thanks derek-dchu
    * CLUSTER INFO and CLUSTER NODES respones are now properly decoded to
      strings.
    * Added a &#39;locked()&#39; method to Lock objects. This method returns True
      if the lock has been acquired and owned by the current process,
      otherwise False.
    * EXISTS now supports multiple keys. It&#39;s return value is now the number
      of keys in the list that exist.
    * Ensure all commands can accept key names as bytes. This fixes issues
      with BLPOP, BRPOP and SORT.
    * All errors resulting from bad user input are raised as DataError
      exceptions. DataError is a subclass of RedisError so this should be
      transparent to anyone previously catching these.
    * Added support for NX, XX, CH and INCR options to ZADD
    * Added support for the MIGRATE command
    * Added support for the MEMORY USAGE and MEMORY PURGE commands. Thanks
      Itamar Haber
    * Added support for the &#39;asynchronous&#39; argument to FLUSHDB and FLUSHALL
      commands. Thanks Itamar Haber
    * Added support for the BITFIELD command. Thanks Charles Leifer and
      Itamar Haber
    * Improved performance on pipeline requests with large chunks of data.
      Thanks tzickel
    * Fixed test suite to not fail if another client is connected to the
      server the tests are running against.
    * Added support for SWAPDB. Thanks Itamar Haber
    * Added support for all STREAM commands. Thanks Roey Prat and Itamar Haber
    * SHUTDOWN now accepts the &#39;save&#39; and &#39;nosave&#39; arguments. Thanks
      dwilliams-kenzan
    * Added support for ZPOPMAX, ZPOPMIN, BZPOPMAX, BZPOPMIN. Thanks
      Itamar Haber
    * Added support for the &#39;type&#39; argument in CLIENT LIST. Thanks Roey Prat
    * Added support for CLIENT PAUSE. Thanks Roey Prat
    * Added support for CLIENT ID and CLIENT UNBLOCK. Thanks Itamar Haber
    * GEODIST now returns a None value when referencing a place that does
      not exist. Thanks qingping209
    * Added a ping() method to pubsub objects. Thanks krishan-carbon
    * Fixed a bug with keys in the INFO dict that contained &#39;:&#39; symbols.
      Thanks mzalimeni
    * Fixed the select system call retry compatibility with Python 2.x.
      Thanks lddubeau
    * max_connections is now a valid querystring argument for creating
      connection pools from URLs. Thanks mmaslowskicc
    * Added the UNLINK command. Thanks yozel
    * Added socket_type option to Connection for configurability.
      Thanks garlicnation
    * Lock.do_acquire now atomically sets acquires the lock and sets the
      expire value via set(nx=True, px=timeout). Thanks 23doors
    * Added &#39;count&#39; argument to SPOP. Thanks AlirezaSadeghi
    * Fixed an issue parsing client_list respones that contained an &#39;=&#39;.
      Thanks swilly22
   ```
   
  
</details>


 

<details>
  <summary>Links</summary>
  
  - PyPI: https://pypi.org/project/redis
  - Changelog: https://pyup.io/changelogs/redis/
  - Repo: https://github.com/andymccurdy/redis-py
</details>

"
10187,django-oscar,django-oscar,3,closed,2877,1,https://api.github.com/repos/django-oscar/django-oscar/issues/2877/comments,https://github.com/django-oscar/django-oscar/pull/2877,[],Update redis to 3.0.1,"
This PR updates [redis](https://pypi.org/project/redis) from **2.10.6** to **3.0.1**.



<details>
  <summary>Changelog</summary>
  
  
   ### 3.0.0
   ```
   BACKWARDS INCOMPATIBLE CHANGES
    * When using a Lock as a context manager and the lock fails to be acquired
      a LockError is now raised. This prevents the code block inside the
      context manager from being executed if the lock could not be acquired.
    * Renamed LuaLock to Lock.
    * Removed the pipeline based Lock implementation in favor of the LuaLock
      implementation.
    * Only bytes, strings and numbers (ints, longs and floats) are acceptable
      for keys and values. Previously redis-py attempted to cast other types
      to str() and store the result. This caused must confusion and frustration
      when passing boolean values (cast to &#39;True&#39; and &#39;False&#39;) or None values
      (cast to &#39;None&#39;). It is now the user&#39;s responsibility to cast all
      key names and values to bytes, strings or numbers before passing the
      value to redis-py.
    * The StrictRedis class has been renamed to Redis. StrictRedis will
      continue to exist as an alias of Redis for the forseeable future.
    * The legacy Redis client class has been removed. It caused much confusion
      to users.
    * ZINCRBY arguments &#39;value&#39; and &#39;amount&#39; have swapped order to match the
      the Redis server. The new argument order is: keyname, amount, value.
    * MGET no longer raises an error if zero keys are passed in. Instead an
      empty list is returned.
    * MSET and MSETNX now require all keys/values to be specified in a single
      dictionary argument named mapping. This was changed to allow for future
      options to these commands in the future.
    * ZADD now requires all element names/scores be specified in a single
      dictionary argument named mapping. This was required to allow the NX,
      XX, CH and INCR options to be specified.
    * Removed support for EOL Python 2.6 and 3.3. Thanks jdufresne
  OTHER CHANGES
    * Added missing DECRBY command. Thanks derek-dchu
    * CLUSTER INFO and CLUSTER NODES respones are now properly decoded to
      strings.
    * Added a &#39;locked()&#39; method to Lock objects. This method returns True
      if the lock has been acquired and owned by the current process,
      otherwise False.
    * EXISTS now supports multiple keys. It&#39;s return value is now the number
      of keys in the list that exist.
    * Ensure all commands can accept key names as bytes. This fixes issues
      with BLPOP, BRPOP and SORT.
    * All errors resulting from bad user input are raised as DataError
      exceptions. DataError is a subclass of RedisError so this should be
      transparent to anyone previously catching these.
    * Added support for NX, XX, CH and INCR options to ZADD
    * Added support for the MIGRATE command
    * Added support for the MEMORY USAGE and MEMORY PURGE commands. Thanks
      Itamar Haber
    * Added support for the &#39;asynchronous&#39; argument to FLUSHDB and FLUSHALL
      commands. Thanks Itamar Haber
    * Added support for the BITFIELD command. Thanks Charles Leifer and
      Itamar Haber
    * Improved performance on pipeline requests with large chunks of data.
      Thanks tzickel
    * Fixed test suite to not fail if another client is connected to the
      server the tests are running against.
    * Added support for SWAPDB. Thanks Itamar Haber
    * Added support for all STREAM commands. Thanks Roey Prat and Itamar Haber
    * SHUTDOWN now accepts the &#39;save&#39; and &#39;nosave&#39; arguments. Thanks
      dwilliams-kenzan
    * Added support for ZPOPMAX, ZPOPMIN, BZPOPMAX, BZPOPMIN. Thanks
      Itamar Haber
    * Added support for the &#39;type&#39; argument in CLIENT LIST. Thanks Roey Prat
    * Added support for CLIENT PAUSE. Thanks Roey Prat
    * Added support for CLIENT ID and CLIENT UNBLOCK. Thanks Itamar Haber
    * GEODIST now returns a None value when referencing a place that does
      not exist. Thanks qingping209
    * Added a ping() method to pubsub objects. Thanks krishan-carbon
    * Fixed a bug with keys in the INFO dict that contained &#39;:&#39; symbols.
      Thanks mzalimeni
    * ssl_cert_reqs now has a default value of &#39;required&#39; by default. This
      should make connecting to a remote Redis server over SSL more secure.
      Thanks u2mejc
    * Fixed the select system call retry compatibility with Python 2.x.
      Thanks lddubeau
    * max_connections is now a valid querystring argument for creating
      connection pools from URLs. Thanks mmaslowskicc
    * Added the UNLINK command. Thanks yozel
    * Added socket_type option to Connection for configurability.
      Thanks garlicnation
    * Lock.do_acquire now atomically sets acquires the lock and sets the
      expire value via set(nx=True, px=timeout). Thanks 23doors
    * Added &#39;count&#39; argument to SPOP. Thanks AlirezaSadeghi
    * Fixed an issue parsing client_list respones that contained an &#39;=&#39;.
      Thanks swilly22
   ```
   
  
</details>


 

<details>
  <summary>Links</summary>
  
  - PyPI: https://pypi.org/project/redis
  - Changelog: https://pyup.io/changelogs/redis/
  - Repo: https://github.com/andymccurdy/redis-py
</details>

"
10190,django-oscar,django-oscar,3,closed,2874,1,https://api.github.com/repos/django-oscar/django-oscar/issues/2874/comments,https://github.com/django-oscar/django-oscar/pull/2874,[],Update redis to 3.0.0.post1,"
This PR updates [redis](https://pypi.org/project/redis) from **2.10.6** to **3.0.0.post1**.



<details>
  <summary>Changelog</summary>
  
  
   ### 3.0.0
   ```
   BACKWARDS INCOMPATIBLE CHANGES
    * When using a Lock as a context manager and the lock fails to be acquired
      a LockError is now raised. This prevents the code block inside the
      context manager from being executed if the lock could not be acquired.
    * Renamed LuaLock to Lock.
    * Removed the pipeline based Lock implementation in favor of the LuaLock
      implementation.
    * Only bytes, strings and numbers (ints, longs and floats) are acceptable
      for keys and values. Previously redis-py attempted to cast other types
      to str() and store the result. This caused must confusion and frustration
      when passing boolean values (cast to &#39;True&#39; and &#39;False&#39;) or None values
      (cast to &#39;None&#39;). It is now the user&#39;s responsibility to cast all
      key names and values to bytes, strings or numbers before passing the
      value to redis-py.
    * The StrictRedis class has been renamed to Redis. StrictRedis will
      continue to exist as an alias of Redis for the forseeable future.
    * The legacy Redis client class has been removed. It caused much confusion
      to users.
    * ZINCRBY arguments &#39;value&#39; and &#39;amount&#39; have swapped order to match the
      the Redis server. The new argument order is: keyname, amount, value.
    * MGET no longer raises an error if zero keys are passed in. Instead an
      empty list is returned.
    * MSET and MSETNX now require all keys/values to be specified in a single
      dictionary argument named mapping. This was changed to allow for future
      options to these commands in the future.
    * ZADD now requires all element names/scores be specified in a single
      dictionary argument named mapping. This was required to allow the NX,
      XX, CH and INCR options to be specified.
    * Removed support for EOL Python 2.6 and 3.3. Thanks jdufresne
  OTHER CHANGES
    * Added missing DECRBY command. Thanks derek-dchu
    * CLUSTER INFO and CLUSTER NODES respones are now properly decoded to
      strings.
    * Added a &#39;locked()&#39; method to Lock objects. This method returns True
      if the lock has been acquired and owned by the current process,
      otherwise False.
    * EXISTS now supports multiple keys. It&#39;s return value is now the number
      of keys in the list that exist.
    * Ensure all commands can accept key names as bytes. This fixes issues
      with BLPOP, BRPOP and SORT.
    * All errors resulting from bad user input are raised as DataError
      exceptions. DataError is a subclass of RedisError so this should be
      transparent to anyone previously catching these.
    * Added support for NX, XX, CH and INCR options to ZADD
    * Added support for the MIGRATE command
    * Added support for the MEMORY USAGE and MEMORY PURGE commands. Thanks
      Itamar Haber
    * Added support for the &#39;asynchronous&#39; argument to FLUSHDB and FLUSHALL
      commands. Thanks Itamar Haber
    * Added support for the BITFIELD command. Thanks Charles Leifer and
      Itamar Haber
    * Improved performance on pipeline requests with large chunks of data.
      Thanks tzickel
    * Fixed test suite to not fail if another client is connected to the
      server the tests are running against.
    * Added support for SWAPDB. Thanks Itamar Haber
    * Added support for all STREAM commands. Thanks Roey Prat and Itamar Haber
    * SHUTDOWN now accepts the &#39;save&#39; and &#39;nosave&#39; arguments. Thanks
      dwilliams-kenzan
    * Added support for ZPOPMAX, ZPOPMIN, BZPOPMAX, BZPOPMIN. Thanks
      Itamar Haber
    * Added support for the &#39;type&#39; argument in CLIENT LIST. Thanks Roey Prat
    * Added support for CLIENT PAUSE. Thanks Roey Prat
    * Added support for CLIENT ID and CLIENT UNBLOCK. Thanks Itamar Haber
    * GEODIST now returns a None value when referencing a place that does
      not exist. Thanks qingping209
    * Added a ping() method to pubsub objects. Thanks krishan-carbon
    * Fixed a bug with keys in the INFO dict that contained &#39;:&#39; symbols.
      Thanks mzalimeni
    * ssl_cert_reqs now has a default value of &#39;required&#39; by default. This
      should make connecting to a remote Redis server over SSL more secure.
      Thanks u2mejc
    * Fixed the select system call retry compatibility with Python 2.x.
      Thanks lddubeau
    * max_connections is now a valid querystring argument for creating
      connection pools from URLs. Thanks mmaslowskicc
    * Added the UNLINK command. Thanks yozel
    * Added socket_type option to Connection for configurability.
      Thanks garlicnation
    * Lock.do_acquire now atomically sets acquires the lock and sets the
      expire value via set(nx=True, px=timeout). Thanks 23doors
    * Added &#39;count&#39; argument to SPOP. Thanks AlirezaSadeghi
    * Fixed an issue parsing client_list respones that contained an &#39;=&#39;.
      Thanks swilly22
   ```
   
  
</details>


 

<details>
  <summary>Links</summary>
  
  - PyPI: https://pypi.org/project/redis
  - Changelog: https://pyup.io/changelogs/redis/
  - Repo: https://github.com/andymccurdy/redis-py
</details>

"
11229,django-oscar,django-oscar,14,closed,1796,2,https://api.github.com/repos/django-oscar/django-oscar/issues/1796/comments,https://github.com/django-oscar/django-oscar/pull/1796,[],PartnerAddressForm's name field needs max_length,"PartnerAddressForm's name field is a CharField with no max_length. It causes a DataError if users enter a name with more than 128 characters (max_length of Partner's name).
"
11627,django-oscar,django-oscar,18,closed,1384,2,https://api.github.com/repos/django-oscar/django-oscar/issues/1384/comments,https://github.com/django-oscar/django-oscar/issues/1384,[],AbstractAddress.search_text overflow causes DataError,"Hi,

most address fields accept a maximum length of 255 characters. If a user enters at least 4 fields (e.g. `first_name`, `last_name`, `line1` and `line4`), the `AbstractAddress._update_search_text` method will throw a DataError, as the maximum length of 1000 is exceeded::

```
Environment:


Request Method: POST
Request URL: http://localhost:8000/accounts/register/

Django Version: 1.6.5
Python Version: 2.7.3
Installed Applications:
['django.contrib.auth',
 'django.contrib.contenttypes',
 'django.contrib.sessions',
 'django.contrib.sites',
 'django.contrib.messages',
 'django.contrib.staticfiles',
 'django.contrib.flatpages',
 'django.contrib.admin',
 'django.contrib.admindocs',
 'south',
 'storages',
 'django_activeurl',
 'apps.help',
 'rest_framework',
 'hawkrest',
 'compressor',
 'apps.help',
 'apps.pages',
 'apps.topicpage',
 'apps.loadbalancer',
 'oscar',
 'oscar.apps.analytics',
 'apps.checkout',
 'apps.address',
 'apps.shipping',
 'apps.catalogue',
 'oscar.apps.catalogue.reviews',
 'apps.partner',
 'apps.basket',
 'apps.payment',
 'oscar.apps.offer',
 'apps.order',
 'apps.customer',
 'apps.promotions',
 'oscar.apps.search',
 'oscar.apps.voucher',
 'oscar.apps.wishlists',
 'oscar.apps.dashboard',
 'oscar.apps.dashboard.reports',
 'oscar.apps.dashboard.users',
 'oscar.apps.dashboard.orders',
 'oscar.apps.dashboard.promotions',
 'oscar.apps.dashboard.catalogue',
 'oscar.apps.dashboard.offers',
 'oscar.apps.dashboard.partners',
 'apps.dashboard.pages',
 'oscar.apps.dashboard.ranges',
 'oscar.apps.dashboard.reviews',
 'oscar.apps.dashboard.vouchers',
 'oscar.apps.dashboard.communications',
 'haystack',
 'treebeard',
 'sorl.thumbnail',
 'debug_toolbar',
 'template_timings_panel',
 'w3c_validator',
 'devserver']
Installed Middleware:
('debug_toolbar.middleware.DebugToolbarMiddleware',
 'django.middleware.common.CommonMiddleware',
 'django.contrib.sessions.middleware.SessionMiddleware',
 'django.middleware.csrf.CsrfViewMiddleware',
 'django.contrib.auth.middleware.AuthenticationMiddleware',
 'django.contrib.messages.middleware.MessageMiddleware',
 'oscar.apps.basket.middleware.BasketMiddleware',
 'apps.customer.middleware.CustomerMiddleware',
 'django.contrib.flatpages.middleware.FlatpageFallbackMiddleware',
 'hawkrest.middleware.HawkResponseMiddleware',
 'apps.pages.middleware.PageFallbackMiddleware',
 'galileo_django_extensions.cache.middleware.CachingMiddleware')


Traceback:
File ""/home/henning/.virtualenvs/boscar/local/lib/python2.7/site-packages/django/core/handlers/base.py"" in get_response
  112.                     response = wrapped_callback(request, *callback_args, **callback_kwargs)
File ""/home/henning/.virtualenvs/boscar/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py"" in _wrapped_view
  22.                 return view_func(request, *args, **kwargs)
File ""/home/henning/.virtualenvs/boscar/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py"" in _wrapped_view
  22.                 return view_func(request, *args, **kwargs)
File ""/home/henning/.virtualenvs/boscar/local/lib/python2.7/site-packages/django/views/generic/base.py"" in view
  69.             return self.dispatch(request, *args, **kwargs)
File ""/home/henning/.virtualenvs/boscar/local/lib/python2.7/site-packages/django/views/generic/base.py"" in dispatch
  87.         return handler(request, *args, **kwargs)
File ""/home/henning/.virtualenvs/boscar/local/lib/python2.7/site-packages/django/views/generic/edit.py"" in post
  171.             return self.form_valid(form)
File ""/mnt/henning/projekte/boscar/hg/redsox/apps/customer/views.py"" in form_valid
  17.         customer = create_customer(email, form.cleaned_data['password1'], form.instance)
File ""/mnt/henning/projekte/boscar/hg/redsox/apps/customer/services.py"" in create_customer
  22.     user_address.save()
File ""/mnt/henning/projekte/boscar/hg/redsox/apps/address/models.py"" in save
  78.         super(UserAddress, self).save(*args, **kwargs)
File ""/home/henning/.virtualenvs/boscar/local/lib/python2.7/site-packages/oscar/apps/address/abstract_models.py"" in save
  249.         super(AbstractAddress, self).save(*args, **kwargs)
File ""/home/henning/.virtualenvs/boscar/local/lib/python2.7/site-packages/django/db/models/base.py"" in save
  545.                        force_update=force_update, update_fields=update_fields)
File ""/home/henning/.virtualenvs/boscar/local/lib/python2.7/site-packages/django/db/models/base.py"" in save_base
  573.             updated = self._save_table(raw, cls, force_insert, force_update, using, update_fields)
File ""/home/henning/.virtualenvs/boscar/local/lib/python2.7/site-packages/django/db/models/base.py"" in _save_table
  654.             result = self._do_insert(cls._base_manager, using, fields, update_pk, raw)
File ""/home/henning/.virtualenvs/boscar/local/lib/python2.7/site-packages/django/db/models/base.py"" in _do_insert
  687.                                using=using, raw=raw)
File ""/home/henning/.virtualenvs/boscar/local/lib/python2.7/site-packages/django/db/models/manager.py"" in _insert
  232.         return insert_query(self.model, objs, fields, **kwargs)
File ""/home/henning/.virtualenvs/boscar/local/lib/python2.7/site-packages/django/db/models/query.py"" in insert_query
  1514.     return query.get_compiler(using=using).execute_sql(return_id)
File ""/home/henning/.virtualenvs/boscar/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py"" in execute_sql
  903.             cursor.execute(sql, params)
File ""/home/henning/.virtualenvs/boscar/local/lib/python2.7/site-packages/debug_toolbar/panels/sql/tracking.py"" in execute
  174.         return self._record(self.cursor.execute, sql, params)
File ""/home/henning/.virtualenvs/boscar/local/lib/python2.7/site-packages/debug_toolbar/panels/sql/tracking.py"" in _record
  104.             return method(sql, params)
File ""/home/henning/.virtualenvs/boscar/local/lib/python2.7/site-packages/devserver/modules/sql.py"" in execute
  82.             return super(DatabaseStatTracker, self).execute(sql, params)
File ""/home/henning/.virtualenvs/boscar/local/lib/python2.7/site-packages/django/db/backends/util.py"" in execute
  53.                 return self.cursor.execute(sql, params)
File ""/home/henning/.virtualenvs/boscar/local/lib/python2.7/site-packages/django/db/utils.py"" in __exit__
  99.                 six.reraise(dj_exc_type, dj_exc_value, traceback)
File ""/home/henning/.virtualenvs/boscar/local/lib/python2.7/site-packages/django/db/backends/util.py"" in execute
  53.                 return self.cursor.execute(sql, params)

Exception Type: DataError at /accounts/register/
Exception Value: value too long for type character varying(1000)

```

As the search text field will be populated implicit, this error won't be covered by the form validation and makes no sense at all, as the user cannot enter the `search_text` value.

I will provide a pull request for this bug (based on release 0.7 we are using in our project).

With kind regards,
Henning
"
15066,rafalp,Misago,4,closed,959,5,https://api.github.com/repos/rafalp/Misago/issues/959/comments,https://github.com/rafalp/Misago/issues/959,[],Cannot change the subject of my own posts (UTF8 issue / configuration problem ?),"When I make a post in a new subject, I can edit the body of the post without problem, but I cannot change the subject line.

If I edit it then save, I get a notification message ""an unknown error occured"", and nothing more happens.

This happens even if I'm an administrator trying to update a subject. Owner / original poster also cannot modify it.

browser console says :

```
PATCH https://enfants-et-parents.net/api/threads/10/ 500 (Internal Server Error)
send @ vendor.js? [sm]:13143
ajax @ vendor.js? [sm]:12624
(anonymous) @ misago.js? [sm]:40837
value @ misago.js? [sm]:40796
value @ misago.js? [sm]:40952
value @ misago.js? [sm]:24445
n.handleSubmit @ misago.js? [sm]:5169
r @ vendor.js? [sm]:22917
a @ vendor.js? [sm]:17001
s @ vendor.js? [sm]:17024
p @ vendor.js? [sm]:16426
m @ vendor.js? [sm]:16437
r @ vendor.js? [sm]:28327
processEventQueue @ vendor.js? [sm]:16640
r @ vendor.js? [sm]:22985
handleTopLevel @ vendor.js? [sm]:22996
i @ vendor.js? [sm]:23073
perform @ vendor.js? [sm]:27628
batchedUpdates @ vendor.js? [sm]:22749
i @ vendor.js? [sm]:25756
dispatchEvent @ vendor.js? [sm]:23148
```

Server side in debug mode, it says :

```
psycopg2.DataError: unsupported Unicode escape sequence
LINE 1: ...alse, false, false, false, true, 'changed_title', '{""old_tit...
                                                             ^
DETAIL:  Unicode escape values cannot be used for code point values above 007F when the server encoding is not UTF8.
CONTEXT:  JSON data, line 1: {""old_title"":...
```

Note: I can post a subject with utf8 characters (like « or ⋅ or …). Only the update via `PATCH` fails.

I can remember that I can also modify a subject which does NOT contain UTF8, because I already updated a title `la ""boite à jouets""` to `la « boîte à jouets »` (with non-breaking spaces and utf8 «) without any problem.

It does not seem a database UTF-8 encoding problem, because I already have plenty UTF8 chars in it. This does not seem to be an error at the nginx proxy level (I use nginx + latest gunicorn, postgresql 9.5, python 3.5.1 on ubuntu 16.04), because other UTF8 post succeed since I've installed misago.

Did you ever encounter this problem ? Any advice on where / how to pinpoint it ?

Perhaps this would just lead to a change in the installation documentation to ensure everything is UTF-8, when we get the final cause of the issue. But My current research leads me to something weird in the client `PATCH` code, or at the DRF level.

regards,"
444,taigaio,taiga-back,2,closed,1298,5,https://api.github.com/repos/taigaio/taiga-back/issues/1298/comments,https://github.com/taigaio/taiga-back/issues/1298,[],Taiga Upgrade Broken (Uses Wrong Credentials),"**Before adding an issue**
Please ensure that your issue is not already reported in our [issues list](https://tree.taiga.io/project/taiga/issues?order_by=-created_date).
If this issue was already reported, remember that you can upvote it to raise its importance.

**Do you want to request a *feature* or report a *bug*?**

Bug

**What is the current behavior?**

Upgrade does not work

**If the current behavior is a bug, please provide the steps to reproduce.**

Start from a 4.0 tree, try to upgrade to 4.2.3 according to the instructions on the upgrade page found here:

https://taigaio.github.io/taiga-doc/dist/upgrades.html

At this point:

$ python manage.py migrate --noinput

the upgrade process fails with an error message about the local user, who owns the Taiga instance, not being a role in the database (yes - the database user is something completely unrelated in my installation).

The result is a long traceback, which ends in

  File ""/opt/taiga/backend/.virtualenvs/taiga/lib/python3.5/site-packages/psycopg2/__init__.py"", line 130, in connect                                                            
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)                                                                                                            
django.db.utils.OperationalError: FATAL:  role ""mytaigauser"" does not exist



**What is the expected behavior?**

Upgrade works.

The upgrade process should take all the database settings and credentials from settings/local.py instead of assuming that the database is local, and that it can connect via Unix domain socket.

**Is it happening in taiga.io or in your own instance?**

It happens in my own instance.

**What browser/version are you using?**

Not relevant - this is a backend problem.

**Are there any console errors *(Ctrl + F12)* in red?**

No.

Suggested fix:

in settings/development.py, add this directly after ""from .common import *"":

from .local import *

"
612,taigaio,taiga-back,3,closed,1058,1,https://api.github.com/repos/taigaio/taiga-back/issues/1058/comments,https://github.com/taigaio/taiga-back/issues/1058,[],Error deleting a project from taiga,"What is the current behavior?

After adding the project wanted to delete it, the front-end gives an error. 

If the current behavior is a bug, please provide the steps to reproduce?

1. Add a new project.
2. Go to project details.
3. Click on gear icon (admin)
4. Select Delete this project
5. Confirm in next screen

What is the expected behavior?
Project should be deleted with success message.

Is it happening in taiga.io or in your own instance?
Yes

What browser/version are you using?
Firefox 57.0.4

*Are there any console errors *(Ctrl + F12)* in red?
Yes

Below is the log:

ERROR:2018-01-12 03:07:30,750: Internal Server Error: /api/v1/projects/15
Traceback (most recent call last):
  File ""/home/rokapm/.virtualenvs/taiga/lib/python3.5/site-packages/kombu/utils/functional.py"", line 36, in __call__
    return self.__value__
AttributeError: 'ChannelPromise' object has no attribute '__value__'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File ""/home/rokapm/.virtualenvs/taiga/lib/python3.5/site-packages/kombu/connection.py"", line 494, in _ensured
    return fun(*args, **kwargs)
  File ""/home/rokapm/.virtualenvs/taiga/lib/python3.5/site-packages/kombu/messaging.py"", line 187, in _publish
    channel = self.channel
  File ""/home/rokapm/.virtualenvs/taiga/lib/python3.5/site-packages/kombu/messaging.py"", line 209, in _get_channel
    channel = self._channel = channel()
  File ""/home/rokapm/.virtualenvs/taiga/lib/python3.5/site-packages/kombu/utils/functional.py"", line 38, in __call__
    value = self.__value__ = self.__contract__()
  File ""/home/rokapm/.virtualenvs/taiga/lib/python3.5/site-packages/kombu/messaging.py"", line 224, in <lambda>
    channel = ChannelPromise(lambda: connection.default_channel)
  File ""/home/rokapm/.virtualenvs/taiga/lib/python3.5/site-packages/kombu/connection.py"", line 819, in default_channel
    self.connection
  File ""/home/rokapm/.virtualenvs/taiga/lib/python3.5/site-packages/kombu/connection.py"", line 802, in connection
    self._connection = self._establish_connection()
  File ""/home/rokapm/.virtualenvs/taiga/lib/python3.5/site-packages/kombu/connection.py"", line 757, in _establish_connection
    conn = self.transport.establish_connection()
  File ""/home/rokapm/.virtualenvs/taiga/lib/python3.5/site-packages/kombu/transport/pyamqp.py"", line 130, in establish_connection
    conn.connect()
  File ""/home/rokapm/.virtualenvs/taiga/lib/python3.5/site-packages/amqp/connection.py"", line 294, in connect
    self.transport.connect()
  File ""/home/rokapm/.virtualenvs/taiga/lib/python3.5/site-packages/amqp/transport.py"", line 120, in connect
    self._connect(self.host, self.port, self.connect_timeout)
  File ""/home/rokapm/.virtualenvs/taiga/lib/python3.5/site-packages/amqp/transport.py"", line 161, in _connect
    self.sock.connect(sa)
ConnectionRefusedError: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File ""/home/rokapm/.virtualenvs/taiga/lib/python3.5/site-packages/kombu/connection.py"", line 414, in _reraise_as_library_errors
    yield
  File ""/home/rokapm/.virtualenvs/taiga/lib/python3.5/site-packages/kombu/connection.py"", line 515, in _ensured
    reraise_as_library_errors=False,
  File ""/home/rokapm/.virtualenvs/taiga/lib/python3.5/site-packages/kombu/connection.py"", line 405, in ensure_connection
    callback)
  File ""/home/rokapm/.virtualenvs/taiga/lib/python3.5/site-packages/kombu/utils/functional.py"", line 333, in retry_over_time
    return fun(*args, **kwargs)
  File ""/home/rokapm/.virtualenvs/taiga/lib/python3.5/site-packages/kombu/connection.py"", line 261, in connect
    return self.connection
  File ""/home/rokapm/.virtualenvs/taiga/lib/python3.5/site-packages/kombu/connection.py"", line 802, in connection
    self._connection = self._establish_connection()
  File ""/home/rokapm/.virtualenvs/taiga/lib/python3.5/site-packages/kombu/connection.py"", line 757, in _establish_connection
    conn = self.transport.establish_connection()
  File ""/home/rokapm/.virtualenvs/taiga/lib/python3.5/site-packages/kombu/transport/pyamqp.py"", line 130, in establish_connection
    conn.connect()
  File ""/home/rokapm/.virtualenvs/taiga/lib/python3.5/site-packages/amqp/connection.py"", line 294, in connect
    self.transport.connect()
  File ""/home/rokapm/.virtualenvs/taiga/lib/python3.5/site-packages/amqp/transport.py"", line 120, in connect
    self._connect(self.host, self.port, self.connect_timeout)
  File ""/home/rokapm/.virtualenvs/taiga/lib/python3.5/site-packages/amqp/transport.py"", line 161, in _connect
    self.sock.connect(sa)
ConnectionRefusedError: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File ""/home/rokapm/.virtualenvs/taiga/lib/python3.5/site-packages/django/core/handlers/exception.py"", line 42, in inner
    response = get_response(request)
  File ""/home/rokapm/.virtualenvs/taiga/lib/python3.5/site-packages/django/core/handlers/base.py"", line 249, in _legacy_get_response
    response = self._get_response(request)
  File ""/home/rokapm/.virtualenvs/taiga/lib/python3.5/site-packages/django/core/handlers/base.py"", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File ""/home/rokapm/.virtualenvs/taiga/lib/python3.5/site-packages/django/core/handlers/base.py"", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File ""/home/rokapm/projects/taiga-back/taiga/base/api/viewsets.py"", line 106, in view
    return self.dispatch(request, *args, **kwargs)
  File ""/home/rokapm/.virtualenvs/taiga/lib/python3.5/site-packages/django/views/decorators/csrf.py"", line 58, in wrapped_view
    return view_func(*args, **kwargs)
  File ""/home/rokapm/projects/taiga-back/taiga/base/api/views.py"", line 461, in dispatch
    response = self.handle_exception(exc)
  File ""/home/rokapm/projects/taiga-back/taiga/base/api/views.py"", line 458, in dispatch
    response = handler(request, *args, **kwargs)
  File ""/home/rokapm/projects/taiga-back/taiga/projects/api.py"", line 481, in destroy
    self.pre_delete(obj)
  File ""/home/rokapm/projects/taiga-back/taiga/projects/history/mixins.py"", line 83, in pre_delete
    self.persist_history_snapshot(obj, delete=True)
  File ""/home/rokapm/projects/taiga-back/taiga/projects/history/mixins.py"", line 75, in persist_history_snapshot
    self.__last_history = take_snapshot(sobj, comment=comment, user=user, delete=delete)
  File ""/usr/lib/python3.5/contextlib.py"", line 30, in inner
    return func(*args, **kwds)
  File ""/home/rokapm/.virtualenvs/taiga/lib/python3.5/site-packages/django/db/transaction.py"", line 267, in __exit__
    connection.set_autocommit(True)
  File ""/home/rokapm/.virtualenvs/taiga/lib/python3.5/site-packages/django/db/backends/base/base.py"", line 396, in set_autocommit
    self.run_and_clear_commit_hooks()
  File ""/home/rokapm/.virtualenvs/taiga/lib/python3.5/site-packages/django/db/backends/base/base.py"", line 624, in run_and_clear_commit_hooks
    func()
  File ""/home/rokapm/projects/taiga-back/taiga/timeline/signals.py"", line 47, in <lambda>
    refresh_totals=refresh_totals))
  File ""/home/rokapm/.virtualenvs/taiga/lib/python3.5/site-packages/celery/app/task.py"", line 412, in delay
    return self.apply_async(args, kwargs)
  File ""/home/rokapm/.virtualenvs/taiga/lib/python3.5/site-packages/celery/app/task.py"", line 535, in apply_async
    **options
  File ""/home/rokapm/.virtualenvs/taiga/lib/python3.5/site-packages/celery/app/base.py"", line 737, in send_task
    amqp.send_task_message(P, name, message, **options)
  File ""/home/rokapm/.virtualenvs/taiga/lib/python3.5/site-packages/celery/app/amqp.py"", line 558, in send_task_message
    **properties
  File ""/home/rokapm/.virtualenvs/taiga/lib/python3.5/site-packages/kombu/messaging.py"", line 181, in publish
    exchange_name, declare,
  File ""/home/rokapm/.virtualenvs/taiga/lib/python3.5/site-packages/kombu/connection.py"", line 527, in _ensured
    errback and errback(exc, 0)
  File ""/usr/lib/python3.5/contextlib.py"", line 77, in __exit__
    self.gen.throw(type, value, traceback)
  File ""/home/rokapm/.virtualenvs/taiga/lib/python3.5/site-packages/kombu/connection.py"", line 419, in _reraise_as_library_errors
    sys.exc_info()[2])
  File ""/home/rokapm/.virtualenvs/taiga/lib/python3.5/site-packages/vine/five.py"", line 175, in reraise
    raise value.with_traceback(tb)
  File ""/home/rokapm/.virtualenvs/taiga/lib/python3.5/site-packages/kombu/connection.py"", line 414, in _reraise_as_library_errors
    yield
  File ""/home/rokapm/.virtualenvs/taiga/lib/python3.5/site-packages/kombu/connection.py"", line 515, in _ensured
    reraise_as_library_errors=False,
  File ""/home/rokapm/.virtualenvs/taiga/lib/python3.5/site-packages/kombu/connection.py"", line 405, in ensure_connection
    callback)
  File ""/home/rokapm/.virtualenvs/taiga/lib/python3.5/site-packages/kombu/utils/functional.py"", line 333, in retry_over_time
    return fun(*args, **kwargs)
  File ""/home/rokapm/.virtualenvs/taiga/lib/python3.5/site-packages/kombu/connection.py"", line 261, in connect
    return self.connection
  File ""/home/taiga/.virtualenvs/taiga/lib/python3.5/site-packages/kombu/connection.py"", line 802, in connection
    self._connection = self._establish_connection()
  File ""/home/taiga/.virtualenvs/taiga/lib/python3.5/site-packages/kombu/connection.py"", line 757, in _establish_connection
    conn = self.transport.establish_connection()
  File ""/home/taiga/.virtualenvs/taiga/lib/python3.5/site-packages/kombu/transport/pyamqp.py"", line 130, in establish_connection
    conn.connect()
  File ""/home/taiga/.virtualenvs/taiga/lib/python3.5/site-packages/amqp/connection.py"", line 294, in connect
    self.transport.connect()
  File ""/home/taiga/.virtualenvs/taiga/lib/python3.5/site-packages/amqp/transport.py"", line 120, in connect
    self._connect(self.host, self.port, self.connect_timeout)
  File ""/home/taiga/.virtualenvs/taiga/lib/python3.5/site-packages/amqp/transport.py"", line 161, in _connect
    self.sock.connect(sa)
kombu.exceptions.OperationalError: [Errno 111] Connection refused"
680,taigaio,taiga-back,4,closed,927,5,https://api.github.com/repos/taigaio/taiga-back/issues/927/comments,https://github.com/taigaio/taiga-back/issues/927,[],Role does not exist during backend installation,"Followed the installation procedure [here](https://taigaio.github.io/taiga-doc/dist/setup-production.html), on the **Populate the database with initial basic data**, I encountered the _role does not exist error_:

```
(taiga) dqlopez@ubuntu:~/taiga-back$ python manage.py migrate --noinput
Trying import local.py settings...
Trying import development.py settings...
Raven is not configured (logging is disabled). Please see the documentation for more information.
Traceback (most recent call last):
  File ""/home/dqlopez/.virtualenvs/taiga/lib/python3.5/site-packages/django/db/backends/base/base.py"", line 199, in ensure_connection
    self.connect()
  File ""/home/dqlopez/.virtualenvs/taiga/lib/python3.5/site-packages/django/db/backends/base/base.py"", line 171, in connect
    self.connection = self.get_new_connection(conn_params)
  File ""/home/dqlopez/.virtualenvs/taiga/lib/python3.5/site-packages/django/db/backends/postgresql/base.py"", line 175, in get_new_connection
    connection = Database.connect(**conn_params)
  File ""/home/dqlopez/.virtualenvs/taiga/lib/python3.5/site-packages/psycopg2/__init__.py"", line 164, in connect
    conn = _connect(dsn, connection_factory=connection_factory, async=async)
psycopg2.OperationalError: FATAL:  role ""dqlopez"" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File ""manage.py"", line 29, in <module>
    execute_from_command_line(sys.argv)
  File ""/home/dqlopez/.virtualenvs/taiga/lib/python3.5/site-packages/django/core/management/__init__.py"", line 353, in execute_from_command_line
    utility.execute()
  File ""/home/dqlopez/.virtualenvs/taiga/lib/python3.5/site-packages/django/core/management/__init__.py"", line 345, in execute
    self.fetch_command(subcommand).run_from_argv(self.argv)
  File ""/home/dqlopez/.virtualenvs/taiga/lib/python3.5/site-packages/django/core/management/base.py"", line 348, in run_from_argv
    self.execute(*args, **cmd_options)
  File ""/home/dqlopez/.virtualenvs/taiga/lib/python3.5/site-packages/raven/contrib/django/management/__init__.py"", line 41, in new_execute
    return original_func(self, *args, **kwargs)
  File ""/home/dqlopez/.virtualenvs/taiga/lib/python3.5/site-packages/django/core/management/base.py"", line 399, in execute
    output = self.handle(*args, **options)
  File ""/home/dqlopez/.virtualenvs/taiga/lib/python3.5/site-packages/django/core/management/commands/migrate.py"", line 89, in handle
    executor = MigrationExecutor(connection, self.migration_progress_callback)
  File ""/home/dqlopez/.virtualenvs/taiga/lib/python3.5/site-packages/django/db/migrations/executor.py"", line 20, in __init__
    self.loader = MigrationLoader(self.connection)
  File ""/home/dqlopez/.virtualenvs/taiga/lib/python3.5/site-packages/django/db/migrations/loader.py"", line 49, in __init__
    self.build_graph()
  File ""/home/dqlopez/.virtualenvs/taiga/lib/python3.5/site-packages/django/db/migrations/loader.py"", line 176, in build_graph
    self.applied_migrations = recorder.applied_migrations()
  File ""/home/dqlopez/.virtualenvs/taiga/lib/python3.5/site-packages/django/db/migrations/recorder.py"", line 65, in applied_migrations
    self.ensure_schema()
  File ""/home/dqlopez/.virtualenvs/taiga/lib/python3.5/site-packages/django/db/migrations/recorder.py"", line 52, in ensure_schema
    if self.Migration._meta.db_table in self.connection.introspection.table_names(self.connection.cursor()):
  File ""/home/dqlopez/.virtualenvs/taiga/lib/python3.5/site-packages/django/db/backends/base/base.py"", line 231, in cursor
    cursor = self.make_debug_cursor(self._cursor())
  File ""/home/dqlopez/.virtualenvs/taiga/lib/python3.5/site-packages/django/db/backends/base/base.py"", line 204, in _cursor
    self.ensure_connection()
  File ""/home/dqlopez/.virtualenvs/taiga/lib/python3.5/site-packages/django/db/backends/base/base.py"", line 199, in ensure_connection
    self.connect()
  File ""/home/dqlopez/.virtualenvs/taiga/lib/python3.5/site-packages/django/db/utils.py"", line 95, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File ""/home/dqlopez/.virtualenvs/taiga/lib/python3.5/site-packages/django/utils/six.py"", line 685, in reraise
    raise value.with_traceback(tb)
  File ""/home/dqlopez/.virtualenvs/taiga/lib/python3.5/site-packages/django/db/backends/base/base.py"", line 199, in ensure_connection
    self.connect()
  File ""/home/dqlopez/.virtualenvs/taiga/lib/python3.5/site-packages/django/db/backends/base/base.py"", line 171, in connect
    self.connection = self.get_new_connection(conn_params)
  File ""/home/dqlopez/.virtualenvs/taiga/lib/python3.5/site-packages/django/db/backends/postgresql/base.py"", line 175, in get_new_connection
    connection = Database.connect(**conn_params)
  File ""/home/dqlopez/.virtualenvs/taiga/lib/python3.5/site-packages/psycopg2/__init__.py"", line 164, in connect
    conn = _connect(dsn, connection_factory=connection_factory, async=async)
django.db.utils.OperationalError: FATAL:  role ""dqlopez"" does not exist
```

Am I right that this is Postgres related issue? If thus what is the recommended approach to resolve this?
"
711,taigaio,taiga-back,5,closed,882,1,https://api.github.com/repos/taigaio/taiga-back/issues/882/comments,https://github.com/taigaio/taiga-back/issues/882,[],"conn = _connect(dsn, connection_factory=connection_factory, async=async) django.db.utils.OperationalError: FATAL: role ""mathiasburton"" does not exist","**Before adding an issue**
Please ensure that your issue is not already reported in our [issues list](https://tree.taiga.io/project/taiga/issues?order_by=-created_date).
If this issue was already reported, remember that you can upvote it to raise its importance.
I found similar issues, but not mine. 

**Do you want to request a *feature* or report a *bug*?**
report a bug

**What is the current behavior?**
conn = _connect(dsn, connection_factory=connection_factory, async=async) django.db.utils.OperationalError: FATAL: role ""mathiasburton"" does not exist

**If the current behavior is a bug, please provide the steps to reproduce.**
I am trying to set up Taiga on an Azure ubuntu image. Most of the process has gone smoothly until I tried to populate the initial data. I'm following from http://taigaio.github.io/taiga-doc/dist/setup-production.html

I tried to run
python
 manage.py migrate —noinput

That gave me the error: 
conn = _connect(dsn, connection_factory=connection_factory, async=async) django.db.utils.OperationalError: FATAL: role ""mathiasburton"" does not exist

I tried to follow advice from:
http://stackoverflow.com/questions/12316819/django-database-connection-error 

and input 
psql -u postgres createuser -P mathiasburton

I got back 
/usr/lib/postgresql/9.5/bin/psql: invalid option -- 'u'

**What is the expected behavior?**
I was expecting to complete the initial data and have a new user admin with password 123123.

**Is it happening in taiga.io or in your own instance?**
my own instance on installation

**What browser/version are you using?**
I'm on an ubuntu image on Microsoft Azure on a mac, working in Chrome.

**Are there any console errors *(Ctrl + F12)* in red?**
no 

Thanks for reporting!
"
1007,taigaio,taiga-back,8,closed,544,2,https://api.github.com/repos/taigaio/taiga-back/issues/544/comments,https://github.com/taigaio/taiga-back/issues/544,[],"psycopg2.OperationalError: FATAL:  role ""admin"" does not exist","Hello I'm trying to deploy an instance from stable branch and when i try to create the database 

```
python manage.py migrate --noinput
```

I got 

```
Trying import local.py settings...
Trying import development.py settings...
Raven is not configured (logging is disabled). Please see the documentation for more information.
Traceback (most recent call last):
  File ""/home/admin/taiga-back/taiga/lib/python3.4/site-packages/django/db/backends/base/base.py"", line 130, in ensure_connection
    self.connect()
  File ""/home/admin/taiga-back/taiga/lib/python3.4/site-packages/transaction_hooks/mixin.py"", line 75, in connect
    super(TransactionHooksDatabaseWrapperMixin, self).connect(*a, **kw)
  File ""/home/admin/taiga-back/taiga/lib/python3.4/site-packages/django/db/backends/base/base.py"", line 119, in connect
    self.connection = self.get_new_connection(conn_params)
  File ""/home/admin/taiga-back/taiga/lib/python3.4/site-packages/django/db/backends/postgresql_psycopg2/base.py"", line 176, in get_new_connection
    connection = Database.connect(**conn_params)
  File ""/home/admin/taiga-back/taiga/lib/python3.4/site-packages/psycopg2/__init__.py"", line 164, in connect
    conn = _connect(dsn, connection_factory=connection_factory, async=async)
psycopg2.OperationalError: FATAL:  role ""admin"" does not exist


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File ""manage.py"", line 10, in <module>
    execute_from_command_line(sys.argv)
  File ""/home/admin/taiga-back/taiga/lib/python3.4/site-packages/django/core/management/__init__.py"", line 354, in execute_from_command_line
    utility.execute()
  File ""/home/admin/taiga-back/taiga/lib/python3.4/site-packages/django/core/management/__init__.py"", line 346, in execute
    self.fetch_command(subcommand).run_from_argv(self.argv)
  File ""/home/admin/taiga-back/taiga/lib/python3.4/site-packages/django/core/management/base.py"", line 394, in run_from_argv
    self.execute(*args, **cmd_options)
  File ""/home/admin/taiga-back/taiga/lib/python3.4/site-packages/raven/contrib/django/management/__init__.py"", line 41, in new_execute
    return original_func(self, *args, **kwargs)
  File ""/home/admin/taiga-back/taiga/lib/python3.4/site-packages/django/core/management/base.py"", line 445, in execute
    output = self.handle(*args, **options)
  File ""/home/admin/taiga-back/taiga/lib/python3.4/site-packages/django/core/management/commands/migrate.py"", line 93, in handle
    executor = MigrationExecutor(connection, self.migration_progress_callback)
  File ""/home/admin/taiga-back/taiga/lib/python3.4/site-packages/django/db/migrations/executor.py"", line 19, in __init__
    self.loader = MigrationLoader(self.connection)
  File ""/home/admin/taiga-back/taiga/lib/python3.4/site-packages/django/db/migrations/loader.py"", line 47, in __init__
    self.build_graph()
  File ""/home/admin/taiga-back/taiga/lib/python3.4/site-packages/django/db/migrations/loader.py"", line 188, in build_graph
    self.applied_migrations = recorder.applied_migrations()
  File ""/home/admin/taiga-back/taiga/lib/python3.4/site-packages/django/db/migrations/recorder.py"", line 59, in applied_migrations
    self.ensure_schema()
  File ""/home/admin/taiga-back/taiga/lib/python3.4/site-packages/django/db/migrations/recorder.py"", line 49, in ensure_schema
    if self.Migration._meta.db_table in self.connection.introspection.table_names(self.connection.cursor()):
  File ""/home/admin/taiga-back/taiga/lib/python3.4/site-packages/django/db/backends/base/base.py"", line 162, in cursor
    cursor = self.make_debug_cursor(self._cursor())
  File ""/home/admin/taiga-back/taiga/lib/python3.4/site-packages/django/db/backends/base/base.py"", line 135, in _cursor
    self.ensure_connection()
  File ""/home/admin/taiga-back/taiga/lib/python3.4/site-packages/django/db/backends/base/base.py"", line 130, in ensure_connection
    self.connect()
  File ""/home/admin/taiga-back/taiga/lib/python3.4/site-packages/django/db/utils.py"", line 98, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File ""/home/admin/taiga-back/taiga/lib/python3.4/site-packages/django/utils/six.py"", line 658, in reraise
    raise value.with_traceback(tb)
  File ""/home/admin/taiga-back/taiga/lib/python3.4/site-packages/django/db/backends/base/base.py"", line 130, in ensure_connection
    self.connect()
  File ""/home/admin/taiga-back/taiga/lib/python3.4/site-packages/transaction_hooks/mixin.py"", line 75, in connect
    super(TransactionHooksDatabaseWrapperMixin, self).connect(*a, **kw)
  File ""/home/admin/taiga-back/taiga/lib/python3.4/site-packages/django/db/backends/base/base.py"", line 119, in connect
    self.connection = self.get_new_connection(conn_params)
  File ""/home/admin/taiga-back/taiga/lib/python3.4/site-packages/django/db/backends/postgresql_psycopg2/base.py"", line 176, in get_new_connection
    connection = Database.connect(**conn_params)
  File ""/home/admin/taiga-back/taiga/lib/python3.4/site-packages/psycopg2/__init__.py"", line 164, in connect
    conn = _connect(dsn, connection_factory=connection_factory, async=async)
django.db.utils.OperationalError: FATAL:  role ""admin"" does not exist
```
"
1146,taigaio,taiga-back,9,closed,387,2,https://api.github.com/repos/taigaio/taiga-back/issues/387/comments,https://github.com/taigaio/taiga-back/issues/387,[],role root does not exists,"I tried to install taiga as per the document http://taigaio.github.io/taiga-doc/dist/setup-production.html

but ran into issues after the command
python manage.py migrate --noinput
Trying import local.py settings...
Trying import development.py settings...
Traceback (most recent call last):
  File ""/home/taiga-back/env/lib/python3.4/site-packages/django/db/backends/**init**.py"", line 133, in ensure_connection
    self.connect()
  File ""/home/taiga-back/env/lib/python3.4/site-packages/transaction_hooks/mixin.py"", line 75, in connect
    super(TransactionHooksDatabaseWrapperMixin, self).connect(_a, *_kw)
  File ""/home/taiga-back/env/lib/python3.4/site-packages/django/db/backends/**init**.py"", line 122, in connect
    self.connection = self.get_new_connection(conn_params)
  File ""/home/taiga-back/env/lib/python3.4/site-packages/django/db/backends/postgresql_psycopg2/base.py"", line 130, in get_new_connection
    connection = Database.connect(**conn_params)
  File ""/home/taiga-back/env/lib/python3.4/site-packages/psycopg2/**init**.py"", line 164, in connect
    conn = _connect(dsn, connection_factory=connection_factory, async=async)
psycopg2.OperationalError: FATAL:  role ""root"" does not exist
"
1265,taigaio,taiga-back,10,closed,261,3,https://api.github.com/repos/taigaio/taiga-back/issues/261/comments,https://github.com/taigaio/taiga-back/issues/261,[],Installation Issues,"Just cloned Taigo, and started running through the installation instructions, but I came up against the following issues.

Firstly, it seems there are two missing two dependencies from your requirements.txt file: kombu and billiard. Once I installed those, things moved on (a bit).

Secondly, on the initial ""migrate"", I get the following error:

psycopg2.OperationalError: could not connect to server: No such file or directory
        Is the server running locally and accepting
        connections on Unix domain socket ""/var/run/postgresql/.s.PGSQL.5432""?

I went and had a brief look in settings/common.py and it appears that you're trying to use PostgreSQL, but there are no instructions that mention that, nor mention of where to put the username and password I'll inevitably need.

I'm a Python dev, but not a Django dev, so I am a bit lost as to where to go from here.
"
2540,nitely,Spirit,2,closed,177,3,https://api.github.com/repos/nitely/Spirit/issues/177/comments,https://github.com/nitely/Spirit/issues/177,[],no such table: djconfig_config,"```
OperationalError at /

no such table: djconfig_config
```

Hello I am using Spirit for the first time. To start I am installing it as a standalone project. 
I get the above error when I run the app, from django debugger. 

I tried python manage.py migrate again but it said no migrations

The settings.py was in the example project didn't have database settings, so I added these: - 

> BASE_DIR = os.path.dirname(os.path.dirname(os.path.abspath(__file__)))
> 
> DATABASES = {
>     'default': {
>         'ENGINE': 'django.db.backends.sqlite3',
>         'NAME': os.path.join(BASE_DIR, 'db.sqlite3'),
>     }
> }

Any idea how I can fix this error? "
2867,mirumee,saleor,3,closed,4026,3,https://api.github.com/repos/mirumee/saleor/issues/4026/comments,https://github.com/mirumee/saleor/issues/4026,[],Issue: Connecting with default postgresql credentials,"OS = Ubuntu 18.04
Python = 3.6.7
PIP =  9.0.1 from /usr/lib/python3/dist-packages (python 3.6)

Here's what I've done:

1). sudo apt-get install build-essential python3-dev python3-pip python3-cffi libcairo2 libpango-1.0-0 libpangocairo-1.0-0 libgdk-pixbuf2.0-0 libffi-dev shared-mime-info postgresql postgresql-contrib

2).  git clone https://github.com/mirumee/saleor.git

3). cd saleor

4).  pip install -r requirements.txt 

5). Created a user with password and database (other then saleor) in PostgreSQL and attached it to the database with all privileges. 

6). Edited common.env  (cat ./common.env = 
```
DATABASE_URL=postgresql://user:password@127.0.0.1:5432/userdatabase
DEFAULT_FROM_EMAIL=noreply@example.com
OPENEXCHANGERATES_API_KEY
CACHE_URL=redis://redis:6379/0
CELERY_BROKER_URL=redis://redis:6379/1
SECRET_KEY=32 character key
JWT_VERIFY_EXPIRATION=True
VATLAYER_ACCESS_KEY)
```

7). Run 'python manage.py migrate' and got the following error:

```
Traceback (most recent call last):
  File ""/home/vihit/.local/lib/python3.6/site-packages/django/db/backends/base/base.py"", line 217, in ensure_connection
    self.connect()
  File ""/home/vihit/.local/lib/python3.6/site-packages/django/db/backends/base/base.py"", line 195, in connect
    self.connection = self.get_new_connection(conn_params)
  File ""/home/vihit/.local/lib/python3.6/site-packages/django/db/backends/postgresql/base.py"", line 178, in get_new_connection
    connection = Database.connect(**conn_params)
  File ""/home/vihit/.local/lib/python3.6/site-packages/psycopg2/__init__.py"", line 126, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
psycopg2.OperationalError: FATAL:  password authentication failed for user ""saleor""
FATAL:  password authentication failed for user ""saleor""


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File ""manage.py"", line 10, in <module>
    execute_from_command_line(sys.argv)
  File ""/home/vihit/.local/lib/python3.6/site-packages/django/core/management/__init__.py"", line 381, in execute_from_command_line
    utility.execute()
  File ""/home/vihit/.local/lib/python3.6/site-packages/django/core/management/__init__.py"", line 375, in execute
    self.fetch_command(subcommand).run_from_argv(self.argv)
  File ""/home/vihit/.local/lib/python3.6/site-packages/django/core/management/base.py"", line 323, in run_from_argv
    self.execute(*args, **cmd_options)
  File ""/home/vihit/.local/lib/python3.6/site-packages/django/core/management/base.py"", line 364, in execute
    output = self.handle(*args, **options)
  File ""/home/vihit/.local/lib/python3.6/site-packages/django/core/management/base.py"", line 83, in wrapped
    res = handle_func(*args, **kwargs)
  File ""/home/vihit/.local/lib/python3.6/site-packages/django/core/management/commands/migrate.py"", line 87, in handle
    executor = MigrationExecutor(connection, self.migration_progress_callback)
  File ""/home/vihit/.local/lib/python3.6/site-packages/django/db/migrations/executor.py"", line 18, in __init__
    self.loader = MigrationLoader(self.connection)
  File ""/home/vihit/.local/lib/python3.6/site-packages/django/db/migrations/loader.py"", line 49, in __init__
    self.build_graph()
  File ""/home/vihit/.local/lib/python3.6/site-packages/django/db/migrations/loader.py"", line 212, in build_graph
    self.applied_migrations = recorder.applied_migrations()
  File ""/home/vihit/.local/lib/python3.6/site-packages/django/db/migrations/recorder.py"", line 73, in applied_migrations
    if self.has_table():
  File ""/home/vihit/.local/lib/python3.6/site-packages/django/db/migrations/recorder.py"", line 56, in has_table
    return self.Migration._meta.db_table in self.connection.introspection.table_names(self.connection.cursor())
  File ""/home/vihit/.local/lib/python3.6/site-packages/django/db/backends/base/base.py"", line 256, in cursor
    return self._cursor()
  File ""/home/vihit/.local/lib/python3.6/site-packages/django/db/backends/base/base.py"", line 233, in _cursor
    self.ensure_connection()
  File ""/home/vihit/.local/lib/python3.6/site-packages/django/db/backends/base/base.py"", line 217, in ensure_connection
    self.connect()
  File ""/home/vihit/.local/lib/python3.6/site-packages/django/db/utils.py"", line 89, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File ""/home/vihit/.local/lib/python3.6/site-packages/django/db/backends/base/base.py"", line 217, in ensure_connection
    self.connect()
  File ""/home/vihit/.local/lib/python3.6/site-packages/django/db/backends/base/base.py"", line 195, in connect
    self.connection = self.get_new_connection(conn_params)
  File ""/home/vihit/.local/lib/python3.6/site-packages/django/db/backends/postgresql/base.py"", line 178, in get_new_connection
    connection = Database.connect(**conn_params)
  File ""/home/vihit/.local/lib/python3.6/site-packages/psycopg2/__init__.py"", line 126, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
django.db.utils.OperationalError: FATAL:  password authentication failed for user ""saleor""
FATAL:  password authentication failed for user ""saleor""
```

Output of command 
```
psql ppostgresql::/user:password@127.0.0.1:5432/userdatabase
```

```

psql (10.7 (Ubuntu 10.7-0ubuntu0.18.04.1))
SSL connection (protocol: TLSv1.2, cipher: ECDHE-RSA-AES256-GCM-SHA384, bits: 256, compression: off)
Type ""help"" for help.

userdatabase=>
```"
3581,mirumee,saleor,10,closed,3193,16,https://api.github.com/repos/mirumee/saleor/issues/3193/comments,https://github.com/mirumee/saleor/issues/3193,[],operational Error ,"when i was installing the saleor project in my windows 10 than i have a issue with "" python manage.py  migrate "" command on my powershell , please give me the right solution . thanks 
the powershell text are as follows -
File ""F:\myprojects\lib\site-packages\psycopg2\__init__.py"", line 130, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
django.db.utils.OperationalError: FATAL:  password authentication failed for user ""saleor"""
4442,mirumee,saleor,19,closed,2244,3,https://api.github.com/repos/mirumee/saleor/issues/2244/comments,https://github.com/mirumee/saleor/issues/2244,[],hstore.control error meanwhile db migration,"(Please take the time and describe the problem you're having before you propose a solution.)

### What I'm trying to achieve
i'm having some trouble during the migration of the db
because there is an exception about the migration of the table 
 Applying product.0021_add_hstore_extension.
but the other tables are migrated correctly
i'm using linux mint , postgres 9.5 
...

### Steps to reproduce the problem

1. python manage.py migrate

### What I expected to happen
the migration of the db
yes is done, but the erroe on that extension.
my user i did as a superuser
### What happened instead/how it failed

...

(Please include a stack trace if this problem results in a crash.)

python manage.py migrate
System check identified some issues:

WARNINGS:
saleor.W001: Session caching cannot work with locmem backend
	HINT: User sessions need to be globally shared, use a cache server like Redis.
Operations to perform:
  Apply all migrations: account, auth, checkout, contenttypes, discount, django_celery_results, django_prices_openexchangerates, django_prices_vatlayer, impersonate, menu, order, page, product, sessions, shipping, site, sites, social_django
Running migrations:
  Applying product.0021_add_hstore_extension...Traceback (most recent call last):
  File ""/var/www/html/saleor/tutorial-env/lib/python3.5/site-packages/django/db/backends/utils.py"", line 85, in _execute
    return self.cursor.execute(sql, params)
psycopg2.OperationalError: could not open extension control file ""/usr/share/postgresql/9.5/extension/hstore.control"": No such file or directory


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File ""manage.py"", line 10, in <module>
    execute_from_command_line(sys.argv)
  File ""/var/www/html/saleor/tutorial-env/lib/python3.5/site-packages/django/core/management/__init__.py"", line 371, in execute_from_command_line
    utility.execute()
  File ""/var/www/html/saleor/tutorial-env/lib/python3.5/site-packages/django/core/management/__init__.py"", line 365, in execute
    self.fetch_command(subcommand).run_from_argv(self.argv)
  File ""/var/www/html/saleor/tutorial-env/lib/python3.5/site-packages/django/core/management/base.py"", line 288, in run_from_argv
    self.execute(*args, **cmd_options)
  File ""/var/www/html/saleor/tutorial-env/lib/python3.5/site-packages/django/core/management/base.py"", line 335, in execute
    output = self.handle(*args, **options)
  File ""/var/www/html/saleor/tutorial-env/lib/python3.5/site-packages/django/core/management/commands/migrate.py"", line 200, in handle
    fake_initial=fake_initial,
  File ""/var/www/html/saleor/tutorial-env/lib/python3.5/site-packages/django/db/migrations/executor.py"", line 117, in migrate
    state = self._migrate_all_forwards(state, plan, full_plan, fake=fake, fake_initial=fake_initial)
  File ""/var/www/html/saleor/tutorial-env/lib/python3.5/site-packages/django/db/migrations/executor.py"", line 147, in _migrate_all_forwards
    state = self.apply_migration(state, migration, fake=fake, fake_initial=fake_initial)
  File ""/var/www/html/saleor/tutorial-env/lib/python3.5/site-packages/django/db/migrations/executor.py"", line 244, in apply_migration
    state = migration.apply(state, schema_editor)
  File ""/var/www/html/saleor/tutorial-env/lib/python3.5/site-packages/django/db/migrations/migration.py"", line 122, in apply
    operation.database_forwards(self.app_label, schema_editor, old_state, project_state)
  File ""/var/www/html/saleor/tutorial-env/lib/python3.5/site-packages/django/contrib/postgres/operations.py"", line 19, in database_forwards
    schema_editor.execute(""CREATE EXTENSION IF NOT EXISTS %s"" % schema_editor.quote_name(self.name))
  File ""/var/www/html/saleor/tutorial-env/lib/python3.5/site-packages/django/db/backends/base/schema.py"", line 117, in execute
    cursor.execute(sql, params)
  File ""/var/www/html/saleor/tutorial-env/lib/python3.5/site-packages/django/db/backends/utils.py"", line 100, in execute
    return super().execute(sql, params)
  File ""/var/www/html/saleor/tutorial-env/lib/python3.5/site-packages/django/db/backends/utils.py"", line 68, in execute
    return self._execute_with_wrappers(sql, params, many=False, executor=self._execute)
  File ""/var/www/html/saleor/tutorial-env/lib/python3.5/site-packages/django/db/backends/utils.py"", line 77, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File ""/var/www/html/saleor/tutorial-env/lib/python3.5/site-packages/django/db/backends/utils.py"", line 85, in _execute
    return self.cursor.execute(sql, params)
  File ""/var/www/html/saleor/tutorial-env/lib/python3.5/site-packages/django/db/utils.py"", line 89, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File ""/var/www/html/saleor/tutorial-env/lib/python3.5/site-packages/django/db/backends/utils.py"", line 85, in _execute
    return self.cursor.execute(sql, params)
django.db.utils.OperationalError: could not open extension control file ""/usr/share/postgresql/9.5/extension/hstore.control"": No such file or directory

"
4450,mirumee,saleor,19,closed,2236,6,https://api.github.com/repos/mirumee/saleor/issues/2236/comments,https://github.com/mirumee/saleor/issues/2236,"[{""default"": true, ""name"": ""bug"", ""url"": ""https://api.github.com/repos/mirumee/saleor/labels/bug"", ""color"": ""fc2929"", ""node_id"": ""MDU6TGFiZWwyODE5MjMzMQ=="", ""id"": 28192331}]",Cart migration fails: cannot drop/alter table `cart_cart`,"It looks like merging cart with checkout generated a migration that causes problems:

```console
$ python manage.py migrate --no-input
...
Running migrations:
  Applying checkout.0007_merge_cart_with_checkout...Traceback (most recent call last):
  File ""/app/.heroku/python/lib/python3.6/site-packages/django/db/backends/utils.py"", line 85, in _execute
    return self.cursor.execute(sql, params)
psycopg2.OperationalError: cannot ALTER TABLE ""cart_cart"" because it has pending trigger events
```"
4477,mirumee,saleor,19,closed,2209,18,https://api.github.com/repos/mirumee/saleor/issues/2209/comments,https://github.com/mirumee/saleor/issues/2209,[],Unable to install saleor,"Did create a database named saleor with ""createdb saleor""
Did create a superuser named saleor with ""createuser -s --pwprompt saleor""
Password for the super user is as default ""saleor""

I am not sure why am i getting this error. I did find some similar issues and fallowed them through but did not solve my problem. I would really appreciate any help.

```
(ecommerce) [root@site saleor]# python manage.py migrate
System check identified some issues:

WARNINGS:
saleor.W001: Session caching cannot work with locmem backend
	HINT: User sessions need to be globally shared, use a cache server like Redis.
Traceback (most recent call last):
  File ""/root/environments/ecommerce/lib/python3.6/site-packages/django/db/backends/base/base.py"", line 216, in ensure_connection
    self.connect()
  File ""/root/environments/ecommerce/lib/python3.6/site-packages/django/db/backends/base/base.py"", line 194, in connect
    self.connection = self.get_new_connection(conn_params)
  File ""/root/environments/ecommerce/lib/python3.6/site-packages/django/db/backends/postgresql/base.py"", line 168, in get_new_connection
    connection = Database.connect(**conn_params)
  File ""/root/environments/ecommerce/lib/python3.6/site-packages/psycopg2/__init__.py"", line 130, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
psycopg2.OperationalError: FATAL:  Ident authentication failed for user ""saleor""


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File ""manage.py"", line 10, in <module>
    execute_from_command_line(sys.argv)
  File ""/root/environments/ecommerce/lib/python3.6/site-packages/django/core/management/__init__.py"", line 371, in execute_from_command_line
    utility.execute()
  File ""/root/environments/ecommerce/lib/python3.6/site-packages/django/core/management/__init__.py"", line 365, in execute
    self.fetch_command(subcommand).run_from_argv(self.argv)
  File ""/root/environments/ecommerce/lib/python3.6/site-packages/django/core/management/base.py"", line 288, in run_from_argv
    self.execute(*args, **cmd_options)
  File ""/root/environments/ecommerce/lib/python3.6/site-packages/django/core/management/base.py"", line 335, in execute
    output = self.handle(*args, **options)
  File ""/root/environments/ecommerce/lib/python3.6/site-packages/django/core/management/commands/migrate.py"", line 79, in handle
    executor = MigrationExecutor(connection, self.migration_progress_callback)
  File ""/root/environments/ecommerce/lib/python3.6/site-packages/django/db/migrations/executor.py"", line 18, in __init__
    self.loader = MigrationLoader(self.connection)
  File ""/root/environments/ecommerce/lib/python3.6/site-packages/django/db/migrations/loader.py"", line 49, in __init__
    self.build_graph()
  File ""/root/environments/ecommerce/lib/python3.6/site-packages/django/db/migrations/loader.py"", line 206, in build_graph
    self.applied_migrations = recorder.applied_migrations()
  File ""/root/environments/ecommerce/lib/python3.6/site-packages/django/db/migrations/recorder.py"", line 61, in applied_migrations
    if self.has_table():
  File ""/root/environments/ecommerce/lib/python3.6/site-packages/django/db/migrations/recorder.py"", line 44, in has_table
    return self.Migration._meta.db_table in self.connection.introspection.table_names(self.connection.cursor())
  File ""/root/environments/ecommerce/lib/python3.6/site-packages/django/db/backends/base/base.py"", line 255, in cursor
    return self._cursor()
  File ""/root/environments/ecommerce/lib/python3.6/site-packages/django/db/backends/base/base.py"", line 232, in _cursor
    self.ensure_connection()
  File ""/root/environments/ecommerce/lib/python3.6/site-packages/django/db/backends/base/base.py"", line 216, in ensure_connection
    self.connect()
  File ""/root/environments/ecommerce/lib/python3.6/site-packages/django/db/utils.py"", line 89, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File ""/root/environments/ecommerce/lib/python3.6/site-packages/django/db/backends/base/base.py"", line 216, in ensure_connection
    self.connect()
  File ""/root/environments/ecommerce/lib/python3.6/site-packages/django/db/backends/base/base.py"", line 194, in connect
    self.connection = self.get_new_connection(conn_params)
  File ""/root/environments/ecommerce/lib/python3.6/site-packages/django/db/backends/postgresql/base.py"", line 168, in get_new_connection
    connection = Database.connect(**conn_params)
  File ""/root/environments/ecommerce/lib/python3.6/site-packages/psycopg2/__init__.py"", line 130, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
django.db.utils.OperationalError: FATAL:  Ident authentication failed for user ""saleor""
```"
4549,mirumee,saleor,20,closed,2125,3,https://api.github.com/repos/mirumee/saleor/issues/2125/comments,https://github.com/mirumee/saleor/issues/2125,[],saleor.W001: Session caching cannot work with locmem backend,"I was installing Saleor and had the following problem after the migration:
```

Unhandled exception in thread started by <function check_errors.<locals>.wrapper at 0x7feb5d026400>
Traceback (most recent call last):
  File ""/home/scripts/saleor/shop/lib/python3.6/site-packages/django/db/backends/base/base.py"", line 216, in ensure_connection
    self.connect()
  File ""/home/scripts/saleor/shop/lib/python3.6/site-packages/django/db/backends/base/base.py"", line 194, in connect
    self.connection = self.get_new_connection(conn_params)
  File ""/home/scripts/saleor/shop/lib/python3.6/site-packages/django/db/backends/postgresql/base.py"", line 168, in get_new_connection
    connection = Database.connect(**conn_params)
  File ""/home/scripts/saleor/shop/lib/python3.6/site-packages/psycopg2/__init__.py"", line 130, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
psycopg2.OperationalError: could not translate host name ""saleor"" to address: Name or service not known
```


he above exception was the direct cause of the following exception:

```
Traceback (most recent call last):
  File ""/home/scripts/saleor/shop/lib/python3.6/site-packages/django/utils/autoreload.py"", line 225, in wrapper
    fn(*args, **kwargs)
  File ""/home/scripts/saleor/shop/lib/python3.6/site-packages/django/core/management/commands/runserver.py"", line 123, in inner_run
    self.check_migrations()
  File ""/home/scripts/saleor/shop/lib/python3.6/site-packages/django/core/management/base.py"", line 427, in check_migrations
    executor = MigrationExecutor(connections[DEFAULT_DB_ALIAS])
  File ""/home/scripts/saleor/shop/lib/python3.6/site-packages/django/db/migrations/executor.py"", line 18, in __init__
    self.loader = MigrationLoader(self.connection)
  File ""/home/scripts/saleor/shop/lib/python3.6/site-packages/django/db/migrations/loader.py"", line 49, in __init__
    self.build_graph()
  File ""/home/scripts/saleor/shop/lib/python3.6/site-packages/django/db/migrations/loader.py"", line 206, in build_graph
    self.applied_migrations = recorder.applied_migrations()
  File ""/home/scripts/saleor/shop/lib/python3.6/site-packages/django/db/migrations/recorder.py"", line 61, in applied_migrations
    if self.has_table():
  File ""/home/scripts/saleor/shop/lib/python3.6/site-packages/django/db/migrations/recorder.py"", line 44, in has_table
    return self.Migration._meta.db_table in self.connection.introspection.table_names(self.connection.cursor())
  File ""/home/scripts/saleor/shop/lib/python3.6/site-packages/django/db/backends/base/base.py"", line 255, in cursor
    return self._cursor()
  File ""/home/scripts/saleor/shop/lib/python3.6/site-packages/django/db/backends/base/base.py"", line 232, in _cursor
    self.ensure_connection()
  File ""/home/scripts/saleor/shop/lib/python3.6/site-packages/django/db/backends/base/base.py"", line 216, in ensure_connection
    self.connect()
  File ""/home/scripts/saleor/shop/lib/python3.6/site-packages/django/db/utils.py"", line 89, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File ""/home/scripts/saleor/shop/lib/python3.6/site-packages/django/db/backends/base/base.py"", line 216, in ensure_connection
    self.connect()
  File ""/home/scripts/saleor/shop/lib/python3.6/site-packages/django/db/backends/base/base.py"", line 194, in connect
    self.connection = self.get_new_connection(conn_params)
  File ""/home/scripts/saleor/shop/lib/python3.6/site-packages/django/db/backends/postgresql/base.py"", line 168, in get_new_connection
    connection = Database.connect(**conn_params)
  File ""/home/scripts/saleor/shop/lib/python3.6/site-packages/psycopg2/__init__.py"", line 130, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
django.db.utils.OperationalError: could not translate host name ""saleor"" to address: Name or service not known
`
```

I read the other topics related to this problem, but It didn't helo me, I need to run ASAP. thank you
"
5134,mirumee,saleor,26,closed,1496,2,https://api.github.com/repos/mirumee/saleor/issues/1496/comments,https://github.com/mirumee/saleor/issues/1496,[],can not continue ; error ,"`Performing system checks...

System check identified some issues:

WARNINGS:
saleor.W001: Session caching cannot work with locmem backend
	HINT: User sessions need to be globally shared, use a cache server like Redis.

System check identified 1 issue (0 silenced).
Unhandled exception in thread started by <function check_errors.<locals>.wrapper at 0x11465b048>
Traceback (most recent call last):
  File ""/Users/robiulislam/anaconda3/lib/python3.6/site-packages/django/db/backends/base/base.py"", line 213, in ensure_connection
    self.connect()
  File ""/Users/robiulislam/anaconda3/lib/python3.6/site-packages/django/db/backends/base/base.py"", line 189, in connect
    self.connection = self.get_new_connection(conn_params)
  File ""/Users/robiulislam/anaconda3/lib/python3.6/site-packages/django/db/backends/postgresql/base.py"", line 176, in get_new_connection
    connection = Database.connect(**conn_params)
  File ""/Users/robiulislam/anaconda3/lib/python3.6/site-packages/psycopg2/__init__.py"", line 130, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
psycopg2.OperationalError: could not connect to server: Connection refused
	Is the server running on host ""localhost"" (::1) and accepting
	TCP/IP connections on port 5432?
could not connect to server: Connection refused
	Is the server running on host ""localhost"" (127.0.0.1) and accepting
	TCP/IP connections on port 5432?


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File ""/Users/robiulislam/anaconda3/lib/python3.6/site-packages/django/utils/autoreload.py"", line 228, in wrapper
    fn(*args, **kwargs)
  File ""/Users/robiulislam/anaconda3/lib/python3.6/site-packages/django/core/management/commands/runserver.py"", line 128, in inner_run
    self.check_migrations()
  File ""/Users/robiulislam/anaconda3/lib/python3.6/site-packages/django/core/management/base.py"", line 422, in check_migrations
    executor = MigrationExecutor(connections[DEFAULT_DB_ALIAS])
  File ""/Users/robiulislam/anaconda3/lib/python3.6/site-packages/django/db/migrations/executor.py"", line 20, in __init__
    self.loader = MigrationLoader(self.connection)
  File ""/Users/robiulislam/anaconda3/lib/python3.6/site-packages/django/db/migrations/loader.py"", line 52, in __init__
    self.build_graph()
  File ""/Users/robiulislam/anaconda3/lib/python3.6/site-packages/django/db/migrations/loader.py"", line 209, in build_graph
    self.applied_migrations = recorder.applied_migrations()
  File ""/Users/robiulislam/anaconda3/lib/python3.6/site-packages/django/db/migrations/recorder.py"", line 65, in applied_migrations
    self.ensure_schema()
  File ""/Users/robiulislam/anaconda3/lib/python3.6/site-packages/django/db/migrations/recorder.py"", line 52, in ensure_schema
    if self.Migration._meta.db_table in self.connection.introspection.table_names(self.connection.cursor()):
  File ""/Users/robiulislam/anaconda3/lib/python3.6/site-packages/django/db/backends/base/base.py"", line 254, in cursor
    return self._cursor()
  File ""/Users/robiulislam/anaconda3/lib/python3.6/site-packages/django/db/backends/base/base.py"", line 229, in _cursor
    self.ensure_connection()
  File ""/Users/robiulislam/anaconda3/lib/python3.6/site-packages/django/db/backends/base/base.py"", line 213, in ensure_connection
    self.connect()
  File ""/Users/robiulislam/anaconda3/lib/python3.6/site-packages/django/db/utils.py"", line 94, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File ""/Users/robiulislam/anaconda3/lib/python3.6/site-packages/django/utils/six.py"", line 685, in reraise
    raise value.with_traceback(tb)
  File ""/Users/robiulislam/anaconda3/lib/python3.6/site-packages/django/db/backends/base/base.py"", line 213, in ensure_connection
    self.connect()
  File ""/Users/robiulislam/anaconda3/lib/python3.6/site-packages/django/db/backends/base/base.py"", line 189, in connect
    self.connection = self.get_new_connection(conn_params)
  File ""/Users/robiulislam/anaconda3/lib/python3.6/site-packages/django/db/backends/postgresql/base.py"", line 176, in get_new_connection
    connection = Database.connect(**conn_params)
  File ""/Users/robiulislam/anaconda3/lib/python3.6/site-packages/psycopg2/__init__.py"", line 130, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
django.db.utils.OperationalError: could not connect to server: Connection refused
	Is the server running on host ""localhost"" (::1) and accepting
	TCP/IP connections on port 5432?
could not connect to server: Connection refused
	Is the server running on host ""localhost"" (127.0.0.1) and accepting
	TCP/IP connections on port 5432?

`"
5206,mirumee,saleor,27,closed,1420,4,https://api.github.com/repos/mirumee/saleor/issues/1420/comments,https://github.com/mirumee/saleor/issues/1420,"[{""default"": true, ""name"": ""bug"", ""url"": ""https://api.github.com/repos/mirumee/saleor/labels/bug"", ""color"": ""fc2929"", ""node_id"": ""MDU6TGFiZWwyODE5MjMzMQ=="", ""id"": 28192331}]",Migration 0040_auto_20171205_0428 (Gin index) not working with long descriptions,"I tried to update to the last release (11/2017) and got this error while applying migrations:

`psycopg2.OperationalError: index row size 2736 exceeds maximum 2712 for index ""product_pro_name_5bb6fa_gin""`

TextField and Index are not really compatible."
5458,mirumee,saleor,29,closed,1156,9,https://api.github.com/repos/mirumee/saleor/issues/1156/comments,https://github.com/mirumee/saleor/issues/1156,[],"Struggling to install due to ""could not open hstore.control""","Hi can anyone help. I can't seem to get past installation step 4 in the documentation on Ubuntu 16.04 LTS.

I've installed the virtualenv, ran the install requirements.txt and export SECRET_KEY etc.

Then on python manage.py migrate I get this error:

```
  Applying product.0021_add_hstore_extension...Traceback (most recent call last):
  File ""/home/website/lib/python3.5/site-packages/django/db/backends/utils.py"", line 65, in execute
    return self.cursor.execute(sql, params)
psycopg2.OperationalError: could not open extension control file ""/usr/share/postgresql/9.3/extension/hstore.control"": No such file or directory

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File ""manage.py"", line 10, in <module>
    execute_from_command_line(sys.argv)
  File ""/home/website/lib/python3.5/site-packages/django/core/management/__init__.py"", line 364, in execute_from_command_line
    utility.execute()
  File ""/home/website/lib/python3.5/site-packages/django/core/management/__init__.py"", line 356, in execute
    self.fetch_command(subcommand).run_from_argv(self.argv)
  File ""/home/website/lib/python3.5/site-packages/django/core/management/base.py"", line 283, in run_from_argv
    self.execute(*args, **cmd_options)
  File ""/home/website/lib/python3.5/site-packages/django/core/management/base.py"", line 330, in execute
    output = self.handle(*args, **options)
  File ""/home/website/lib/python3.5/site-packages/django/core/management/commands/migrate.py"", line 204, in handle
    fake_initial=fake_initial,
  File ""/home/website/lib/python3.5/site-packages/django/db/migrations/executor.py"", line 115, in migrate
    state = self._migrate_all_forwards(state, plan, full_plan, fake=fake, fake_initial=fake_initial)
  File ""/home/website/lib/python3.5/site-packages/django/db/migrations/executor.py"", line 145, in _migrate_all_forwards
    state = self.apply_migration(state, migration, fake=fake, fake_initial=fake_initial)
  File ""/home/website/lib/python3.5/site-packages/django/db/migrations/executor.py"", line 244, in apply_migration
    state = migration.apply(state, schema_editor)
  File ""/home/website/lib/python3.5/site-packages/django/db/migrations/migration.py"", line 129, in apply
    operation.database_forwards(self.app_label, schema_editor, old_state, project_state)
  File ""/home/website/lib/python3.5/site-packages/django/contrib/postgres/operations.py"", line 17, in database_forwards
    schema_editor.execute(""CREATE EXTENSION IF NOT EXISTS %s"" % schema_editor.quote_name(self.name))
  File ""/home/website/lib/python3.5/site-packages/django/db/backends/base/schema.py"", line 120, in execute
    cursor.execute(sql, params)
  File ""/home/website/lib/python3.5/site-packages/django/db/backends/utils.py"", line 80, in execute
    return super(CursorDebugWrapper, self).execute(sql, params)
  File ""/home/website/lib/python3.5/site-packages/django/db/backends/utils.py"", line 65, in execute
    return self.cursor.execute(sql, params)
  File ""/home/website/lib/python3.5/site-packages/django/db/utils.py"", line 94, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File ""/home/website/lib/python3.5/site-packages/django/utils/six.py"", line 685, in reraise
    raise value.with_traceback(tb)
  File ""/home/website/lib/python3.5/site-packages/django/db/backends/utils.py"", line 65, in execute
    return self.cursor.execute(sql, params)
django.db.utils.OperationalError: could not open extension control file ""/usr/share/postgresql/9.3/extension/hstore.control"": No such file or directory
```

On searching around I found that on Ubuntu you need to install postgresql-contrib too so I also did: sudo apt-get install postgresql postgresql-contrib

But that didn't help... Thanks again for any help getting Saleor up and running."
5547,mirumee,saleor,30,closed,1058,11,https://api.github.com/repos/mirumee/saleor/issues/1058/comments,https://github.com/mirumee/saleor/issues/1058,[],"Installation Issue: role ""saleor"" does not exist","I am following the installation instructions at http://saleor.readthedocs.io/en/latest/installation.html#installation

I've done steps 1-4 with no issues, however when I try to run 
`python manage.py migrate`
in step 5 I get the error django.db.utils.OperationalError: FATAL:  role ""saleor"" does not exist

I am installing on mac."
5928,mirumee,saleor,34,closed,663,6,https://api.github.com/repos/mirumee/saleor/issues/663/comments,https://github.com/mirumee/saleor/issues/663,[],migrate failed table_site,"Problem when migrating, generates the following error
   utility.execute()
  File ""/home/msalinas/Documentos/saleor-cms/env_saleor/local/lib/python2.7/site-packages/django/core/management/__init__.py"", line 359, in execute
    self.fetch_command(subcommand).run_from_argv(self.argv)
  File ""/home/msalinas/Documentos/saleor-cms/env_saleor/local/lib/python2.7/site-packages/django/core/management/base.py"", line 294, in run_from_argv
    self.execute(*args, **cmd_options)
  File ""/home/msalinas/Documentos/saleor-cms/env_saleor/local/lib/python2.7/site-packages/django/core/management/base.py"", line 345, in execute
    output = self.handle(*args, **options)
  File ""/home/msalinas/Documentos/saleor-cms/env_saleor/local/lib/python2.7/site-packages/django/core/management/commands/migrate.py"", line 224, in handle
    self.verbosity, self.interactive, connection.alias, apps=post_migrate_apps, plan=plan,
  File ""/home/msalinas/Documentos/saleor-cms/env_saleor/local/lib/python2.7/site-packages/django/core/management/sql.py"", line 53, in emit_post_migrate_signal
    **kwargs
  File ""/home/msalinas/Documentos/saleor-cms/env_saleor/local/lib/python2.7/site-packages/django/dispatch/dispatcher.py"", line 191, in send
    response = receiver(signal=self, sender=sender, **named)
  File ""/home/msalinas/Documentos/saleor-cms/env_saleor/local/lib/python2.7/site-packages/django/contrib/sites/management.py"", line 20, in create_default_site
    if not Site.objects.using(using).exists():
  File ""/home/msalinas/Documentos/saleor-cms/env_saleor/local/lib/python2.7/site-packages/django/db/models/query.py"", line 660, in exists
    return self.query.has_results(using=self.db)
  File ""/home/msalinas/Documentos/saleor-cms/env_saleor/local/lib/python2.7/site-packages/django/db/models/sql/query.py"", line 494, in has_results
    return compiler.has_results()
  File ""/home/msalinas/Documentos/saleor-cms/env_saleor/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py"", line 806, in has_results
    return bool(self.execute_sql(SINGLE))
  File ""/home/msalinas/Documentos/saleor-cms/env_saleor/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py"", line 835, in execute_sql
    cursor.execute(sql, params)
  File ""/home/msalinas/Documentos/saleor-cms/env_saleor/local/lib/python2.7/site-packages/django/db/backends/utils.py"", line 79, in execute
    return super(CursorDebugWrapper, self).execute(sql, params)
  File ""/home/msalinas/Documentos/saleor-cms/env_saleor/local/lib/python2.7/site-packages/django/db/backends/utils.py"", line 64, in execute
    return self.cursor.execute(sql, params)
  File ""/home/msalinas/Documentos/saleor-cms/env_saleor/local/lib/python2.7/site-packages/django/db/utils.py"", line 94, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File ""/home/msalinas/Documentos/saleor-cms/env_saleor/local/lib/python2.7/site-packages/django/db/backends/utils.py"", line 64, in execute
    return self.cursor.execute(sql, params)
  File ""/home/msalinas/Documentos/saleor-cms/env_saleor/local/lib/python2.7/site-packages/django/db/backends/sqlite3/base.py"", line 337, in execute
    return Database.Cursor.execute(self, query, params)
django.db.utils.OperationalError: no such table: django_site"
6166,mirumee,saleor,36,closed,418,7,https://api.github.com/repos/mirumee/saleor/issues/418/comments,https://github.com/mirumee/saleor/issues/418,"[{""default"": true, ""name"": ""bug"", ""url"": ""https://api.github.com/repos/mirumee/saleor/labels/bug"", ""color"": ""fc2929"", ""node_id"": ""MDU6TGFiZWwyODE5MjMzMQ=="", ""id"": 28192331}, {""default"": false, ""name"": ""in progress"", ""url"": ""https://api.github.com/repos/mirumee/saleor/labels/in%20progress"", ""color"": ""2980B9"", ""node_id"": ""MDU6TGFiZWw4NTI1NDQyMQ=="", ""id"": 85254421}]","""BLOB/TEXT column 'service' used in key specification without a key length""","Setting up saleor using virtualenv, using the recommended module mysqlclient==1.3.7 on an ubuntu 15.10 system.

``` bash
(venv)doug@ookla:~/Projects/saleor$ git rev-list --count HEAD
1586
```

I have created a db ""saleor"", a db user ""foobar"" and granted that user full control over the ""saleor"" database.

When running migrate on newly created db.

``` bash
python manage.py migrate
```

I get the following error:

``` bash
  Applying order.0009_auto_20151201_0820... OK
  Applying registration.0001_initial...Traceback (most recent call last):
  File ""manage.py"", line 10, in <module>
    execute_from_command_line(sys.argv)
  File ""/home/doug/NSixty/saleor/venv/local/lib/python2.7/site-packages/django/core/management/__init__.py"", line 354, in execute_from_command_line
    utility.execute()
  File ""/home/doug/NSixty/saleor/venv/local/lib/python2.7/site-packages/django/core/management/__init__.py"", line 346, in execute
    self.fetch_command(subcommand).run_from_argv(self.argv)
  File ""/home/doug/NSixty/saleor/venv/local/lib/python2.7/site-packages/django/core/management/base.py"", line 394, in run_from_argv
    self.execute(*args, **cmd_options)
  File ""/home/doug/NSixty/saleor/venv/local/lib/python2.7/site-packages/django/core/management/base.py"", line 445, in execute
    output = self.handle(*args, **options)
  File ""/home/doug/NSixty/saleor/venv/local/lib/python2.7/site-packages/django/core/management/commands/migrate.py"", line 222, in handle
    executor.migrate(targets, plan, fake=fake, fake_initial=fake_initial)
  File ""/home/doug/NSixty/saleor/venv/local/lib/python2.7/site-packages/django/db/migrations/executor.py"", line 110, in migrate
    self.apply_migration(states[migration], migration, fake=fake, fake_initial=fake_initial)
  File ""/home/doug/NSixty/saleor/venv/local/lib/python2.7/site-packages/django/db/migrations/executor.py"", line 148, in apply_migration
    state = migration.apply(state, schema_editor)
  File ""/home/doug/NSixty/saleor/venv/local/lib/python2.7/site-packages/django/db/migrations/migration.py"", line 115, in apply
    operation.database_forwards(self.app_label, schema_editor, old_state, project_state)
  File ""/home/doug/NSixty/saleor/venv/local/lib/python2.7/site-packages/django/db/migrations/operations/models.py"", line 359, in database_forwards
    getattr(new_model._meta, self.option_name, set()),
  File ""/home/doug/NSixty/saleor/venv/local/lib/python2.7/site-packages/django/db/backends/base/schema.py"", line 324, in alter_unique_together
    self.execute(self._create_unique_sql(model, columns))
  File ""/home/doug/NSixty/saleor/venv/local/lib/python2.7/site-packages/django/db/backends/base/schema.py"", line 111, in execute
    cursor.execute(sql, params)
  File ""/home/doug/NSixty/saleor/venv/local/lib/python2.7/site-packages/django/db/backends/utils.py"", line 79, in execute
    return super(CursorDebugWrapper, self).execute(sql, params)
  File ""/home/doug/NSixty/saleor/venv/local/lib/python2.7/site-packages/django/db/backends/utils.py"", line 64, in execute
    return self.cursor.execute(sql, params)
  File ""/home/doug/NSixty/saleor/venv/local/lib/python2.7/site-packages/django/db/utils.py"", line 98, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File ""/home/doug/NSixty/saleor/venv/local/lib/python2.7/site-packages/django/db/backends/utils.py"", line 64, in execute
    return self.cursor.execute(sql, params)
  File ""/home/doug/NSixty/saleor/venv/local/lib/python2.7/site-packages/django/db/backends/mysql/base.py"", line 124, in execute
    return self.cursor.execute(query, args)
  File ""/home/doug/NSixty/saleor/venv/local/lib/python2.7/site-packages/MySQLdb/cursors.py"", line 226, in execute
    self.errorhandler(self, exc, value)
  File ""/home/doug/NSixty/saleor/venv/local/lib/python2.7/site-packages/MySQLdb/connections.py"", line 36, in defaulterrorhandler
    raise errorvalue
django.db.utils.OperationalError: (1170, ""BLOB/TEXT column 'service' used in key specification without a key length"")
```

Apologies in advance: I am a django noob and lack the brains to know if this is an error in saleor's setup, or a problem in django.
"
7305,ansible,awx,9,closed,3157,1,https://api.github.com/repos/ansible/awx/issues/3157/comments,https://github.com/ansible/awx/issues/3157,"[{""default"": false, ""name"": ""component:installer"", ""url"": ""https://api.github.com/repos/ansible/awx/labels/component:installer"", ""color"": ""d4c5f9"", ""node_id"": ""MDU6TGFiZWw2ODc5Nzk5NjQ="", ""id"": 687979964}, {""default"": false, ""name"": ""state:needs_triage"", ""url"": ""https://api.github.com/repos/ansible/awx/labels/state:needs_triage"", ""color"": ""A0522D"", ""node_id"": ""MDU6TGFiZWw2ODcxNzI4NTg="", ""id"": 687172858}, {""default"": false, ""name"": ""type:bug"", ""url"": ""https://api.github.com/repos/ansible/awx/labels/type:bug"", ""color"": ""F79F81"", ""node_id"": ""MDU6TGFiZWw2MDcyODM3NDg="", ""id"": 607283748}]",I have a strange issue when openshift with postgresql pod,"##### ISSUE TYPE
 - Bug Report

##### COMPONENT NAME
 - Installer

##### SUMMARY
all other pods are up and running but the postgresql with this error

##### ENVIRONMENT
* AWX version: X.Y.Z
* AWX install method: openshift
* Ansible version:  2.6.5
* Operating System: centos7


##### STEPS TO REPRODUCE
just try to install and watch events

##### EXPECTED RESULTS

run as expected

##### ACTUAL RESULTS

failed

##### ADDITIONAL INFORMATION
`
TASK [kubernetes : Migrate database] *********************************************************************************************************************************************************************************************************
fatal: [localhost]: FAILED! => {""changed"": true, ""cmd"": ""oc --config=/tmp/awx-config/.kube/config -n awx-test exec ansible-tower-management -- bash -c \""awx-manage migrate --noinput\"""", ""delta"": ""0:00:30.761138"", ""end"": ""2019-02-05 13:54:37.853104"", ""msg"": ""non-zero return code"", ""rc"": 1, ""start"": ""2019-02-05 13:54:07.091966"", ""stderr"": ""Traceback (most recent call last):\n  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/backends/base/base.py\"", line 213, in ensure_connection\n    self.connect()\n  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/backends/base/base.py\"", line 189, in connect\n    self.connection = self.get_new_connection(conn_params)\n  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/backends/postgresql/base.py\"", line 176, in get_new_connection\n    connection = Database.connect(**conn_params)\n  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/psycopg2/__init__.py\"", line 130, in connect\n    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)\npsycopg2.OperationalError: could not connect to server: No route to host\n\tIs the server running on host \""postgresql\"" (172.30.174.92) and accepting\n\tTCP/IP connections on port 5432?\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/awx/conf/settings.py\"", line 91, in _ctit_db_wrapper\n    yield\n  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/awx/conf/settings.py\"", line 446, in __getattr__\n    value = self._get_local(name)\n  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/awx/conf/settings.py\"", line 363, in _get_local\n    self._preload_cache()\n  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/awx/conf/settings.py\"", line 325, in _preload_cache\n    for setting in Setting.objects.filter(key__in=settings_to_cache.keys(), user__isnull=True).order_by('pk'):\n  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/models/query.py\"", line 250, in __iter__\n    self._fetch_all()\n  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/models/query.py\"", line 1121, in _fetch_all\n    self._result_cache = list(self._iterable_class(self))\n  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/models/query.py\"", line 53, in __iter__\n    results = compiler.execute_sql(chunked_fetch=self.chunked_fetch)\n  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/models/sql/compiler.py\"", line 887, in execute_sql\n    cursor = self.connection.cursor()\n  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/backends/base/base.py\"", line 254, in cursor\n    return self._cursor()\n  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/backends/base/base.py\"", line 229, in _cursor\n    self.ensure_connection()\n  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/backends/base/base.py\"", line 213, in ensure_connection\n    self.connect()\n  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/utils.py\"", line 94, in __exit__\n    six.reraise(dj_exc_type, dj_exc_value, traceback)\n  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/utils/six.py\"", line 685, in reraise\n    raise value.with_traceback(tb)\n  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/backends/base/base.py\"", line 213, in ensure_connection\n    self.connect()\n  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/backends/base/base.py\"", line 189, in connect\n    self.connection = self.get_new_connection(conn_params)\n  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/backends/postgresql/base.py\"", line 176, in get_new_connection\n    connection = Database.connect(**conn_params)\n  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/psycopg2/__init__.py\"", line 130, in connect\n    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)\ndjango.db.utils.OperationalError: could not connect to server: No route to host\n\tIs the server running on host \""postgresql\"" (172.30.174.92) and accepting\n\tTCP/IP connections on port 5432?\n\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/backends/base/base.py\"", line 213, in ensure_connection\n    self.connect()\n  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/backends/base/base.py\"", line 189, in connect\n    self.connection = self.get_new_connection(conn_params)\n  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/backends/postgresql/base.py\"", line 176, in get_new_connection\n    connection = Database.connect(**conn_params)\n  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/psycopg2/__init__.py\"", line 130, in connect\n    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)\npsycopg2.OperationalError: could not connect to server: No route to host\n\tIs the server running on host \""postgresql\"" (172.30.174.92) and accepting\n\tTCP/IP connections on port 5432?\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \""/usr/bin/awx-manage\"", line 11, in <module>\n    load_entry_point('awx==3.0.0.0', 'console_scripts', 'awx-manage')()\n  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/awx/__init__.py\"", line 150, in manage\n    execute_from_command_line(sys.argv)\n  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/core/management/__init__.py\"", line 364, in execute_from_command_line\n    utility.execute()\n  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/core/management/__init__.py\"", line 356, in execute\n    self.fetch_command(subcommand).run_from_argv(self.argv)\n  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/core/management/base.py\"", line 283, in run_from_argv\n    self.execute(*args, **cmd_options)\n  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/core/management/base.py\"", line 327, in execute\n    self.check()\n  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/core/management/base.py\"", line 359, in check\n    include_deployment_checks=include_deployment_checks,\n  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/core/management/commands/migrate.py\"", line 62, in _run_checks\n    issues.extend(super(Command, self)._run_checks(**kwargs))\n  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/core/management/base.py\"", line 346, in _run_checks\n    return checks.run_checks(**kwargs)\n  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/core/checks/registry.py\"", line 81, in run_checks\n    new_errors = check(app_configs=app_configs)\n  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/core/checks/urls.py\"", line 16, in check_url_config\n    return check_resolver(resolver)\n  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/core/checks/urls.py\"", line 26, in check_resolver\n    return check_method()\n  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/urls/resolvers.py\"", line 256, in check\n    for pattern in self.url_patterns:\n  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/utils/functional.py\"", line 35, in __get__\n    res = instance.__dict__[self.name] = self.func(instance)\n  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/urls/resolvers.py\"", line 407, in url_patterns\n    patterns = getattr(self.urlconf_module, \""urlpatterns\"", self.urlconf_module)\n  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/utils/functional.py\"", line 35, in __get__\n    res = instance.__dict__[self.name] = self.func(instance)\n  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/urls/resolvers.py\"", line 400, in urlconf_module\n    return import_module(self.urlconf_name)\n  File \""/usr/lib64/python3.6/importlib/__init__.py\"", line 126, in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n  File \""<frozen importlib._bootstrap>\"", line 994, in _gcd_import\n  File \""<frozen importlib._bootstrap>\"", line 971, in _find_and_load\n  File \""<frozen importlib._bootstrap>\"", line 955, in _find_and_load_unlocked\n  File \""<frozen importlib._bootstrap>\"", line 665, in _load_unlocked\n  File \""<frozen importlib._bootstrap_external>\"", line 678, in exec_module\n  File \""<frozen importlib._bootstrap>\"", line 219, in _call_with_frames_removed\n  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/awx/urls.py\"", line 17, in <module>\n    url(r'^sso/', include('social_django.urls', namespace='social')),\n  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/conf/urls/__init__.py\"", line 50, in include\n    urlconf_module = import_module(urlconf_module)\n  File \""/usr/lib64/python3.6/importlib/__init__.py\"", line 126, in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n  File \""<frozen importlib._bootstrap>\"", line 994, in _gcd_import\n  File \""<frozen importlib._bootstrap>\"", line 971, in _find_and_load\n  File \""<frozen importlib._bootstrap>\"", line 955, in _find_and_load_unlocked\n  File \""<frozen importlib._bootstrap>\"", line 665, in _load_unlocked\n  File \""<frozen importlib._bootstrap_external>\"", line 678, in exec_module\n  File \""<frozen importlib._bootstrap>\"", line 219, in _call_with_frames_removed\n  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/social_django/urls.py\"", line 6, in <module>\n    from . import views\n  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/social_django/views.py\"", line 10, in <module>\n    from .utils import psa\n  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/social_django/utils.py\"", line 13, in <module>\n    BACKENDS = settings.AUTHENTICATION_BACKENDS\n  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/awx/conf/settings.py\"", line 542, in __getattr_without_cache__\n    return getattr(self._wrapped, name)\n  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/awx/conf/settings.py\"", line 446, in __getattr__\n    value = self._get_local(name)\n  File \""/usr/lib64/python3.6/contextlib.py\"", line 99, in __exit__\n    self.gen.throw(type, value, traceback)\n  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/awx/conf/settings.py\"", line 93, in _ctit_db_wrapper\n    if 'migrate' in sys.argv and get_tower_migration_version() < '310':\n  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/awx/main/utils/db.py\"", line 14, in get_tower_migration_version\n    loader = MigrationLoader(connection, ignore_no_migrations=True)\n  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/migrations/loader.py\"", line 52, in __init__\n    self.build_graph()\n  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/migrations/loader.py\"", line 209, in build_graph\n    self.applied_migrations = recorder.applied_migrations()\n  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/migrations/recorder.py\"", line 65, in applied_migrations\n    self.ensure_schema()\n  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/migrations/recorder.py\"", line 52, in ensure_schema\n    if self.Migration._meta.db_table in self.connection.introspection.table_names(self.connection.cursor()):\n  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/backends/base/base.py\"", line 254, in cursor\n    return self._cursor()\n  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/backends/base/base.py\"", line 229, in _cursor\n    self.ensure_connection()\n  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/backends/base/base.py\"", line 213, in ensure_connection\n    self.connect()\n  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/utils.py\"", line 94, in __exit__\n    six.reraise(dj_exc_type, dj_exc_value, traceback)\n  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/utils/six.py\"", line 685, in reraise\n    raise value.with_traceback(tb)\n  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/backends/base/base.py\"", line 213, in ensure_connection\n    self.connect()\n  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/backends/base/base.py\"", line 189, in connect\n    self.connection = self.get_new_connection(conn_params)\n  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/backends/postgresql/base.py\"", line 176, in get_new_connection\n    connection = Database.connect(**conn_params)\n  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/psycopg2/__init__.py\"", line 130, in connect\n    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)\ndjango.db.utils.OperationalError: could not connect to server: No route to host\n\tIs the server running on host \""postgresql\"" (172.30.174.92) and accepting\n\tTCP/IP connections on port 5432?\n\ncommand terminated with exit code 1"", ""stderr_lines"": [""Traceback (most recent call last):"", ""  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/backends/base/base.py\"", line 213, in ensure_connection"", ""    self.connect()"", ""  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/backends/base/base.py\"", line 189, in connect"", ""    self.connection = self.get_new_connection(conn_params)"", ""  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/backends/postgresql/base.py\"", line 176, in get_new_connection"", ""    connection = Database.connect(**conn_params)"", ""  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/psycopg2/__init__.py\"", line 130, in connect"", ""    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)"", ""psycopg2.OperationalError: could not connect to server: No route to host"", ""\tIs the server running on host \""postgresql\"" (172.30.174.92) and accepting"", ""\tTCP/IP connections on port 5432?"", """", """", ""The above exception was the direct cause of the following exception:"", """", ""Traceback (most recent call last):"", ""  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/awx/conf/settings.py\"", line 91, in _ctit_db_wrapper"", ""    yield"", ""  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/awx/conf/settings.py\"", line 446, in __getattr__"", ""    value = self._get_local(name)"", ""  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/awx/conf/settings.py\"", line 363, in _get_local"", ""    self._preload_cache()"", ""  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/awx/conf/settings.py\"", line 325, in _preload_cache"", ""    for setting in Setting.objects.filter(key__in=settings_to_cache.keys(), user__isnull=True).order_by('pk'):"", ""  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/models/query.py\"", line 250, in __iter__"", ""    self._fetch_all()"", ""  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/models/query.py\"", line 1121, in _fetch_all"", ""    self._result_cache = list(self._iterable_class(self))"", ""  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/models/query.py\"", line 53, in __iter__"", ""    results = compiler.execute_sql(chunked_fetch=self.chunked_fetch)"", ""  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/models/sql/compiler.py\"", line 887, in execute_sql"", ""    cursor = self.connection.cursor()"", ""  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/backends/base/base.py\"", line 254, in cursor"", ""    return self._cursor()"", ""  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/backends/base/base.py\"", line 229, in _cursor"", ""    self.ensure_connection()"", ""  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/backends/base/base.py\"", line 213, in ensure_connection"", ""    self.connect()"", ""  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/utils.py\"", line 94, in __exit__"", ""    six.reraise(dj_exc_type, dj_exc_value, traceback)"", ""  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/utils/six.py\"", line 685, in reraise"", ""    raise value.with_traceback(tb)"", ""  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/backends/base/base.py\"", line 213, in ensure_connection"", ""    self.connect()"", ""  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/backends/base/base.py\"", line 189, in connect"", ""    self.connection = self.get_new_connection(conn_params)"", ""  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/backends/postgresql/base.py\"", line 176, in get_new_connection"", ""    connection = Database.connect(**conn_params)"", ""  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/psycopg2/__init__.py\"", line 130, in connect"", ""    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)"", ""django.db.utils.OperationalError: could not connect to server: No route to host"", ""\tIs the server running on host \""postgresql\"" (172.30.174.92) and accepting"", ""\tTCP/IP connections on port 5432?"", """", """", ""During handling of the above exception, another exception occurred:"", """", ""Traceback (most recent call last):"", ""  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/backends/base/base.py\"", line 213, in ensure_connection"", ""    self.connect()"", ""  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/backends/base/base.py\"", line 189, in connect"", ""    self.connection = self.get_new_connection(conn_params)"", ""  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/backends/postgresql/base.py\"", line 176, in get_new_connection"", ""    connection = Database.connect(**conn_params)"", ""  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/psycopg2/__init__.py\"", line 130, in connect"", ""    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)"", ""psycopg2.OperationalError: could not connect to server: No route to host"", ""\tIs the server running on host \""postgresql\"" (172.30.174.92) and accepting"", ""\tTCP/IP connections on port 5432?"", """", """", ""The above exception was the direct cause of the following exception:"", """", ""Traceback (most recent call last):"", ""  File \""/usr/bin/awx-manage\"", line 11, in <module>"", ""    load_entry_point('awx==3.0.0.0', 'console_scripts', 'awx-manage')()"", ""  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/awx/__init__.py\"", line 150, in manage"", ""    execute_from_command_line(sys.argv)"", ""  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/core/management/__init__.py\"", line 364, in execute_from_command_line"", ""    utility.execute()"", ""  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/core/management/__init__.py\"", line 356, in execute"", ""    self.fetch_command(subcommand).run_from_argv(self.argv)"", ""  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/core/management/base.py\"", line 283, in run_from_argv"", ""    self.execute(*args, **cmd_options)"", ""  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/core/management/base.py\"", line 327, in execute"", ""    self.check()"", ""  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/core/management/base.py\"", line 359, in check"", ""    include_deployment_checks=include_deployment_checks,"", ""  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/core/management/commands/migrate.py\"", line 62, in _run_checks"", ""    issues.extend(super(Command, self)._run_checks(**kwargs))"", ""  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/core/management/base.py\"", line 346, in _run_checks"", ""    return checks.run_checks(**kwargs)"", ""  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/core/checks/registry.py\"", line 81, in run_checks"", ""    new_errors = check(app_configs=app_configs)"", ""  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/core/checks/urls.py\"", line 16, in check_url_config"", ""    return check_resolver(resolver)"", ""  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/core/checks/urls.py\"", line 26, in check_resolver"", ""    return check_method()"", ""  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/urls/resolvers.py\"", line 256, in check"", ""    for pattern in self.url_patterns:"", ""  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/utils/functional.py\"", line 35, in __get__"", ""    res = instance.__dict__[self.name] = self.func(instance)"", ""  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/urls/resolvers.py\"", line 407, in url_patterns"", ""    patterns = getattr(self.urlconf_module, \""urlpatterns\"", self.urlconf_module)"", ""  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/utils/functional.py\"", line 35, in __get__"", ""    res = instance.__dict__[self.name] = self.func(instance)"", ""  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/urls/resolvers.py\"", line 400, in urlconf_module"", ""    return import_module(self.urlconf_name)"", ""  File \""/usr/lib64/python3.6/importlib/__init__.py\"", line 126, in import_module"", ""    return _bootstrap._gcd_import(name[level:], package, level)"", ""  File \""<frozen importlib._bootstrap>\"", line 994, in _gcd_import"", ""  File \""<frozen importlib._bootstrap>\"", line 971, in _find_and_load"", ""  File \""<frozen importlib._bootstrap>\"", line 955, in _find_and_load_unlocked"", ""  File \""<frozen importlib._bootstrap>\"", line 665, in _load_unlocked"", ""  File \""<frozen importlib._bootstrap_external>\"", line 678, in exec_module"", ""  File \""<frozen importlib._bootstrap>\"", line 219, in _call_with_frames_removed"", ""  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/awx/urls.py\"", line 17, in <module>"", ""    url(r'^sso/', include('social_django.urls', namespace='social')),"", ""  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/conf/urls/__init__.py\"", line 50, in include"", ""    urlconf_module = import_module(urlconf_module)"", ""  File \""/usr/lib64/python3.6/importlib/__init__.py\"", line 126, in import_module"", ""    return _bootstrap._gcd_import(name[level:], package, level)"", ""  File \""<frozen importlib._bootstrap>\"", line 994, in _gcd_import"", ""  File \""<frozen importlib._bootstrap>\"", line 971, in _find_and_load"", ""  File \""<frozen importlib._bootstrap>\"", line 955, in _find_and_load_unlocked"", ""  File \""<frozen importlib._bootstrap>\"", line 665, in _load_unlocked"", ""  File \""<frozen importlib._bootstrap_external>\"", line 678, in exec_module"", ""  File \""<frozen importlib._bootstrap>\"", line 219, in _call_with_frames_removed"", ""  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/social_django/urls.py\"", line 6, in <module>"", ""    from . import views"", ""  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/social_django/views.py\"", line 10, in <module>"", ""    from .utils import psa"", ""  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/social_django/utils.py\"", line 13, in <module>"", ""    BACKENDS = settings.AUTHENTICATION_BACKENDS"", ""  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/awx/conf/settings.py\"", line 542, in __getattr_without_cache__"", ""    return getattr(self._wrapped, name)"", ""  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/awx/conf/settings.py\"", line 446, in __getattr__"", ""    value = self._get_local(name)"", ""  File \""/usr/lib64/python3.6/contextlib.py\"", line 99, in __exit__"", ""    self.gen.throw(type, value, traceback)"", ""  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/awx/conf/settings.py\"", line 93, in _ctit_db_wrapper"", ""    if 'migrate' in sys.argv and get_tower_migration_version() < '310':"", ""  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/awx/main/utils/db.py\"", line 14, in get_tower_migration_version"", ""    loader = MigrationLoader(connection, ignore_no_migrations=True)"", ""  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/migrations/loader.py\"", line 52, in __init__"", ""    self.build_graph()"", ""  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/migrations/loader.py\"", line 209, in build_graph"", ""    self.applied_migrations = recorder.applied_migrations()"", ""  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/migrations/recorder.py\"", line 65, in applied_migrations"", ""    self.ensure_schema()"", ""  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/migrations/recorder.py\"", line 52, in ensure_schema"", ""    if self.Migration._meta.db_table in self.connection.introspection.table_names(self.connection.cursor()):"", ""  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/backends/base/base.py\"", line 254, in cursor"", ""    return self._cursor()"", ""  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/backends/base/base.py\"", line 229, in _cursor"", ""    self.ensure_connection()"", ""  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/backends/base/base.py\"", line 213, in ensure_connection"", ""    self.connect()"", ""  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/utils.py\"", line 94, in __exit__"", ""    six.reraise(dj_exc_type, dj_exc_value, traceback)"", ""  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/utils/six.py\"", line 685, in reraise"", ""    raise value.with_traceback(tb)"", ""  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/backends/base/base.py\"", line 213, in ensure_connection"", ""    self.connect()"", ""  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/backends/base/base.py\"", line 189, in connect"", ""    self.connection = self.get_new_connection(conn_params)"", ""  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/backends/postgresql/base.py\"", line 176, in get_new_connection"", ""    connection = Database.connect(**conn_params)"", ""  File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/psycopg2/__init__.py\"", line 130, in connect"", ""    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)"", ""django.db.utils.OperationalError: could not connect to server: No route to host"", ""\tIs the server running on host \""postgresql\"" (172.30.174.92) and accepting"", ""\tTCP/IP connections on port 5432?"", """", ""command terminated with exit code 1""], ""stdout"": """", ""stdout_lines"": []}
`
![screenshot 2019-02-05 at 13 54 56](https://user-images.githubusercontent.com/12847532/52275181-13a13d00-294f-11e9-96ad-fff357be8d22.png)
"
7625,ansible,awx,12,closed,2774,1,https://api.github.com/repos/ansible/awx/issues/2774/comments,https://github.com/ansible/awx/issues/2774,"[{""default"": false, ""name"": ""component:installer"", ""url"": ""https://api.github.com/repos/ansible/awx/labels/component:installer"", ""color"": ""d4c5f9"", ""node_id"": ""MDU6TGFiZWw2ODc5Nzk5NjQ="", ""id"": 687979964}]",installation on Kubernetes created with Rancher fails at database migration,"##### ISSUE TYPE
 - Bug Report

##### COMPONENT NAME
 - Installer

##### SUMMARY
<!-- Briefly describe the problem. -->
running the installer against a kubernetes cluster built with Rancher 2.0 does not finish, 
stuck at database migration

I am very new with Kubernetes, still maybe something that does not work.
Thank you!

##### ENVIRONMENT
* AWX version: branch devel sha: 79f483a66d1bd5cee938eef5c19074667dc268a8
* AWX install method: kubernetes on Rancher 2
* Ansible version:  2.6.2
* Operating System: mac OSX
* Web Browser: none

##### STEPS TO REPRODUCE
fill in the kuberentes variables in the inventory

```
# Kubernetes Install
kubernetes_context=myfirst
kubernetes_namespace=awx
tiller_namespace=kube-system
```
and run 
`ansible-playbook -i inventory install.yml`


##### EXPECTED RESULTS

awx gets installed

##### ACTUAL RESULTS

the task migrate databases ended in error

##### ADDITIONAL INFORMATION
`
TASK [kubernetes : Migrate database] *********************************************************************************************************************************************************************************************************
task path: /awx/installer/roles/kubernetes/tasks/main.yml:162
Wednesday 21 November 2018  09:08:40 +0100 (0:00:00.674)       0:16:26.181 ****
fatal: [localhost]: FAILED! => {""changed"": true, ""cmd"": ""kubectl -n awx exec ansible-tower-management -- bash -c \""awx-manage migrate --noinput\"""", ""delta"": ""0:03:03.630970"", ""end"": ""2018-11-21 09:11:44.303477"", ""msg"": ""non-zero return code"", ""rc"": 1, ""start"": ""2018-11-21 09:08:40.672507"", ""stderr"": ""Traceback (most recent call last):\n  File \""/usr/bin/awx-manage\"", line 9, in <module>\n    load_entry_point('awx==2.1.0', 'console_scripts', 'awx-manage')()\n  File \""/usr/lib/python2.7/site-packages/awx/__init__.py\"", line 108, in manage\n    execute_from_command_line(sys.argv)\n  File \""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/core/management/__init__.py\"", line 364, in execute_from_command_line\n    utility.execute()\n  File \""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/core/management/__init__.py\"", line 356, in execute\n    self.fetch_command(subcommand).run_from_argv(self.argv)\n  File \""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/core/management/base.py\"", line 283, in run_from_argv\n    self.execute(*args, **cmd_options)\n  File \""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/core/management/base.py\"", line 327, in execute\n    self.check()\n  File \""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/core/management/base.py\"", line 359, in check\n    include_deployment_checks=include_deployment_checks,\n  File \""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/core/management/commands/migrate.py\"", line 62, in _run_checks\n    issues.extend(super(Command, self)._run_checks(**kwargs))\n  File \""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/core/management/base.py\"", line 346, in _run_checks\n    return checks.run_checks(**kwargs)\n  File \""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/core/checks/registry.py\"", line 81, in run_checks\n    new_errors = check(app_configs=app_configs)\n  File \""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/core/checks/urls.py\"", line 16, in check_url_config\n    return check_resolver(resolver)\n  File \""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/core/checks/urls.py\"", line 26, in check_resolver\n    return check_method()\n  File \""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/urls/resolvers.py\"", line 256, in check\n    for pattern in self.url_patterns:\n  File \""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/utils/functional.py\"", line 35, in __get__\n    res = instance.__dict__[self.name] = self.func(instance)\n  File \""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/urls/resolvers.py\"", line 407, in url_patterns\n    patterns = getattr(self.urlconf_module, \""urlpatterns\"", self.urlconf_module)\n  File \""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/utils/functional.py\"", line 35, in __get__\n    res = instance.__dict__[self.name] = self.func(instance)\n  File \""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/urls/resolvers.py\"", line 400, in urlconf_module\n    return import_module(self.urlconf_name)\n  File \""/usr/lib64/python2.7/importlib/__init__.py\"", line 37, in import_module\n    __import__(name)\n  File \""/usr/lib/python2.7/site-packages/awx/urls.py\"", line 17, in <module>\n    url(r'^sso/', include('social_django.urls', namespace='social')),\n  File \""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/conf/urls/__init__.py\"", line 50, in include\n    urlconf_module = import_module(urlconf_module)\n  File \""/usr/lib64/python2.7/importlib/__init__.py\"", line 37, in import_module\n    __import__(name)\n  File \""/var/lib/awx/venv/awx/lib/python2.7/site-packages/social_django/urls.py\"", line 6, in <module>\n    from . import views\n  File \""/var/lib/awx/venv/awx/lib/python2.7/site-packages/social_django/views.py\"", line 10, in <module>\n    from .utils import psa\n  File \""/var/lib/awx/venv/awx/lib/python2.7/site-packages/social_django/utils.py\"", line 13, in <module>\n    BACKENDS = settings.AUTHENTICATION_BACKENDS\n  File \""/usr/lib/python2.7/site-packages/awx/conf/settings.py\"", line 552, in __getattr_without_cache__\n    return getattr(self._wrapped, name)\n  File \""/usr/lib/python2.7/site-packages/awx/conf/settings.py\"", line 456, in __getattr__\n    value = self._get_local(name)\n  File \""/usr/lib64/python2.7/contextlib.py\"", line 35, in __exit__\n    self.gen.throw(type, value, traceback)\n  File \""/usr/lib/python2.7/site-packages/awx/conf/settings.py\"", line 94, in _ctit_db_wrapper\n    if 'migrate' in sys.argv and get_tower_migration_version() < '310':\n  File \""/usr/lib/python2.7/site-packages/awx/main/utils/db.py\"", line 14, in get_tower_migration_version\n    loader = MigrationLoader(connection, ignore_no_migrations=True)\n  File \""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/db/migrations/loader.py\"", line 52, in __init__\n    self.build_graph()\n  File \""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/db/migrations/loader.py\"", line 209, in build_graph\n    self.applied_migrations = recorder.applied_migrations()\n  File \""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/db/migrations/recorder.py\"", line 65, in applied_migrations\n    self.ensure_schema()\n  File \""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/db/migrations/recorder.py\"", line 52, in ensure_schema\n    if self.Migration._meta.db_table in self.connection.introspection.table_names(self.connection.cursor()):\n  File \""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/db/backends/base/base.py\"", line 254, in cursor\n    return self._cursor()\n  File \""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/db/backends/base/base.py\"", line 229, in _cursor\n    self.ensure_connection()\n  File \""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/db/backends/base/base.py\"", line 213, in ensure_connection\n    self.connect()\n  File \""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/db/utils.py\"", line 94, in __exit__\n    six.reraise(dj_exc_type, dj_exc_value, traceback)\n  File \""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/db/backends/base/base.py\"", line 213, in ensure_connection\n    self.connect()\n  File \""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/db/backends/base/base.py\"", line 189, in connect\n    self.connection = self.get_new_connection(conn_params)\n  File \""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/db/backends/postgresql/base.py\"", line 176, in get_new_connection\n    connection = Database.connect(**conn_params)\n  File \""/var/lib/awx/venv/awx/lib/python2.7/site-packages/psycopg2/__init__.py\"", line 130, in connect\n    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)\ndjango.db.utils.OperationalError: could not translate host name \""awx-postgresql\"" to address: Name or service not known"", ""stderr_lines"": [""Traceback (most recent call last):"", ""  File \""/usr/bin/awx-manage\"", line 9, in <module>"", ""    load_entry_point('awx==2.1.0', 'console_scripts', 'awx-manage')()"", ""  File \""/usr/lib/python2.7/site-packages/awx/__init__.py\"", line 108, in manage"", ""    execute_from_command_line(sys.argv)"", ""  File \""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/core/management/__init__.py\"", line 364, in execute_from_command_line"", ""    utility.execute()"", ""  File \""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/core/management/__init__.py\"", line 356, in execute"", ""    self.fetch_command(subcommand).run_from_argv(self.argv)"", ""  File \""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/core/management/base.py\"", line 283, in run_from_argv"", ""    self.execute(*args, **cmd_options)"", ""  File \""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/core/management/base.py\"", line 327, in execute"", ""    self.check()"", ""  File \""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/core/management/base.py\"", line 359, in check"", ""    include_deployment_checks=include_deployment_checks,"", ""  File \""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/core/management/commands/migrate.py\"", line 62, in _run_checks"", ""    issues.extend(super(Command, self)._run_checks(**kwargs))"", ""  File \""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/core/management/base.py\"", line 346, in _run_checks"", ""    return checks.run_checks(**kwargs)"", ""  File \""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/core/checks/registry.py\"", line 81, in run_checks"", ""    new_errors = check(app_configs=app_configs)"", ""  File \""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/core/checks/urls.py\"", line 16, in check_url_config"", ""    return check_resolver(resolver)"", ""  File \""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/core/checks/urls.py\"", line 26, in check_resolver"", ""    return check_method()"", ""  File \""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/urls/resolvers.py\"", line 256, in check"", ""    for pattern in self.url_patterns:"", ""  File \""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/utils/functional.py\"", line 35, in __get__"", ""    res = instance.__dict__[self.name] = self.func(instance)"", ""  File \""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/urls/resolvers.py\"", line 407, in url_patterns"", ""    patterns = getattr(self.urlconf_module, \""urlpatterns\"", self.urlconf_module)"", ""  File \""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/utils/functional.py\"", line 35, in __get__"", ""    res = instance.__dict__[self.name] = self.func(instance)"", ""  File \""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/urls/resolvers.py\"", line 400, in urlconf_module"", ""    return import_module(self.urlconf_name)"", ""  File \""/usr/lib64/python2.7/importlib/__init__.py\"", line 37, in import_module"", ""    __import__(name)"", ""  File \""/usr/lib/python2.7/site-packages/awx/urls.py\"", line 17, in <module>"", ""    url(r'^sso/', include('social_django.urls', namespace='social')),"", ""  File \""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/conf/urls/__init__.py\"", line 50, in include"", ""    urlconf_module = import_module(urlconf_module)"", ""  File \""/usr/lib64/python2.7/importlib/__init__.py\"", line 37, in import_module"", ""    __import__(name)"", ""  File \""/var/lib/awx/venv/awx/lib/python2.7/site-packages/social_django/urls.py\"", line 6, in <module>"", ""    from . import views"", ""  File \""/var/lib/awx/venv/awx/lib/python2.7/site-packages/social_django/views.py\"", line 10, in <module>"", ""    from .utils import psa"", ""  File \""/var/lib/awx/venv/awx/lib/python2.7/site-packages/social_django/utils.py\"", line 13, in <module>"", ""    BACKENDS = settings.AUTHENTICATION_BACKENDS"", ""  File \""/usr/lib/python2.7/site-packages/awx/conf/settings.py\"", line 552, in __getattr_without_cache__"", ""    return getattr(self._wrapped, name)"", ""  File \""/usr/lib/python2.7/site-packages/awx/conf/settings.py\"", line 456, in __getattr__"", ""    value = self._get_local(name)"", ""  File \""/usr/lib64/python2.7/contextlib.py\"", line 35, in __exit__"", ""    self.gen.throw(type, value, traceback)"", ""  File \""/usr/lib/python2.7/site-packages/awx/conf/settings.py\"", line 94, in _ctit_db_wrapper"", ""    if 'migrate' in sys.argv and get_tower_migration_version() < '310':"", ""  File \""/usr/lib/python2.7/site-packages/awx/main/utils/db.py\"", line 14, in get_tower_migration_version"", ""    loader = MigrationLoader(connection, ignore_no_migrations=True)"", ""  File \""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/db/migrations/loader.py\"", line 52, in __init__"", ""    self.build_graph()"", ""  File \""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/db/migrations/loader.py\"", line 209, in build_graph"", ""    self.applied_migrations = recorder.applied_migrations()"", ""  File \""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/db/migrations/recorder.py\"", line 65, in applied_migrations"", ""    self.ensure_schema()"", ""  File \""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/db/migrations/recorder.py\"", line 52, in ensure_schema"", ""    if self.Migration._meta.db_table in self.connection.introspection.table_names(self.connection.cursor()):"", ""  File \""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/db/backends/base/base.py\"", line 254, in cursor"", ""    return self._cursor()"", ""  File \""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/db/backends/base/base.py\"", line 229, in _cursor"", ""    self.ensure_connection()"", ""  File \""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/db/backends/base/base.py\"", line 213, in ensure_connection"", ""    self.connect()"", ""  File \""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/db/utils.py\"", line 94, in __exit__"", ""    six.reraise(dj_exc_type, dj_exc_value, traceback)"", ""  File \""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/db/backends/base/base.py\"", line 213, in ensure_connection"", ""    self.connect()"", ""  File \""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/db/backends/base/base.py\"", line 189, in connect"", ""    self.connection = self.get_new_connection(conn_params)"", ""  File \""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/db/backends/postgresql/base.py\"", line 176, in get_new_connection"", ""    connection = Database.connect(**conn_params)"", ""  File \""/var/lib/awx/venv/awx/lib/python2.7/site-packages/psycopg2/__init__.py\"", line 130, in connect"", ""    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)"", ""django.db.utils.OperationalError: could not translate host name \""awx-postgresql\"" to address: Name or service not known""], ""stdout"": """", ""stdout_lines"": []}
	to retry, use: --limit @/Volumes/diskE/Us`
"
7892,ansible,awx,15,closed,2453,1,https://api.github.com/repos/ansible/awx/issues/2453/comments,https://github.com/ansible/awx/issues/2453,"[{""default"": false, ""name"": ""component:ui"", ""url"": ""https://api.github.com/repos/ansible/awx/labels/component:ui"", ""color"": ""009800"", ""node_id"": ""MDU6TGFiZWw2ODcxNjkyOTU="", ""id"": 687169295}, {""default"": false, ""name"": ""state:needs_triage"", ""url"": ""https://api.github.com/repos/ansible/awx/labels/state:needs_triage"", ""color"": ""A0522D"", ""node_id"": ""MDU6TGFiZWw2ODcxNzI4NTg="", ""id"": 687172858}, {""default"": false, ""name"": ""type:bug"", ""url"": ""https://api.github.com/repos/ansible/awx/labels/type:bug"", ""color"": ""F79F81"", ""node_id"": ""MDU6TGFiZWw2MDcyODM3NDg="", ""id"": 607283748}]","OperationalError: could not translate host name ""postgres"" to address: Name or service not known","##### ISSUE TYPE
 - Bug Report

##### COMPONENT NAME
<!-- Pick the area of AWX for this issue, you can have multiple, delete the rest: -->
  - UI
 

##### SUMMARY
<!-- Briefly describe the problem. -->
When connecting to awx server, I receive a message that states a server error has occured.
##### ENVIRONMENT
* AWX version: 1.0.8
* AWX install method: docker on linux
* Ansible version:  
* Operating System: CentOS 7
* Web Browser: Chrome

##### STEPS TO REPRODUCE

<!-- Please describe exactly how to reproduce the problem. -->
Access link to server to login
##### EXPECTED RESULTS

<!-- What did you expect to happen when running the steps above? -->
Login page to be presented in UI
##### ACTUAL RESULTS

<!-- What actually happened? -->
Receive an error that states Server error has occured
##### ADDITIONAL INFORMATION

<!-- Include any links to sosreport, database dumps, screenshots or other
information. -->

Seeing this at the end of logs for awx_web

    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
OperationalError: could not translate host name ""postgres"" to address: Name or service not known
[pid: 131|app: 0|req: 30/62] 10.252.65.162 () {42 vars in 1404 bytes} [Tue Oct 16 14:46:35 2018] GET / => generated 3762 bytes in 59 msecs (HTTP/1.1 500) 4 headers in 148 bytes (1 switches on core 0)
xxx.xxx.xxx.xxx - - [16/Oct/2018:14:46:35 +0000] ""GET / HTTP/1.1"" 500 3762 ""-"" ""Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/67.0.3396.99 Safari/537.36"" ""-""
RESULT 2
OKREADY
2018-10-16 14:47:03,714 ERROR    Error trying to receive messages: [Errno -2] Name or service not known
2018-10-16 14:47:33,835 ERROR    Error trying to receive messages: [Errno -2] Name or service not known
RESULT 2
OKREADY
2018-10-16 14:48:03,969 ERROR    Error trying to receive messages: [Errno -2] Name or service not known
2018-10-16 14:48:34,073 ERROR    Error trying to receive messages: [Errno -2] Name or service not known
RESULT 2
OKREADY
2018-10-16 14:49:04,175 ERROR    Error trying to receive messages: [Errno -2] Name or service not known "
8071,ansible,awx,16,closed,2233,1,https://api.github.com/repos/ansible/awx/issues/2233/comments,https://github.com/ansible/awx/issues/2233,[],Anisble Tower Job fails when size of the extra-vars is more,"##### ISSUE TYPE
 - Bug Report

##### COMPONENT NAME
<!-- Pick the area of AWX for this issue, you can have multiple, delete the rest: -->
 - API
 - UI

##### SUMMARY
<!-- Briefly describe the problem. -->
I am having a Job in Ansible Tower. All inputs for the job is passed in the extra-vars (in JSON format)

When the size of extra-vars is small the Job runs fine. But when it is big, say 800KB or 160000 lines of extra-vars, the Job is failing with error.

##### ENVIRONMENT
* AWX version: 2.4.5
* Ansible version:  1.9.1
* Operating System: RHEL 6


##### STEPS TO REPRODUCE

<!-- Please describe exactly how to reproduce the problem. -->
1. Create any sample play-book
2. Pass Huge sized extra_vars to it
##### EXPECTED RESULTS
Play should start executing as a Normal job
<!-- What did you expect to happen when running the steps above? -->

##### ACTUAL RESULTS
Play did not start rather throwing the below Error. Following is the std_out of the job.

[2018-08-30 07:13:27,641: DEBUG/Worker-6835] Database error updating Job, retrying in 5 seconds (retry #1): could not receive data from server: Bad file descriptor

[2018-08-30 07:13:32,649: DEBUG/Worker-6835] Database error updating Job, retrying in 5 seconds (retry #2): could not receive data from server: Bad file descriptor

[2018-08-30 07:13:37,653: DEBUG/Worker-6835] Database error updating Job, retrying in 5 seconds (retry #3): could not receive data from server: Bad file descriptor

[2018-08-30 07:13:42,660: DEBUG/Worker-6835] Database error updating Job, retrying in 5 seconds (retry #4): could not receive data from server: Bad file descriptor

[2018-08-30 07:13:47,667: DEBUG/Worker-6835] Database error updating Job, retrying in 5 seconds (retry #5): could not receive data from server: Bad file descriptor

[2018-08-30 07:13:52,674: DEBUG/Worker-6835] Database error updating Job, retrying in 5 seconds (retry #6): could not receive data from server: Bad file descriptor

[2018-08-30 07:13:52,682: WARNING/Worker-6835] Traceback (most recent call last):
[2018-08-30 07:13:52,683: WARNING/Worker-6835] File ""/usr/lib64/python2.6/logging/handlers.py"", line 76, in emit
[2018-08-30 07:13:52,687: WARNING/Worker-6835] if self.shouldRollover(record):
[2018-08-30 07:13:52,687: WARNING/Worker-6835] File ""/usr/lib64/python2.6/logging/handlers.py"", line 150, in shouldRollover
[2018-08-30 07:13:52,687: WARNING/Worker-6835] self.stream.seek(0, 2)  #due to non-posix-compliant Windows feature
[2018-08-30 07:13:52,687: WARNING/Worker-6835] IOError: [Errno 9] Bad file descriptor
[2018-08-30 07:13:52,674: ERROR/Worker-6835] Failed to update Job after 5 retries.
[2018-08-30 07:13:52,724: WARNING/Worker-6835] /usr/lib/python2.6/site-packages/awx/lib/site-packages/celery/app/trace.py:348: RuntimeWarning: Exception raised outside body: OperationalError('could not receive data from server: Bad file descriptor\n',):
Traceback (most recent call last):
  File ""/usr/lib/python2.6/site-packages/awx/lib/site-packages/celery/app/trace.py"", line 253, in trace_task
    I, R, state, retval = on_error(task_request, exc, uuid)
  File ""/usr/lib/python2.6/site-packages/awx/lib/site-packages/celery/app/trace.py"", line 201, in on_error
    R = I.handle_error_state(task, eager=eager)
  File ""/usr/lib/python2.6/site-packages/awx/lib/site-packages/celery/app/trace.py"", line 85, in handle_error_state
    }[self.state](task, store_errors=store_errors)
  File ""/usr/lib/python2.6/site-packages/awx/lib/site-packages/celery/app/trace.py"", line 118, in handle_failure
    req.id, exc, einfo.traceback, request=req,
  File ""/usr/lib/python2.6/site-packages/awx/lib/site-packages/celery/backends/base.py"", line 120, in mark_as_failure
    traceback=traceback, request=request)
  File ""/usr/lib/python2.6/site-packages/awx/lib/site-packages/celery/backends/base.py"", line 251, in store_result
    request=request, **kwargs)
  File ""/usr/lib/python2.6/site-packages/awx/lib/site-packages/djcelery/backends/database.py"", line 29, in _store_result
    traceback=traceback, children=self.current_task_children(request),
  File ""/usr/lib/python2.6/site-packages/awx/lib/site-packages/djcelery/managers.py"", line 42, in _inner
    return fun(*args, **kwargs)
  File ""/usr/lib/python2.6/site-packages/awx/lib/site-packages/djcelery/managers.py"", line 181, in store_result
    'meta': {'children': children}})
  File ""/usr/lib/python2.6/site-packages/awx/lib/site-packages/djcelery/managers.py"", line 87, in update_or_create
    return get_queryset(self).update_or_create(**kwargs)
  File ""/usr/lib/python2.6/site-packages/awx/lib/site-packages/djcelery/managers.py"", line 70, in update_or_create
    obj, created = self.get_or_create(**kwargs)
  File ""/usr/lib/python2.6/site-packages/awx/lib/site-packages/django/db/models/query.py"", line 376, in get_or_create
    return self.get(**lookup), False
  File ""/usr/lib/python2.6/site-packages/awx/lib/site-packages/django/db/models/query.py"", line 304, in get
    num = len(clone)
  File ""/usr/lib/python2.6/site-packages/awx/lib/site-packages/django/db/models/query.py"", line 77, in __len__
    self._fetch_all()
  File ""/usr/lib/python2.6/site-packages/awx/lib/site-packages/django/db/models/query.py"", line 857, in _fetch_all
    self._result_cache = list(self.iterator())
  File ""/usr/lib/python2.6/site-packages/awx/lib/site-packages/django/db/models/query.py"", line 220, in iterator
    for row in compiler.results_iter():
  File ""/usr/lib/python2.6/site-packages/awx/lib/site-packages/django/db/models/sql/compiler.py"", line 713, in results_iter
    for rows in self.execute_sql(MULTI):
  File ""/usr/lib/python2.6/site-packages/awx/lib/site-packages/django/db/models/sql/compiler.py"", line 786, in execute_sql
    cursor.execute(sql, params)
  File ""/usr/lib/python2.6/site-packages/awx/lib/site-packages/django/db/backends/util.py"", line 53, in execute
    return self.cursor.execute(sql, params)
  File ""/usr/lib/python2.6/site-packages/awx/lib/site-packages/django/db/utils.py"", line 99, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File ""/usr/lib/python2.6/site-packages/awx/lib/site-packages/django/db/backends/util.py"", line 53, in execute
    return self.cursor.execute(sql, params)
OperationalError: could not receive data from server: Bad file descriptor


  exc, exc_info.traceback)))
[2018-08-30 07:13:52,743: ERROR/Worker-6835] Pool process <Worker(Worker-6835, started daemon)> error: OSError(9, 'Bad file descriptor')
Traceback (most recent call last):
  File ""/usr/lib/python2.6/site-packages/awx/lib/site-packages/billiard/pool.py"", line 288, in run
    sys.exit(self.workloop(pid=pid))
  File ""/usr/lib/python2.6/site-packages/awx/lib/site-packages/billiard/pool.py"", line 372, in workloop
    put((READY, (job, i, (False, einfo), inqW_fd)))
OSError: [Errno 9] Bad file descriptor

<!-- What actually happened? -->

##### ADDITIONAL INFORMATION

No other information in any of the logs apart from the above Error message
<!-- Include any links to sosreport, database dumps, screenshots or other
information. -->"
8778,ansible,awx,24,closed,1406,2,https://api.github.com/repos/ansible/awx/issues/1406/comments,https://github.com/ansible/awx/issues/1406,"[{""default"": false, ""name"": ""component:api"", ""url"": ""https://api.github.com/repos/ansible/awx/labels/component:api"", ""color"": ""fbca04"", ""node_id"": ""MDU6TGFiZWw2ODcxNjkyNDY="", ""id"": 687169246}, {""default"": false, ""name"": ""priority:medium"", ""url"": ""https://api.github.com/repos/ansible/awx/labels/priority:medium"", ""color"": ""fad8c7"", ""node_id"": ""MDU6TGFiZWw2ODYyNTU2NTY="", ""id"": 686255656}, {""default"": false, ""name"": ""type:bug"", ""url"": ""https://api.github.com/repos/ansible/awx/labels/type:bug"", ""color"": ""F79F81"", ""node_id"": ""MDU6TGFiZWw2MDcyODM3NDg="", ""id"": 607283748}]",cannot create oauth personal access token at `/api/o/token/`,"##### ISSUE TYPE
 - Bug Report

##### COMPONENT NAME
 - API

##### SUMMARY
Here's a test case that replicates the instructions at https://github.com/ansible/awx/blob/devel/awx/api/templates/api/api_o_auth_authorization_root_view.md#authorization-using-application-of-grant-type-password (but fails with `E   OperationalError: no such table: oauth2_provider_refreshtoken`):


```diff
(awx) [devel:●] ~/dev/awx/awx git diff
diff --git a/awx/main/tests/functional/api/test_oauth.py b/awx/main/tests/functional/api/test_oauth.py
index 435204957..6fad2fb9d 100644
--- a/awx/main/tests/functional/api/test_oauth.py
+++ b/awx/main/tests/functional/api/test_oauth.py
@@ -1,6 +1,9 @@
+import base64
+import os
+
 import pytest

-from awx.api.versioning import reverse
+from awx.api.versioning import reverse, drf_reverse
 from awx.main.models.oauth import (OAuth2Application as Application,
                                    OAuth2AccessToken as AccessToken,
                                    OAuth2RefreshToken as RefreshToken
@@ -133,3 +136,16 @@ def test_oauth_application_delete(oauth_application, post, delete, admin):
     assert Application.objects.filter(client_id=oauth_application.client_id).count() == 0
     assert RefreshToken.objects.filter(application=oauth_application).count() == 0
     assert AccessToken.objects.filter(application=oauth_application).count() == 0
+
+
+@pytest.mark.django_db
+def test_personal_access_token_creation(oauth_application, post, alice):
+    url = drf_reverse('api:oauth_authorization_root_view') + 'token/'
+    resp = post(
+        url,
+        data='grant_type=password&username=alice&password=alice&scope=read',
+        content_type='application/x-www-form-urlencoded',
+        HTTP_AUTHORIZATION='Basic ' + base64.b64encode(':'.join([
+            oauth_application.client_id, oauth_application.client_secret
+        ]))
+    )
diff --git a/awx/main/tests/functional/conftest.py b/awx/main/tests/functional/conftest.py
index 22e675246..d5b45cf72 100644
--- a/awx/main/tests/functional/conftest.py
+++ b/awx/main/tests/functional/conftest.py
@@ -531,7 +531,7 @@ def _request(verb):
             user = data_or_user
         elif 'data' not in kwargs:
             kwargs['data'] = data_or_user
-        if 'format' not in kwargs:
+        if 'format' not in kwargs and 'content_type' not in kwargs:
             kwargs['format'] = 'json'

         view, view_args, view_kwargs = resolve(urlparse(url)[2])
```

```python
$ py.test awx/main/tests/functional/api/test_oauth.py
>>>>>>>>>>>>>>>>>>> PDB set_trace (IO-capturing turned off) >>>>>>>>>>>>>>>>>>>>
...
/venv/awx/lib/python2.7/site-packages/oauthlib/oauth2/rfc6749/endpoints/token.py:118: in create_token_response
    request, self.default_token_type)
/venv/awx/lib/python2.7/site-packages/oauthlib/oauth2/rfc6749/grant_types/resource_owner_password_credentials.py:109: in create_token_response
    self.request_validator.save_token(token, request)
/venv/awx/lib/python2.7/site-packages/oauthlib/oauth2/rfc6749/request_validator.py:246: in save_token
    return self.save_bearer_token(token, request, *args, **kwargs)
    return f(endpoint, uri, *args, **kwargs)
/venv/awx/lib/python2.7/site-packages/oauthlib/oauth2/rfc6749/endpoints/token.py:118: in create_token_response
    request, self.default_token_type)
/venv/awx/lib/python2.7/site-packages/oauthlib/oauth2/rfc6749/grant_types/resource_owner_password_credentials.py:109: in create_token_response
    self.request_validator.save_token(token, request)
/venv/awx/lib/python2.7/site-packages/oauthlib/oauth2/rfc6749/request_validator.py:246: in save_token
    return self.save_bearer_token(token, request, *args, **kwargs)
    return f(endpoint, uri, *args, **kwargs)
/venv/awx/lib/python2.7/site-packages/oauthlib/oauth2/rfc6749/endpoints/token.py:118: in create_token_response
    request, self.default_token_type)
/venv/awx/lib/python2.7/site-packages/oauthlib/oauth2/rfc6749/grant_types/resource_owner_password_credentials.py:109: in create_token_response
    self.request_validator.save_token(token, request)
/venv/awx/lib/python2.7/site-packages/oauthlib/oauth2/rfc6749/request_validator.py:246: in save_token
    return self.save_bearer_token(token, request, *args, **kwargs)
/venv/awx/lib/python2.7/site-packages/django/utils/decorators.py:185: in inner
    return func(*args, **kwargs)
/venv/awx/lib/python2.7/site-packages/oauth2_provider/oauth2_validators.py:472: in save_bearer_token
    refresh_token.save()
/venv/awx/lib/python2.7/site-packages/django/db/models/base.py:808: in save
    force_update=force_update, update_fields=update_fields)
/venv/awx/lib/python2.7/site-packages/django/db/models/base.py:838: in save_base
    updated = self._save_table(raw, cls, force_insert, force_update, using, update_fields)
/venv/awx/lib/python2.7/site-packages/django/db/models/base.py:924: in _save_table
    result = self._do_insert(cls._base_manager, using, fields, update_pk, raw)
/venv/awx/lib/python2.7/site-packages/django/db/models/base.py:963: in _do_insert
    using=using, raw=raw)
/venv/awx/lib/python2.7/site-packages/django/db/models/manager.py:85: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
/venv/awx/lib/python2.7/site-packages/django/db/models/query.py:1076: in _insert
    return query.get_compiler(using=using).execute_sql(return_id)
/venv/awx/lib/python2.7/site-packages/django/db/models/sql/compiler.py:1107: in execute_sql
    cursor.execute(sql, params)
/venv/awx/lib/python2.7/site-packages/django/db/backends/utils.py:65: in execute
    return self.cursor.execute(sql, params)
/venv/awx/lib/python2.7/site-packages/django/db/utils.py:94: in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
/venv/awx/lib/python2.7/site-packages/django/db/backends/utils.py:65: in execute
    return self.cursor.execute(sql, params)
/venv/awx/lib/python2.7/site-packages/django/db/backends/sqlite3/base.py:328: in execute
    return Database.Cursor.execute(self, query, params)
E   OperationalError: no such table: oauth2_provider_refreshtoken
==================== 1 failed, 6 deselected in 4.18 seconds ====================
```"
10165,django-oscar,django-oscar,3,closed,2901,3,https://api.github.com/repos/django-oscar/django-oscar/issues/2901/comments,https://github.com/django-oscar/django-oscar/issues/2901,[],Sandbox build workaround for `no such table: main.catalogue_product__old`,"This ticket extends #2898 and specifically addresses users attempting to setup the oscar sandbox. I believe it would be best to note the issue described here in the README/docs until a patched version of Django is released to PyPI.

When attempting to `make` the django-oscar sandbox with the latest sqlite and Django versions (3.26.0 and 2.1.4 for me, respectively), one will likely run into the following exception:

```
django.db.utils.OperationalError: Problem installing fixture '/Users/Mike/website/django-oscar/sandbox/fixtures/child_products.json': Could not load catalogue.ProductCategory(pk=1): no such table: main.catalogue_product__old
```

This is due to the bug noted in #2898 and addressed in this Django PR: https://github.com/django/django/pull/10733

A simple temporary workaround is to use an older sqlite. I switched to 3.19.0 and the build succeeds. The process for doing this is OS/environment specific."
10168,django-oscar,django-oscar,3,closed,2898,2,https://api.github.com/repos/django-oscar/django-oscar/issues/2898/comments,https://github.com/django-oscar/django-oscar/issues/2898,[],`no such table: main.catalogue_product__old` when creating a new product,"Hi,
I've ran into a really strange error which I'm not able to debug.
On a fresh django-oscar installation (tested with 1.6.4 and 2.0-dev) I'm getting this when I add new product via the dashboard:

```
Traceback (most recent call last):
  File ""/usr/local/lib/python3.7/site-packages/django/db/backends/utils.py"", line 85, in _execute
    return self.cursor.execute(sql, params)
  File ""/usr/local/lib/python3.7/site-packages/django/db/backends/sqlite3/base.py"", line 296, in execute
    return Database.Cursor.execute(self, query, params)
sqlite3.OperationalError: no such table: main.catalogue_product__old
```
I guess there is some bug in the migrations? I looked into this quite some time and couldn't find the problem.

I prepared a minimal example:

[minimalexample.zip](https://github.com/django-oscar/django-oscar/files/2653845/minimalexample.zip)

In the extracted folder, run the following commands to init the project and get the same error:
```sh
# I tried both the system's pip and virtual envs
pip install django-oscar
python manage.py migrate
# sets up superuser ""admin"" (admin@admin.de) with password ""admin""
python manage.py loaddata data/auth.json
# this triggers the error
python manage.py loaddata data/catalogue.json
```

This bug also appears when creating a new product via the dashboard in both oscar 2.0 and 1.6.4...
Any ideas?"
10291,django-oscar,django-oscar,4,closed,2760,0,https://api.github.com/repos/django-oscar/django-oscar/issues/2760/comments,https://github.com/django-oscar/django-oscar/pull/2760,[],Update pymysql to 0.9.0,"
This PR updates [PyMySQL](https://pypi.org/project/PyMySQL) from **0.8.1** to **0.9.0**.



<details>
  <summary>Changelog</summary>
  
  
   ### 0.9.0
   ```
   Release date: 2018-06-27

* Change default charset from latin1 to utf8mb4.  (because MySQL 8 changed) (692)
* Support sha256_password and caching_sha2_password auth method (682)
* Add cryptography dependency, because it&#39;s needed for new auth methods.
* Remove deprecated `no_delay` option (694)
* Support connection attributes (679)
* Map LOCK_DEADLOCK to OperationalError (693)
   ```
   
  
</details>


 

<details>
  <summary>Links</summary>
  
  - PyPI: https://pypi.org/project/pymysql
  - Changelog: https://pyup.io/changelogs/pymysql/
  - Repo: https://github.com/PyMySQL/PyMySQL/
</details>

"
10511,django-oscar,django-oscar,6,closed,2527,1,https://api.github.com/repos/django-oscar/django-oscar/issues/2527/comments,https://github.com/django-oscar/django-oscar/pull/2527,[],Update pymysql to 0.8.0,"
There's a new version of [PyMySQL](https://pypi.python.org/pypi/PyMySQL) available.
You are currently using **0.7.11**. I have updated it to **0.8.0**



These links might come in handy:  <a href=""https://pypi.python.org/pypi/pymysql"">PyPI</a> | <a href=""https://pyup.io/changelogs/pymysql/"">Changelog</a> | <a href=""https://github.com/PyMySQL/PyMySQL/"">Repo</a> 



### Changelog
> 
>### 0.8


>Release date: 2017-12-20

>* **BACKWARD INCOMPATIBLE** ``binary_prefix`` option is added and off
>  by default because of compatibility with mysqlclient.
>  When you need PyMySQL 0.7 behavior, you have to pass ``binary_prefix=True``.
>  (549)

>* **BACKWARD INCOMPATIBLE** MULTI_STATEMENT client flag is not set by
>  default while it was set by default on PyMySQL 0.7.  You need to
>  pass ``client_flag=CLIENT.MULTI_STATEMENT`` explicitly when you
>  want to use multi statement.  (590)

>* Fixed AuthSwitch packet handling.

>* Raise OperationalError for MariaDB&#39;s constraint error. (607)

>* executemany() accepts query without space between ``VALUES`` and ``(``.  (597)

>* Support config file containing option without value. (588)

>* Fixed Connection.ping() returned unintended value.








*Got merge conflicts? Close this PR and delete the branch. I'll create a new PR for you.*

Happy merging! 🤖
"
10524,django-oscar,django-oscar,7,closed,2514,1,https://api.github.com/repos/django-oscar/django-oscar/issues/2514/comments,https://github.com/django-oscar/django-oscar/issues/2514,[],operational error: no such table,"

hello everyone,
I have an error arising when I created new tables in forked partner model. The models work correctly until I use 'ManyToManyField'.
I want to create model in such a way that a new seller can create their profile and select their category(ies).

The error arises when I fill table with the multiple categories.

Please help
Thanks in advance

model.py
from django.db import models
from django_countries.fields import CountryField

class PartnerCategorie(models.Model):
    category = models.CharField(max_length=100)

    def __str__(self):
        return self.category

class RegisterPartner(models.Model):
    name = models.CharField(max_length=100)
    email = models.EmailField()
    contact = models.CharField(max_length=10)
    storeName = models.CharField(max_length=100)
    address1 = models.CharField(max_length=100)
    address2 = models.CharField(max_length=100, blank=True, null=True)
    city = models.CharField(max_length=20, default='New Delhi')
    country = CountryField(default=""India"")
    pincode = models.CharField(max_length=6)
    GST = models.CharField(max_length=30, null=True)
    PAN = models.CharField(max_length=30, null=True)
    state = models.CharField(max_length=30, default=""Delhi"")
    Category = models.ManyToManyField(PartnerCategorie)

    def __str__(self):
        return self.storeName

from oscar.apps.partner.models import *

admin.py
from oscar.apps.partner.admin import *  # noqa
from .models import RegisterPartner, PartnerCategorie

admin.site.register(PartnerCategorie)
admin.site.register(RegisterPartner)

output of PartnerRegister

Request Method: | POST
-- | --
http://127.0.0.1:8000/admin/partner/registerpartner/add/
1.11.8
OperationalError
no such table: partner_registerpartner_Category
/home/ankit/Desktop/oscar/oscar/django-oscar/oscar1/lib/python3.6/site-packages/django/db/backends/sqlite3/base.py in execute, line 328
/home/ankit/Desktop/oscar/oscar/django-oscar/oscar1/bin/python
3.6.3
['/home/ankit/Desktop/oscar/oscar/django-oscar/sandbox',  '/usr/lib/python36.zip',  '/usr/lib/python3.6',  '/usr/lib/python3.6/lib-dynload',  '/home/ankit/Desktop/oscar/oscar/django-oscar/oscar1/lib/python3.6/site-packages',  '/home/ankit/Desktop/oscar/try3/django-oscar/src']
Fri, 15 Dec 2017 08:00:06 +0000


whe"
10814,django-oscar,django-oscar,9,closed,2220,0,https://api.github.com/repos/django-oscar/django-oscar/issues/2220/comments,https://github.com/django-oscar/django-oscar/pull/2220,[],Initial Update,"
This is my first visit to this fine repo so I have bundled all updates in a single pull request to make things easier for you to merge. 

*Close this pull request and delete the branch if you want me to start with single pull requests right away*

Here's the executive summary:

## Updates
Here's a list of all the updates bundled in this pull request. I've added some links to make it easier for you to find all the information you need.
<table align=""center"">

<tr>
<td><b>django-debug-toolbar</b></td>
<td align=""center"">1.5.0</td>
<td align=""center"">&raquo;</td>
<td align=""center"">1.6</td>
<td>
     <a href=""http://pypi.python.org/pypi/django-debug-toolbar"">PyPI</a> | <a href=""https://pyup.io/changelogs/django-debug-toolbar/"">Changelog</a> | <a href=""https://github.com/jazzband/django-debug-toolbar"">Repo</a> 

</td>

<tr>
<td><b>django-extensions</b></td>
<td align=""center"">1.6.1</td>
<td align=""center"">&raquo;</td>
<td align=""center"">1.7.6</td>
<td>
     <a href=""http://pypi.python.org/pypi/django-extensions"">PyPI</a> | <a href=""https://pyup.io/changelogs/django-extensions/"">Changelog</a> | <a href=""http://github.com/django-extensions/django-extensions"">Repo</a> | <a href=""http://pythonhosted.org/django-extensions/"">Docs</a> 

</td>

<tr>
<td><b>Werkzeug</b></td>
<td align=""center"">0.9.6</td>
<td align=""center"">&raquo;</td>
<td align=""center"">0.11.15</td>
<td>
     <a href=""http://pypi.python.org/pypi/Werkzeug"">PyPI</a> | <a href=""https://pyup.io/changelogs/werkzeug/"">Changelog</a> | <a href=""http://werkzeug.pocoo.org/"">Homepage</a> 

</td>

<tr>
<td><b>Whoosh</b></td>
<td align=""center"">2.6.0</td>
<td align=""center"">&raquo;</td>
<td align=""center"">2.7.4</td>
<td>
     <a href=""http://pypi.python.org/pypi/Whoosh"">PyPI</a> | <a href=""http://bitbucket.org/mchaput/whoosh"">Repo</a> | <a href=""http://pythonhosted.org/Whoosh/"">Docs</a> 

</td>

<tr>
<td><b>pysolr</b></td>
<td align=""center"">3.2.0</td>
<td align=""center"">&raquo;</td>
<td align=""center"">3.6.0</td>
<td>
     <a href=""http://pypi.python.org/pypi/pysolr"">PyPI</a> | <a href=""https://pyup.io/changelogs/pysolr/"">Changelog</a> | <a href=""https://github.com/django-haystack/pysolr/"">Repo</a> 

</td>

<tr>
<td><b>requests</b></td>
<td align=""center"">2.10.0</td>
<td align=""center"">&raquo;</td>
<td align=""center"">2.13.0</td>
<td>
     <a href=""http://pypi.python.org/pypi/requests"">PyPI</a> | <a href=""https://pyup.io/changelogs/requests/"">Changelog</a> | <a href=""http://python-requests.org"">Homepage</a> 

</td>

<tr>
<td><b>uWSGI</b></td>
<td align=""center"">2.0.13.1</td>
<td align=""center"">&raquo;</td>
<td align=""center"">2.0.14</td>
<td>
     <a href=""http://pypi.python.org/pypi/uWSGI"">PyPI</a> | <a href=""UNKNOWN"">Homepage</a> 

</td>

<tr>
<td><b>pyprof2calltree</b></td>
<td align=""center"">1.3.2</td>
<td align=""center"">&raquo;</td>
<td align=""center"">1.4.0</td>
<td>
     <a href=""http://pypi.python.org/pypi/pyprof2calltree"">PyPI</a> | <a href=""http://github.com/pwaller/pyprof2calltree/"">Repo</a> 

</td>

<tr>
<td><b>PyMySQL</b></td>
<td align=""center"">0.6.2</td>
<td align=""center"">&raquo;</td>
<td align=""center"">0.7.9</td>
<td>
     <a href=""http://pypi.python.org/pypi/PyMySQL"">PyPI</a> | <a href=""https://pyup.io/changelogs/pymysql/"">Changelog</a> | <a href=""https://github.com/PyMySQL/PyMySQL/"">Repo</a> 

</td>

<tr>
<td><b>psycopg2</b></td>
<td align=""center"">2.4.5</td>
<td align=""center"">&raquo;</td>
<td align=""center"">2.6.2</td>
<td>
     <a href=""http://pypi.python.org/pypi/psycopg2"">PyPI</a> | <a href=""https://pyup.io/changelogs/psycopg2/"">Changelog</a> | <a href=""http://initd.org/psycopg/"">Homepage</a> | <a href=""http://pythonhosted.org/psycopg2/"">Docs</a> 

</td>

</tr>
</table>



## Changelogs


### django-debug-toolbar 1.5.0 -> 1.6

>### 1.6

>---

>The debug toolbar was adopted by jazzband.

>Removed features
>~~~~~~~~~~~~~~~~

>* Support for automatic setup has been removed as it was frequently
>  problematic. Installation now requires explicit setup. The
>  ``DEBUG_TOOLBAR_PATCH_SETTINGS`` setting has also been removed as it is now
>  unused. See the :doc:`installation documentation &lt;installation&gt;` for details.

>Bugfixes
>~~~~~~~~

>* The ``DebugToolbarMiddleware`` now also supports Django 1.10&#39;s ``MIDDLEWARE``
>  setting.







### django-extensions 1.6.1 -> 1.7.6

>### 1.7.6

>-----

>Changes:
> - Improvement: sqldiff, ignore proxy models in diff (with cli option to include them if wanted)




>### 1.7.5

>-----

>Changes:
> - New: ForeignKeyAutocompleteAdmin, Add autocomplete for inline model admins
> - Improvement: graph_models, Rewrite modelviz module from method to class based processor
> - Improvement: db fields, make MAX_UNIQUE_QUERY_ATTEMPTS configurable per field and via settings
> - Improvement: runserver_plus, Added nopin option to disable pin
> - Fix: graph_models, Support PyDot 1.2.0 and higher
> - Fix: shell_plus, Fix that aliases from SHELL_PLUS_MODEL_ALIASES were not applied
> - Removed: validate_templatetags, remove support for pre django-1.5 style {% url %} tags
> - Cleanup: removing support for end-of-life Python 3.2
> - Docs: simplify installation instructions
> - Docs: fix example for NOTEBOOK_ARGUMENTS
> - Docs: Remove extraneous &#39;}&#39; characters from shell_plus docs




>### 1.7.4

>-----

>Changes:
> - Improvement: show_urls, support --no-color option
> - Fix: notes, Fix reading templates setting after django 1.8
> - Fix: create_app, Fixed typo in deprecation warning
> - Fix: shell_plus, Use new location for url reverse import
> - Docs: some commands where missing from the docs
> - Docs: runscript, added documentation for --traceback




>### 1.7.3

>-----

>Changes:
> - Fix: ForeignKeySearchInput, fix bug with constructing search_path urls
> - Docs: runscript, fix runscript example
> - Deprecation: JSONField, Django now includes JSONField our field is now deprecated




>### 1.7.2

>-----

>Changes:
> - Fix: passwd, Update passwd command up to Django&gt;=1.8
> - Improvement: shell_plus, add settings.SHELL_PLUS_PRINT_SQL config option
> - Improvement: shell_plus, allow to specifies the connection file to use if using the --kernel option




>### 1.7.1

>-----

>Changes:
> - Fix: sqldiff, fix optional app_label arguments
> - Fix: runscript, remove args from command class
> - Doc: runscript, remove = from --script-args example




>### 1.7.0

>-----

>The &quot;Letting go of the past&quot; release.

>From this moment on Django Extensions requires version 1.8 or higher.
>A lot of work has been done to remove old backwards compatibility code and
>make sure that Django Extensions uses the current Django API&#39;s. This should
>result in better and easier to maintain code (and hopefully less bugs :).

>This release touches a lot of code if you have any issues please report them
>at https://github.com/django-extensions/django-extensions/issues

>We still need more tests to make sure we don&#39;t break people&#39;s projects when
>refactoring. If you have some spare time please contribute tests !

>Changes:
> - Cleanup: removing backwards compatibility hacks for (now) unsupported versions of Django
> - Cleanup: use six instead of home grown functions
> - Fix: AutoSlugField, allow_duplicates didn&#39;t set slug value to model instance
> - Fix: MongoDB fields, verbose_name on mongoengine fields does not seem to be supported
> - Fix: MongoDB fields, fix relative import problem with json.py
> - Improvement: Start using pre-commit
> - Improvement: syncdata, Replace custom transaction logic with transaction.atomic
> - Improvement: Django 1.10, use from_db_value instead of models.SubfieldBase
> - Improvement: print_user_session, support for non standard user model
> - Improvement: widont, tests to work with py2 and py3
> - Improvement: runserver_plus, prevent 2nd reload of debugger on runserver_plus
> - Improvement: runserver_plus, prevent killing the server when request.META values are evaluated
> - Improvement: reset_db, add argument to make closing sessions optional
> - Improvement: print_settings, Fix positional arguments
> - Improvement: runscript, migrate to argparse and add_arguments
> - Improvement: graph_models, do not rely on .models_module for inclusion in output
> - Improvement: jsonfield, fix issues with mutable default
> - Docs: Convert readthedocs links for their .org -&gt; .io migration




>### 1.6.7

>-----

>Changes:
> - Fix: describe_form, fix No module named &#39;django.db.models.loading&#39; error
> - Improvement: shell_plus,  Add a setting to prefix all models in an application 887
> - Improvement: pipchecker, check for requirements-{dev,prod}.txt as well
> - Docs: pipchecker, update documentation



>### 1.6.6

>-----

>Changes:
> - Fix: admin_generator, fix for using all apps in Django &lt;1.7
> - Fix: dump_script, fix for using all apps in Django &lt;1.7
> - Fix: UniqueFieldMixin, resolve get_fields_with_model deprecation Django 1.10
> - Fix: runprofileserver, Fix call grind format to enable source code navigation in qcachegrind.
> - Docs: runserver_plus, add a little note about the debugger PIN.




>### 1.6.5

>-----

>Bumped version number since PyPi returns 500 errors while uploading packages :(




>### 1.6.4

>-----

>Changes:
> - Fix: jobs cache_cleanup, use `caches` instead of deprecated `get_cache`
> - Fix: ModificationDateTimeField, missing default value for `update_modified`
> - Fix: modelviz, use get_model_compat and look up missing app_label
> - Fix: modelviz, use get_models_for_app instead of get_models_compat
> - Fix: dumpscript, use `list_app_labels` instead of `get_apps` when no app_labels are given
> - Improvement: compat.py, move code from try to else block for Django 1.7+
> - Docstring: get_models_for_app, clearify argument




>### 1.6.3

>-----

>Bumped version number for incomplete PyPi uplaod



>### 1.6.2

>-----

>The long over due release :-)

>Changes:
> - Fix: JsonFields, do not parse floats as decimals. This fixes bugs that causes
>        them to be returned as strings after multiple saves. Note that this can
>        be backwards incompatible !
> - Fix: use add_arguments() instead of option_list (Django 1.10)
> - Fix: create_command, Django 1.9 fixes
> - Fix: create_jobs, Django 1.9 fixes
> - Fix: RandomCharField, when not unique get the first value from the generator
> - Fix: graph_models, render() must be called with a dict
> - Fix: graph_models, use force_bytes fixes command for Python 3
> - Fix: graph_models, fix django 1.6 compatibility for strings defined relation
> - Fix: graph_models, fix settings.GRAPH_MODELS breaking the command
> - Fix: graph_models, add support for lazy relationships
> - Fix: ForeignKeyAutocompleteAdmin, url_patterns is just a list (Django 1.9+)
> - Fix: ForeignKeySearchInput, use url reversing instead of hardcoded paths
> - Fix: find_template, Fix for Django 1.8+
> - Fix: admin_generator, incompatible &quot;default&quot; identifier raising TypeError
> - Improvement: show_urls, add json and pretty-json formatting
> - Improvement: runserver_plus, add support for whitenoise
> - Improvement: ModificationDateTimeField, add parameter to preserve timestamps on save
> - Improvement: runprofileserver, raise command error when hotspot is not available
> - Improvement: reset_db, better parsing of mysql cnf file
> - Improvement: restored coverage for Python 3.2
> - Improvement: pep8 fixes, remove unused shims &amp; imports &amp; commented code
> - Improvement: graph_models, JSON output
> - Improvement: graph_models, add wildcard filters
> - Docs: removed text on donations, the hope was that we could generate some
>         funds to have more consistent development and outreach.
> - Docs: runserver_plus, added some documentation about LOGGING
> - Docs: runscript, update documentation to match Django tutorial for Django 1.8+
> - Docs: runprofileserver, add documentation on profiler choices
> - Docs: update_permissions, add basic documentation for command








### Werkzeug 0.9.6 -> 0.11.15

>### 0.11.14

>---------------

>Released on December 30th 2016.

>- Check if platform can fork before importing ``ForkingMixIn``, raise exception
>  when creating ``ForkingWSGIServer`` on such a platform, see PR ``999``.



>### 0.11.13

>---------------

>Released on December 26th 2016.

>- Correct fix for the reloader issuer on certain Windows installations.



>### 0.11.12

>---------------

>Released on December 26th 2016.

>- Fix more bugs in multidicts regarding empty lists. See ``1000``.
>- Add some docstrings to some `EnvironBuilder` properties that were previously
>  unintentionally missing.
>- Added a workaround for the reloader on windows.



>### 0.11.11

>---------------

>Released on August 31st 2016.

>- Fix JSONRequestMixin for Python3. See 731
>- Fix broken string handling in test client when passing integers. See 852
>- Fix a bug in ``parse_options_header`` where an invalid content type
>  starting with comma or semi-colon would result in an invalid return value,
>  see issue ``995``.
>- Fix a bug in multidicts when passing empty lists as values, see issue
>  ``979``.
>- Fix a security issue that allows XSS on the Werkzeug debugger. See ``1001``.



>### 0.11.10

>---------------

>Released on May 24th 2016.

>- Fixed a bug that occurs when running on Python 2.6 and using a broken locale.
>  See pull request 912.
>- Fixed a crash when running the debugger on Google App Engine. See issue 925.
>- Fixed an issue with multipart parsing that could cause memory exhaustion.



>### 0.11.9

>--------------

>Released on April 24th 2016.

>- Corrected an issue that caused the debugger not to use the
>  machine GUID on POSIX systems.
>- Corrected a Unicode error on Python 3 for the debugger&#39;s
>  PIN usage.
>- Corrected the timestamp verification in the pin debug code.
>  Without this fix the pin was remembered for too long.



>### 0.11.8

>--------------

>Released on April 15th 2016.

>- fixed a problem with the machine GUID detection code on OS X
>  on Python 3.



>### 0.11.7

>--------------

>Released on April 14th 2016.

>- fixed a regression on Python 3 for the debugger.



>### 0.11.6

>--------------

>Released on April 14th 2016.

>- werkzeug.serving: Still show the client address on bad requests.
>- improved the PIN based protection for the debugger to make it harder to
>  brute force via trying cookies.  Please keep in mind that the debugger
>  *is not intended for running on production environments*
>- increased the pin timeout to a week to make it less annoying for people
>  which should decrease the chance that users disable the pin check
>  entirely.
>- werkzeug.serving: Fix broken HTTP_HOST when path starts with double slash.



>### 0.11.5

>--------------

>Released on March 22nd 2016.

>- werkzeug.serving: Fix crash when attempting SSL connection to HTTP server.



>### 0.11.4

>--------------

>Released on February 14th 2016.

>- Fixed werkzeug.serving not working from -m flag.
>- Fixed incorrect weak etag handling.



>### 0.11.3

>--------------

>Released on December 20th 2015.

>- Fixed an issue with copy operations not working against
>  proxies.
>- Changed the logging operations of the development server to
>  correctly log where the server is running in all situations
>  again.
>- Fixed another regression with SSL wrapping similar to the
>  fix in 0.11.2 but for a different code path.



>### 0.11.2

>--------------

>Released on November 12th 2015.

>- Fix inheritable sockets on Windows on Python 3.
>- Fixed an issue with the forking server not starting any longer.
>- Fixed SSL wrapping on platforms that supported opening sockets
>  by file descriptor.
>- No longer log from the watchdog reloader.
>- Unicode errors in hosts are now better caught or converted into
>  bad request errors.



>### 0.11.1

>--------------

>Released on November 10th 2015.

>- Fixed a regression on Python 3 in the debugger.



>### 0.11

>------------

>Released on November 8th 2015, codename Gleisbaumaschine.

>- Added ``reloader_paths`` option to ``run_simple`` and other functions in
>  ``werkzeug.serving``. This allows the user to completely override the Python
>  module watching of Werkzeug with custom paths.
>- Many custom cached properties of Werkzeug&#39;s classes are now subclasses of
>  Python&#39;s ``property`` type (issue ``616``).
>- ``bind_to_environ`` now doesn&#39;t differentiate between implicit and explicit
>  default port numbers in ``HTTP_HOST`` (pull request ``204``).
>- ``BuildErrors`` are now more informative. They come with a complete sentence
>  as error message, and also provide suggestions (pull request ``691``).
>- Fix a bug in the user agent parser where Safari&#39;s build number instead of
>  version would be extracted (pull request ``703``).
>- Fixed issue where RedisCache set_many was broken for twemproxy, which doesn&#39;t
>  support the default MULTI command (pull request ``702``).
>- ``mimetype`` parameters on request and response classes are now always
>  converted to lowercase.
>- Changed cache so that cache never expires if timeout is 0. This also fixes
>  an issue with redis setex (issue ``550``)
>- Werkzeug now assumes ``UTF-8`` as filesystem encoding on Unix if Python
>  detected it as ASCII.
>- New optional `has` method on caches.
>- Fixed various bugs in `parse_options_header` (pull request ``643``).
>- If the reloader is enabled the server will now open the socket in the parent
>  process if this is possible.  This means that when the reloader kicks in
>  the connection from client will wait instead of tearing down.  This does
>  not work on all Python versions.
>- Implemented PIN based authentication for the debugger.  This can optionally
>  be disabled but is discouraged.  This change was necessary as it has been
>  discovered that too many people run the debugger in production.
>- Devserver no longer requires SSL module to be installed.



>### 0.10.5

>--------------

>(bugfix release, release date yet to be decided)

>- Reloader: Correctly detect file changes made by moving temporary files over
>  the original, which is e.g. the case with PyCharm (pull request ``722``).
>- Fix bool behavior of ``werkzeug.datastructures.ETags`` under Python 3 (issue
>  ``744``).



>### 0.10.4

>--------------

>(bugfix release, released on March 26th 2015)

>- Re-release of 0.10.3 with packaging artifacts manually removed.



>### 0.10.3

>--------------

>(bugfix release, released on March 26th 2015)

>- Re-release of 0.10.2 without packaging artifacts.



>### 0.10.2

>--------------

>(bugfix release, released on March 26th 2015)

>- Fixed issue where ``empty`` could break third-party libraries that relied on
>  keyword arguments (pull request ``675``)
>- Improved ``Rule.empty`` by providing a ```get_empty_kwargs`` to allow setting
>  custom kwargs without having to override entire ``empty`` method. (pull
>  request ``675``)
>- Fixed ```extra_files``` parameter for reloader to not cause startup
>  to crash when included in server params
>- Using `MultiDict` when building URLs is now not supported again. The behavior
>  introduced several regressions.
>- Fix performance problems with stat-reloader (pull request ``715``).



>### 0.10.1

>--------------

>(bugfix release, released on February 3rd 2015)

>- Fixed regression with multiple query values for URLs (pull request ``667``).
>- Fix issues with eventlet&#39;s monkeypatching and the builtin server (pull
>  request ``663``).



>### 0.10

>------------

>Released on January 30th 2015, codename Bagger.

>- Changed the error handling of and improved testsuite for the caches in
>  ``contrib.cache``.
>- Fixed a bug on Python 3 when creating adhoc ssl contexts, due to `sys.maxint`
>  not being defined.
>- Fixed a bug on Python 3, that caused
>  :func:`~werkzeug.serving.make_ssl_devcert` to fail with an exception.
>- Added exceptions for 504 and 505.
>- Added support for ChromeOS detection.
>- Added UUID converter to the routing system.
>- Added message that explains how to quit the server.
>- Fixed a bug on Python 2, that caused ``len`` for
>  :class:`werkzeug.datastructures.CombinedMultiDict` to crash.
>- Added support for stdlib pbkdf2 hmac if a compatible digest
>  is found.
>- Ported testsuite to use ``py.test``.
>- Minor optimizations to various middlewares (pull requests ``496`` and
>  ``571``).
>- Use stdlib ``ssl`` module instead of ``OpenSSL`` for the builtin server
>  (issue ``434``). This means that OpenSSL contexts are not supported anymore,
>  but instead ``ssl.SSLContext`` from the stdlib.
>- Allow protocol-relative URLs when building external URLs.
>- Fixed Atom syndication to print time zone offset for tz-aware datetime
>  objects (pull request ``254``).
>- Improved reloader to track added files and to recover from broken
>  sys.modules setups with syntax errors in packages.
>- ``cache.RedisCache`` now supports arbitrary ``**kwargs`` for the redis
>  object.
>- ``werkzeug.test.Client`` now uses the original request method when resolving
>  307 redirects (pull request ``556``).
>- ``werkzeug.datastructures.MIMEAccept`` now properly deals with mimetype
>  parameters (pull request ``205``).
>- ``werkzeug.datastructures.Accept`` now handles a quality of ``0`` as
>  intolerable, as per RFC 2616 (pull request ``536``).
>- ``werkzeug.urls.url_fix`` now properly encodes hostnames with ``idna``
>  encoding (issue ``559``). It also doesn&#39;t crash on malformed URLs anymore
>  (issue ``582``).
>- ``werkzeug.routing.MapAdapter.match`` now recognizes the difference between
>  the path ``/`` and an empty one (issue ``360``).
>- The interactive debugger now tries to decode non-ascii filenames (issue
>  ``469``).
>- Increased default key size of generated SSL certificates to 1024 bits (issue
>  ``611``).
>- Added support for specifying a ``Response`` subclass to use when calling
>  :func:`~werkzeug.utils.redirect`\ .
>- ``werkzeug.test.EnvironBuilder`` now doesn&#39;t use the request method anymore
>  to guess the content type, and purely relies on the ``form``, ``files`` and
>  ``input_stream`` properties (issue ``620``).
>- Added Symbian to the user agent platform list.
>- Fixed make_conditional to respect automatically_set_content_length
>- Unset ``Content-Length`` when writing to response.stream (issue ``451``)
>- ``wrappers.Request.method`` is now always uppercase, eliminating
>  inconsistencies of the WSGI environment (issue ``647``).
>- ``routing.Rule.empty`` now works correctly with subclasses of ``Rule`` (pull
>  request ``645``).
>- Made map updating safe in light of concurrent updates.
>- Allow multiple values for the same field for url building (issue ``658``).



>### 0.9.7

>-------------

>- Fixed uri_to_iri() not re-encoding hashes in query string parameters.







### pysolr 3.2.0 -> 3.6.0

>### 3.5.0

>-------------------

>New
>~~~

>- Expose the full Solr response in `Results` [Chris Adams]

>  This makes life easier for anyone using custom extensions by
>  removing the need to create a `Results` subclass just to get
>  access to an extra dictionary key.

>- More flexible control of request handlers. [nuarhu]

>  This allows configuring the default search handler and overriding it for every query method

>  Thanks to nuarhu for the patch

>- Start maintaining a changelog from gitchangelog. [Chris Adams]

>- Overwrite flag for Solr.add (closes 182) [Chris Adams]

>  Thanks to robinsonkwame for the patch

>- SolrCloud support (see 138) [Chris Adams]

>  This optionally adds support for SolrCloud using the Kazoo client
>  library.

>  Thanks to upayavira

>Other
>~~~~~

>- V3.5.0. [Chris Adams]

>- Merge pull request 192 from dhruvpathak/optimize_commit_flag. [Chris
>  Adams]

>  chg: `optimize()` also accepts `commit` flag

>- Included commit flag in optimize() to let optimize call run with or
>  without commit. [dhruv.pathak]

>- Merge pull request 188 from TigorC/master. [Chris Adams]

>  Removed py26 from tox.ini

>- Removed py26 from tox.ini. [Igor Tokarev]

>- Tests: avoid timeout-based CI failures. [Chris Adams]

>  These caused sporadic CI build failures and weren't
>  otherwise testing actual functionality since we don't have a
>  test which does something like SIGSTOP the test Solr server
>  long enough to confirm a timeout.

>  We'll confirm that the timeout is passed through but
>  otherwise use the defaults.

>- Update Travis CI badge in the README. [Chris Adams]

>- Merge pull request 184 from atuljangra/master. [Chris Adams]

>  Correct documentation for `_update`

>  Thanks to atuljangra for the patch!

>- Merge branch &#39;master&#39; of https://github.com/atuljangra/pysolr.
>  [atuljangra]

>- Misleading comments. [atuljangra]

>- Travis: use build matrix for regular and SolrCloud tests. [Chris
>  Adams]

>- Test_cloud: remove dead code. [Chris Adams]

>  The first instance of test_custom_results_class was broken because it
>  used the wrong port but this wasn't failing because the same method name
>  was redefined further down in the file and that used the updated port
>  config.

>- PEP-8. [Chris Adams]

>- ZooKeeper: log unexpected format changes to watched aliases. [Chris
>  Adams]

>- ZooKeeper: restore JSON blob decoding. [Chris Adams]

>- PEP-8. [Chris Adams]

>- PEP-8 unused imports. [Chris Adams]

>- PEP-8. [Chris Adams]

>- PEP-8. [Chris Adams]

>- PEP-8. [Chris Adams]

>- Setup.cfg: add pep8 and isort config. [Chris Adams]

>- Tear down requests.Session instance at close. [Chris Adams]

>  This avoids log-spew on modern unittest implementations
>  which report unclosed file handles at the end of a run.

>- Remove Python 2.6 from Travis test matrix. [Chris Adams]

>- Add __future__ absolute_import. [Chris Adams]

>  This is currently moot but avoids any chance of regression
>  between Python 2.x and 3.x.

>- PEP-8. [Chris Adams]

>- Drop support for Python 2.6. [Chris Adams]

>  We have some old import dances and other overhead for Python
>  2.6 support, which the CPython developers dropped support
>  for in 2013:

>  http://www.curiousefficiency.org/posts/2015/04/stop-supporting-python26.html

>- Allow queries to be directed to different search handlers. [Chris
>  Adams]

>  The `search` method now allows you override the default `select` handler
>  when your Solr instance has multiple search handlers.

>  Thanks to k-patel for the patch.

>  Closes 174
>  Closes 175



>### 3.4.0

>-------------------

>- Update version numbers for v3.4.0. [Chris Adams]

>- Logging: better message for HTTP status != 200. [Chris Adams]

>  We already extract error message from Solr responses and that is
>  great. Unfortunately it can contain the data that may change with
>  every request (like document id).

>  This creates an issue when user uses Sentry or other solution
>  that captures logging or exceptions. Previous implementation
>  causes many duplicated events in Sentry if message extracted
>  using `self._extract_error(resp)` contained such variable data.

>  This change uses &#39;non-mutable&#39; message that is complemented
>  with extracted data that using string formatting option supplied
>  by Python logging. Thanks to this, Sentry and other solutions
>  can perform better grouping of loging messages (by status code).

>  This is approach that is already used in handling other errors.

>- Fix response error handling on Python 3 (closes 162) [Chris Adams]

>  Previously the error handling did not work correctly on Python 3 because
>  a byte-string response wasn&#39;t decoded before processing.

>  Thanks to Emmanuel Leblond (touilleMan) for the patch.

>- Merge pull request 167 from swistakm/master. [Chris Adams]

>  Refactor common response processing to Results class

>- Move response manipulation responsibility to Results class and allow
>  custom results classes. [mjaworski]

>- Add Python 3.5 to automated test matrix. [Chris Adams]



>### 3.3.3

>-------------------

>- V3.3.3. [Chris Adams]

>- Fix response error handling on Python 3 (closes 162) [Chris Adams]

>  Previously the error handling did not work correctly on Python 3 because
>  a byte-string response wasn&#39;t decoded before processing.

>  Thanks to Emmanuel Leblond (touilleMan) for the patch.

>- Tests: upgrade Solr to 4.10.4. [Chris Adams]

>  * Resync test Solar script with django-haystack
>    These are still not quite the same; at some point it would be nice to
>    look into a common tool which both projects could use
>  * Update Solr configuration script to set correct libpath for solr-cell
>    to avoid lazy-load failures during testing as was reported on e.g. 162

>- Tests: update Solr download script for recent API change. [Chris
>  Adams]

>- Merge pull request 142 from yspanchal/master. [Chris Adams]

>  Add support for cursormark pagination

>- Added cursormark deep pagination support. [Yogesh Panchal]



>### 3.3.2

>-------------------

>- Version 3.3.2. [Chris Adams]

>- Python 2.6 backwards compatibility. [Chris Adams]

>  Python 2.6 shipped with ElementTree 1.2.x. Among other differences, it
>  lacks support for the attribute selectors used to process valid XML
>  error messages, which was added in ElementTree 1.3.

>- Merge pull request 155 from domenkozar/solr4/exceptions. [Chris
>  Adams]

>  Support Solr 4 XML error format parsing

>  Thanks domenkozar for the patch

>- Overhaul Travis config. [Chris Adams]

>  * Sidestep use of Tox in favor of Travis-managed Python versions
>  * Enable container-based builds
>  * Enable caching for Solr server downloads

>- Use builtin unittest2 runner on Python 2.7 as well. [Chris Adams]

>- Simple error extraction. [Chris Adams]

>  Previously pysolr depended on lxml and cssselect to extract
>  text from Tomcat's error messages, which was unreliable.

>  This change uses regular expressions to deal with invalid
>  XML rather than lxml's salvaging parser and avoids having
>  to maintain the code which attempted to find the main error
>  message in tag soup

>  Closes 149

>- Update test Solr download script to work with default Python 3. [Chris
>  Adams]



>### 3.3.1

>-------------------

>- Version 3.3.1. [Chris Adams]

>- Prepare for 3.3.1 release. [Chris Adams]

>- Convert all HTTP client errors to SolrError. [Chris Adams]

>  This commit ensures that an outside caller can handle all HTTP-related errors by catching SolrError without knowing whether the exception class is owned by requests, urllib3, or httplib.

>- Merge pull request 146 from gryphius/fix_doc_typo. [Chris Adams]

>  Fix typo in ExtractingRequestHandler documentation

>  Thanks gryphius

>- Doc fix: a very simply model -&gt; a very simple model. [Oli]

>- Merge pull request 139 from upayavira/feature/no-optimize. [Daniel
>  Lindsley]

>  Optimize is no longer recommended

>- Optimize is no longer recommended. [Upayavira]

>  Since Solr 3.6, Solr has used the TieredMergePolicy which makes,
>  in most scenarios, optimization a harmful rather than beneficial
>  step.



>### 3.3.0

>-------------------

>- Bumped to v3.3.0! [Daniel Lindsley]

>- Added acdha to primaries for all his hard work. [Daniel Lindsley]

>- Support Solr 4+ individual field updates (closes 129) [Chris Adams]

>  Now fields can be updated individually:

>       conn.add(docs, fieldUpdates={&#39;myfield1_ss&#39;: &#39;add&#39;,
>                                    &#39;myfield2_s&#39;: &#39;set&#39;,
>                                    &#39;myfield3_i&#39;: &#39;inc&#39;})

>  Thanks to Çağatay Çallı (faraday) for the patch.

>- Merge pull request 137 from LuRsT/patch-1. [Chris Adams]

>  Fixed syntax error in README.rst example (thanks LuRsT)

>- Fixed syntax error in README.rst example. [Gil Gonçalves]

>- Add softCommit support (closes 98) [Chris Adams]

>  add() and commit() may now be called with softCommit=True

>  Thanks to sicarrots for the patch

>- Merge pull request 123 from ulivedit/master. [Chris Adams]

>  Python 3 compatibility for error message extraction (thanks ulivedit)

>- Fix python 3.4 error with forcing unicode strings. [Eric Hagman]

>- Merge pull request 135 from Grokzen/master. [Chris Adams]

>  Use DEBUG_PYSOLR environmental variable to configure logging

>  This offers an alternative to editing pysolr.py or reconfiguring logging elsewhere

>- Make it easier to debug pysolr via environment variable. [Johan
>  Andersson]

>- Merge pull request 131 from andreif/highlighted-readme. [Chris Adams]

>  Highlight Python code in README.rst (thanks andreif)

>- Highlight Python code in README.rst. [Andrei Fokau]

>- Add support for error responses in JSON format (closes 113) [Chris
>  Adams]

>  Thanks to andreif for the patch and tests

>- Merge pull request 125 from phill-tornroth/patch-1. [Chris Adams]

>  Fix get-solr-download-url.py for Python 2.6

>- Fixes &#39;zero field length&#39; error from `format()` [Phill Tornroth]

>  Unless I&#39;m missing something... :)

>- Travis: download Solr before starting tests. [Chris Adams]

>  This should avoid download errors being presented as test failures

>- Tests: increase Solr startup timeout. [Chris Adams]

>- Add test Solr tarball downloads to .gitignore. [Chris Adams]

>- Tests: add Python 3.4 targets. [Chris Adams]

>- Tests: use Solr 4.7.2 from nearest mirror (closes 115) [Chris Adams]

>- Tests: add a script to retrieve the closest Apache mirror. [Chris
>  Adams]

>  See 115

>- Merge pull request 111 from redjack/py26-tests. [Chris Adams]

>  Update &#39;run-tests.py&#39; to invoke unittest2 correctly on Python 2.6

>- Update &#39;run-tests.py&#39; to invoke unittest2 correctly on Python 2.6.
>  [Andy Freeland]

>- Expanded testing section of the README. [Chris Adams]

>- Merge pull request 36 from glenbot/master. [Chris Adams]

>  Update to SolrCoreAdmin.create to use correct action

>- Updated create command in SolrCoreAdmin to use correct action.
>  [glenbot]

>- Fix type in SolrAdmin.create default parameter. [Chris Adams]

>  See 36

>- Updated ignores. [Daniel Lindsley]







### requests 2.10.0 -> 2.13.0

>### 2.13.0

>+++++++++++++++++++

>**Features**

>- Only load the ``idna`` library when we&#39;ve determined we need it. This will
>  save some memory for users.

>**Miscellaneous**

>- Updated bundled urllib3 to 1.20.
>- Updated bundled idna to 2.2.



>### 2.12.5

>+++++++++++++++++++

>**Bugfixes**

>- Fixed an issue with JSON encoding detection, specifically detecting
>  big-endian UTF-32 with BOM.



>### 2.12.4

>+++++++++++++++++++

>**Bugfixes**

>- Fixed regression from 2.12.2 where non-string types were rejected in the
>  basic auth parameters. While support for this behaviour has been readded,
>  the behaviour is deprecated and will be removed in the future.



>### 2.12.3

>+++++++++++++++++++

>**Bugfixes**

>- Fixed regression from v2.12.1 for URLs with schemes that begin with &quot;http&quot;.
>  These URLs have historically been processed as though they were HTTP-schemed
>  URLs, and so have had parameters added. This was removed in v2.12.2 in an
>  overzealous attempt to resolve problems with IDNA-encoding those URLs. This
>  change was reverted: the other fixes for IDNA-encoding have been judged to
>  be sufficient to return to the behaviour Requests had before v2.12.0.



>### 2.12.2

>+++++++++++++++++++

>**Bugfixes**

>- Fixed several issues with IDNA-encoding URLs that are technically invalid but
>  which are widely accepted. Requests will now attempt to IDNA-encode a URL if
>  it can but, if it fails, and the host contains only ASCII characters, it will
>  be passed through optimistically. This will allow users to opt-in to using
>  IDNA2003 themselves if they want to, and will also allow technically invalid
>  but still common hostnames.
>- Fixed an issue where URLs with leading whitespace would raise
>  ``InvalidSchema`` errors.
>- Fixed an issue where some URLs without the HTTP or HTTPS schemes would still
>  have HTTP URL preparation applied to them.
>- Fixed an issue where Unicode strings could not be used in basic auth.
>- Fixed an issue encountered by some Requests plugins where constructing a
>  Response object would cause ``Response.content`` to raise an
>  ``AttributeError``.



>### 2.12.1

>+++++++++++++++++++

>**Bugfixes**

>- Updated setuptools &#39;security&#39; extra for the new PyOpenSSL backend in urllib3.

>**Miscellaneous**

>- Updated bundled urllib3 to 1.19.1.



>### 2.12.0

>+++++++++++++++++++

>**Improvements**

>- Updated support for internationalized domain names from IDNA2003 to IDNA2008.
>  This updated support is required for several forms of IDNs and is mandatory
>  for .de domains.
>- Much improved heuristics for guessing content lengths: Requests will no
>  longer read an entire ``StringIO`` into memory.
>- Much improved logic for recalculating ``Content-Length`` headers for
>  ``PreparedRequest`` objects.
>- Improved tolerance for file-like objects that have no ``tell`` method but
>  do have a ``seek`` method.
>- Anything that is a subclass of ``Mapping`` is now treated like a dictionary
>  by the ``data=`` keyword argument.
>- Requests now tolerates empty passwords in proxy credentials, rather than
>  stripping the credentials.
>- If a request is made with a file-like object as the body and that request is
>  redirected with a 307 or 308 status code, Requests will now attempt to
>  rewind the body object so it can be replayed.

>**Bugfixes**

>- When calling ``response.close``, the call to ``close`` will be propagated
>  through to non-urllib3 backends.
>- Fixed issue where the ``ALL_PROXY`` environment variable would be preferred
>  over scheme-specific variables like ``HTTP_PROXY``.
>- Fixed issue where non-UTF8 reason phrases got severely mangled by falling
>  back to decoding using ISO 8859-1 instead.
>- Fixed a bug where Requests would not correctly correlate cookies set when
>  using custom Host headers if those Host headers did not use the native
>  string type for the platform.

>**Miscellaneous**

>- Updated bundled urllib3 to 1.19.
>- Updated bundled certifi certs to 2016.09.26.



>### 2.11.1

>+++++++++++++++++++

>**Bugfixes**

>- Fixed a bug when using ``iter_content`` with ``decode_unicode=True`` for
>  streamed bodies would raise ``AttributeError``. This bug was introduced in
>  2.11.
>- Strip Content-Type and Transfer-Encoding headers from the header block when
>  following a redirect that transforms the verb from POST/PUT to GET.



>### 2.11.0

>+++++++++++++++++++

>**Improvements**

>- Added support for the ``ALL_PROXY`` environment variable.
>- Reject header values that contain leading whitespace or newline characters to
>  reduce risk of header smuggling.

>**Bugfixes**

>- Fixed occasional ``TypeError`` when attempting to decode a JSON response that
>  occurred in an error case. Now correctly returns a ``ValueError``.
>- Requests would incorrectly ignore a non-CIDR IP address in the ``NO_PROXY``
>  environment variables: Requests now treats it as a specific IP.
>- Fixed a bug when sending JSON data that could cause us to encounter obscure
>  OpenSSL errors in certain network conditions (yes, really).
>- Added type checks to ensure that ``iter_content`` only accepts integers and
>  ``None`` for chunk sizes.
>- Fixed issue where responses whose body had not been fully consumed would have
>  the underlying connection closed but not returned to the connection pool,
>  which could cause Requests to hang in situations where the ``HTTPAdapter``
>  had been configured to use a blocking connection pool.

>**Miscellaneous**

>- Updated bundled urllib3 to 1.16.
>- Some previous releases accidentally accepted non-strings as acceptable header values. This release does not.







### PyMySQL 0.6.2 -> 0.7.9

>### 0.7.9


>Release date: 2016-09-03

>* Fix PyMySQL stop reading rows when first column is empty string (513)
>  Reverts DEPRECATE_EOF introduced in 0.7.7.



>### 0.7.8


>Release date: 2016-09-01

>* Revert error message change in 0.7.7.
>  (SQLAlchemy parses error message, 507)



>### 0.7.7


>Release date: 2016-08-30

>* Add new unicode collation (498)
>* Fix conv option is not used for encoding objects.
>* Experimental support for DEPRECATE_EOF protocol.



>### 0.7.6


>Release date: 2016-07-29

>* Fix SELECT JSON type cause UnicodeError
>* Avoid float convertion while parsing microseconds
>* Warning has number
>* SSCursor supports warnings



>### 0.7.5


>Release date: 2016-06-28

>* Fix exception raised while importing when getpwuid() fails (472)
>* SSCursor supports LOAD DATA LOCAL INFILE (473)
>* Fix encoding error happen for JSON type (477)
>* Fix test fail on Python 2.7 and MySQL 5.7 (478)



>### 0.7.4


>Release date: 2016-05-26

>* Fix AttributeError may happen while Connection.__del__ (463)
>* Fix SyntaxError in test_cursor. (464)
>* frozenset support for query value. (461)
>* Start using readthedocs.io



>### 0.7.3


>Release date: 2016-05-19

>* Add read_timeout and write_timeout option.
>* Support serialization customization by `conv` option.
>* Unknown type is converted by `str()`, for MySQLdb compatibility.
>* Support &#39;%%&#39; in `Cursor.executemany()`
>* Support REPLACE statement in `Cursor.executemany()`
>* Fix handling incomplete row caused by &#39;SHOW SLAVE HOSTS&#39;.
>* Fix decode error when use_unicode=False on PY3
>* Fix port option in my.cnf file is ignored.




>### 0.7.2


>Release date: 2016-02-24

>* Fix misuse of `max_allowed_packet` parameter. (426, 407 and 397)
>* Add %(name)s plceholder support to `Cursor.executemany()`. (427, thanks to
>  WorldException)



>### 0.7.1


>Release date: 2016-01-14

>* Fix auth fail with MySQL 5.1
>* Fix escaping unicode fails on Python 2



>### 0.7


>Release date: 2016-01-10

>* Faster binary escaping
>* Add `&quot;_binary&quot; prefix` to string literal for binary types.
>  binary types are: `bytearray` on Python 2, `bytes` and `bytearray` on Python 3.
>  This is because recent MySQL show warnings when string literal is invalid for
>  connection encoding.
>* `pymysql.Binary()` returns `bytearray` on Python 2.  This is required to distinguish
>  binary and string.
>* Auth plugin support.
>* no_delay option is ignored.  It will be removed in PyMySQL 0.8.




>### 0.6.7


>Release date: 2015-09-30

>* Allow self signed certificate
>* Add max_allowed_packet option
>* Fix error when bytes in executemany
>* Support geometry type
>* Add coveralls badge to README
>* Fix some bugs relating to warnings
>* Add Cursor.mogrify() method
>* no_delay option is deprecated and True by default
>* Fix options from my.cnf overrides options from arguments
>* Allow socket like object.  (It&#39;s not feature for end users)
>* Strip quotes while reading options from my.cnf file
>* Fix encoding issue in executemany()



>### 0.6.6


>* Add context manager to cursor
>* Fix can&#39;t encode blob that is not utf-8 on PY3. (regression of 0.6.4,
>  Thanks to wiggzz)



>### 0.6.5

>Skipped



>### 0.6.4

>* Support &quot;LOAD LOCAL INFILE&quot;.  Thanks wraziens
>* Show MySQL warnings after execute query.
>* Fix MySQLError may be wrapped with OperationalError while connectiong. (274)
>* SSCursor no longer attempts to expire un-collected rows within __del__,
>  delaying termination of an interrupted program; cleanup of uncollected
>  rows is left to the Connection on next execute, which emits a
>  warning at that time. (287)
>* Support datetime and time with microsecond. (303)
>* Use surrogateescape to format bytes on Python 3.
>* OperationalError raised from connect() have information about original
>  exception. (304)
>* `init_command` now support multi statement.
>* `Connection.escape()` method now accepts second argument compatible to
>  MySQL-Python.



>### 0.6.3

>* Fixed multiple result sets with SSCursor.
>* Fixed connection timeout.
>* Fixed literal set syntax to work on Py2.6.
>* Allow for mysql negative values with 0 hour timedelta.
>* Added Connection.begin().







### psycopg2 2.4.5 -> 2.6.2

>### 2.6.2

>^^^^^^^^^^^^^^^^^^^^^^^^^^^

>- Report the server response status on errors (such as :ticket:`281`).
>- Raise `!NotSupportedError` on unhandled server response status
>  (:ticket:`352`).
>- Allow overriding string adapter encoding with no connection (:ticket:`331`).
>- The `~psycopg2.extras.wait_select` callback allows interrupting a
>  long-running query in an interactive shell using :kbd:`Ctrl-C`
>  (:ticket:`333`).
>- Fixed `!PersistentConnectionPool` on Python 3 (:ticket:`348`).
>- Fixed segfault on `repr()` of an unitialized connection (:ticket:`361`).
>- Allow adapting bytes using QuotedString on Python 3 too (:ticket:`365`).
>- Added support for setuptools/wheel (:ticket:`370`).
>- Fix build on Windows with Python 3.5, VS 2015 (:ticket:`380`).
>- Fixed `!errorcodes.lookup` initialization thread-safety (:ticket:`382`).
>- Fixed `!read()` exception propagation in copy_from (:ticket:`412`).
>- Fixed possible NULL TZ decref  (:ticket:`424`).
>- `~psycopg2.errorcodes` map updated to PostgreSQL 9.5.




>### 2.6.1

>^^^^^^^^^^^^^^^^^^^^^^^^^^^

>- Lists consisting of only `None` are escaped correctly (:ticket:`285`).
>- Fixed deadlock in multithread programs using OpenSSL (:ticket:`290`).
>- Correctly unlock the connection after error in flush (:ticket:`294`).
>- Fixed `!MinTimeLoggingCursor.callproc()` (:ticket:`309`).
>- Added support for MSVC 2015 compiler (:ticket:`350`).




>### 2.6

>-------------------------

>New features:

>- Added support for large objects larger than 2GB. Many thanks to Blake Rouse
>  and the MAAS Team for the feature development.
>- Python `time` objects with a tzinfo specified and PostgreSQL :sql:`timetz`
>  data are converted into each other (:ticket:`272`).

>Bug fixes:

>- Json adapter&#39;s `!str()` returns the adapted content instead of the `!repr()`
>  (:ticket:`191`).




>### 2.5.5

>^^^^^^^^^^^^^^^^^^^^^^^^^^^

>- Named cursors used as context manager don&#39;t swallow the exception on exit
>  (:ticket:`262`).
>- `cursor.description` can be pickled (:ticket:`265`).
>- Propagate read error messages in COPY FROM (:ticket:`270`).
>- PostgreSQL time 24:00 is converted to Python 00:00 (:ticket:`278`).




>### 2.5.4

>^^^^^^^^^^^^^^^^^^^^^^^^^^^

>- Added :sql:`jsonb` support for PostgreSQL 9.4 (:ticket:`226`).
>- Fixed segfault if COPY statements are passed to `~cursor.execute()` instead
>  of using the proper methods (:ticket:`219`).
>- Force conversion of pool arguments to integer to avoid potentially unbounded
>  pools (:ticket:`220`).
>- Cursors :sql:`WITH HOLD` don&#39;t begin a new transaction upon move/fetch/close
>  (:ticket:`228`).
>- Cursors :sql:`WITH HOLD` can be used in autocommit (:ticket:`229`).
>- `~cursor.callproc()` doesn&#39;t silently ignore an argument without a length.
>- Fixed memory leak with large objects (:ticket:`256`).
>- Make sure the internal ``_psycopg.so`` module can be imported stand-alone (to
>  allow modules juggling such as the one described in :ticket:`201`).




>### 2.5.3

>^^^^^^^^^^^^^^^^^^^^^^^^^^^

>- Work around `pip issue 1630 &lt;https://github.com/pypa/pip/issues/1630&gt;`__
>  making installation via ``pip -e git+url`` impossible (:ticket:`18`).
>- Copy operations correctly set the `cursor.rowcount` attribute
>  (:ticket:`180`).
>- It is now possible to call `get_transaction_status()` on closed connections.
>- Fixed unsafe access to object names causing assertion failures in
>  Python 3 debug builds (:ticket:`188`).
>- Mark the connection closed if found broken on `poll()` (from :ticket:`192`
>  discussion)
>- Fixed handling of dsn and closed attributes in connection subclasses
>  failing to connect (from :ticket:`192` discussion).
>- Added arbitrary but stable order to `Range` objects, thanks to
>  Chris Withers (:ticket:`193`).
>- Avoid blocking async connections on connect (:ticket:`194`). Thanks to
>  Adam Petrovich for the bug report and diagnosis.
>- Don&#39;t segfault using poorly defined cursor subclasses which forgot to call
>  the superclass init (:ticket:`195`).
>- Mark the connection closed when a Socket connection is broken, as it
>  happens for TCP connections instead (:ticket:`196`).
>- Fixed overflow opening a lobject with an oid not fitting in a signed int
>  (:ticket:`203`).
>- Fixed handling of explicit default ``cursor_factory=None`` in
>  `connection.cursor()` (:ticket:`210`).
>- Fixed possible segfault in named cursors creation.
>- Fixed debug build on Windows, thanks to James Emerton.




>### 2.5.2

>^^^^^^^^^^^^^^^^^^^^^^^^^^^

>- Fixed segfault pickling the exception raised on connection error
>  (:ticket:`170`).
>- Meaningful connection errors report a meaningful message, thanks to
>  Alexey Borzenkov (:ticket:`173`).
>- Manually creating `lobject` with the wrong parameter doesn&#39;t segfault
>  (:ticket:`187`).




>### 2.5.1

>^^^^^^^^^^^^^^^^^^^^^^^^^^^

>- Fixed build on Solaris 10 and 11 where the round() function is already
>  declared (:ticket:`146`).
>- Fixed comparison of `Range` with non-range objects (:ticket:`164`).
>  Thanks to Chris Withers for the patch.
>- Fixed double-free on connection dealloc (:ticket:`166`). Thanks to
>  Gangadharan S.A. for the report and fix suggestion.




>### 2.5

>-------------------------

>New features:

>- Added :ref:`JSON adaptation &lt;adapt-json&gt;`.
>- Added :ref:`support for PostgreSQL 9.2 range types &lt;adapt-range&gt;`.
>- `connection` and `cursor` objects can be used in ``with`` statements
>  as context managers as specified by recent |DBAPI|_ extension.
>- Added `~psycopg2.extensions.Diagnostics` object to get extended info
>  from a database error.  Many thanks to Matthew Woodcraft for the
>  implementation (:ticket:`149`).
>- Added `connection.cursor_factory` attribute to customize the default
>  object returned by `~connection.cursor()`.
>- Added support for backward scrollable cursors. Thanks to Jon Nelson
>  for the initial patch (:ticket:`108`).
>- Added a simple way to :ref:`customize casting of composite types
>  &lt;adapt-composite&gt;` into Python objects other than namedtuples.
>  Many thanks to Ronan Dunklau and Tobias Oberstein for the feature
>  development.
>- `connection.reset()` implemented using :sql:`DISCARD ALL` on server
>  versions supporting it.

>Bug fixes:

>- Properly cleanup memory of broken connections (:ticket:`148`).
>- Fixed bad interaction of ``setup.py`` with other dependencies in
>  Distribute projects on Python 3 (:ticket:`153`).

>Other changes:

>- Added support for Python 3.3.
>- Dropped support for Python 2.4. Please use Psycopg 2.4.x if you need it.
>- `~psycopg2.errorcodes` map updated to PostgreSQL 9.2.
>- Dropped Zope adapter from source repository. ZPsycopgDA now has its own
>  project at &lt;http://github.com/psycopg/ZPsycopgDA&gt;.




>### 2.4.6

>^^^^^^^^^^^^^^^^^^^^^^^^^^^

>- Fixed &#39;cursor()&#39; arguments propagation in connection subclasses
>  and overriding of the &#39;cursor_factory&#39; argument.  Thanks to
>  Corry Haines for the report and the initial patch (:ticket:`105`).
>- Dropped GIL release during string adaptation around a function call
>  invoking a Python API function, which could cause interpreter crash.
>  Thanks to Manu Cupcic for the report (:ticket:`110`).
>- Close a green connection if there is an error in the callback.
>  Maybe a harsh solution but it leaves the program responsive
>  (:ticket:`113`).
>- &#39;register_hstore()&#39;, &#39;register_composite()&#39;, &#39;tpc_recover()&#39; work with
>  RealDictConnection and Cursor (:ticket:`114`).
>- Fixed broken pool for Zope and connections re-init across ZSQL methods
>  in the same request (:tickets:`123, 125, 142`).
>- connect() raises an exception instead of swallowing keyword arguments
>  when a connection string is specified as well (:ticket:`131`).
>- Discard any result produced by &#39;executemany()&#39; (:ticket:`133`).
>- Fixed pickling of FixedOffsetTimezone objects (:ticket:`135`).
>- Release the GIL around PQgetResult calls after COPY (:ticket:`140`).
>- Fixed empty strings handling in composite caster (:ticket:`141`).
>- Fixed pickling of DictRow and RealDictRow objects.










Once you have closed this pull request, I'll create seperate pull requests for every update as soon as I find them.

That's it for now!

Happy merging! 🤖
"
13192,GetBlimp,django-rest-framework-jwt,4,closed,97,1,https://api.github.com/repos/GetBlimp/django-rest-framework-jwt/issues/97/comments,https://github.com/GetBlimp/django-rest-framework-jwt/issues/97,[],OperationalError: no such table: auth_user,"cloned the project, and run the test as the following with the following error. Can anyone shed some ligh on the issue?

$ ./runtests.py
==================================================================================================================================== test session starts =====================================================================================================================================
platform linux2 -- Python 2.7.2 -- py-1.4.26 -- pytest-2.6.4
collected 43 items 

tests/test_authentication.py FFFFFFFFFFss
tests/test_serializers.py FFsFFF
tests/test_utils.py FFFFFFFFFF
tests/test_views.py FFFFFFFFFFFFFFF

========================================================================================================================================== FAILURES ==========================================================================================================================================
_____________________________________________________________________________________________________________ JSONWebTokenAuthenticationTests.test_different_auth_header_prefix ______________________________________________________________________________________________________________

self = <tests.test_authentication.JSONWebTokenAuthenticationTests testMethod=test_different_auth_header_prefix>

```
def setUp(self):
    self.csrf_client = APIClient(enforce_csrf_checks=True)
    self.username = 'jpueblo'
    self.email = 'jpueblo@example.com'
```

> ```
>   self.user = User.objects.create_user(self.username, self.email)
> ```

tests/test_authentication.py:79: 

---

../../apps/python-2.7.2/lib/python2.7/site-packages/django/contrib/auth/models.py:187: in create_user
    *_extra_fields)
../../apps/python-2.7.2/lib/python2.7/site-packages/django/contrib/auth/models.py:182: in _create_user
    user.save(using=self._db)
../../apps/python-2.7.2/lib/python2.7/site-packages/django/db/models/base.py:710: in save
    force_update=force_update, update_fields=update_fields)
../../apps/python-2.7.2/lib/python2.7/site-packages/django/db/models/base.py:738: in save_base
    updated = self._save_table(raw, cls, force_insert, force_update, using, update_fields)
../../apps/python-2.7.2/lib/python2.7/site-packages/django/db/models/base.py:822: in _save_table
    result = self._do_insert(cls._base_manager, using, fields, update_pk, raw)
../../apps/python-2.7.2/lib/python2.7/site-packages/django/db/models/base.py:861: in _do_insert
    using=using, raw=raw)
../../apps/python-2.7.2/lib/python2.7/site-packages/django/db/models/manager.py:127: in manager_method
    return getattr(self.get_queryset(), name)(_args, **kwargs)
../../apps/python-2.7.2/lib/python2.7/site-packages/django/db/models/query.py:920: in _insert
    return query.get_compiler(using=using).execute_sql(return_id)
../../apps/python-2.7.2/lib/python2.7/site-packages/django/db/models/sql/compiler.py:963: in execute_sql
    cursor.execute(sql, params)
../../apps/python-2.7.2/lib/python2.7/site-packages/django/db/backends/utils.py:64: in execute
    return self.cursor.execute(sql, params)
../../apps/python-2.7.2/lib/python2.7/site-packages/django/db/utils.py:97: in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
../../apps/python-2.7.2/lib/python2.7/site-packages/django/db/backends/utils.py:64: in execute
    return self.cursor.execute(sql, params)

---

self = <django.db.backends.sqlite3.base.SQLiteCursorWrapper object at 0x2321510>, query = 'INSERT INTO ""auth_user"" (""password"", ""last_login"", ""is_superuser"", ""username"", ""first_name"", ""last_name"", ""email"", ""is_staff"", ""is_active"", ""date_joined"") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)'
params = ['!PFhnSZujHPvSBGh0Fi0a5cmMhZKvPzYfu3f4gzJO', None, False, 'jpueblo', '', '', ...]

```
def execute(self, query, params=None):
    if params is None:
        return Database.Cursor.execute(self, query)
    query = self.convert_query(query)
```

> ```
>   return Database.Cursor.execute(self, query, params)
> ```
> 
> E       OperationalError: no such table: auth_user
"
13575,Fantomas42,django-blog-zinnia,2,closed,532,1,https://api.github.com/repos/Fantomas42/django-blog-zinnia/issues/532/comments,https://github.com/Fantomas42/django-blog-zinnia/issues/532,[],migrate fails when installing zinnia for the first time on a production database,"# Actual behavior

Installing zinnia to a production system, fails on `zinnia.0003_publication_date` migration with some timeout. 

It looks that `fill_publication_date()` function in ""/zinnia/migrations/0003_publication_date.py"" timeouts when trying to access entries with: `for entry in entry_klass.objects.all()`, but zinnia database is empty.

Exception follows:

```
(env) user@host:~/project_root$ ./manage.py migrate zinnia
Operations to perform:
  Apply all migrations: zinnia
Running migrations:
  Applying zinnia.0002_lead_paragraph_and_image_caption... OK
  Applying zinnia.0003_publication_date...Traceback (most recent call last):
  File ""./manage.py"", line 28, in <module>
    execute_from_command_line(sys.argv)
  File ""/home/user/project_root/env/local/lib/python2.7/site-packages/django/core/management/__init__.py"", line 364, in execute_from_command_line
    utility.execute()
  File ""/home/user/project_root/env/local/lib/python2.7/site-packages/django/core/management/__init__.py"", line 356, in execute
    self.fetch_command(subcommand).run_from_argv(self.argv)
 line 283, in run_from_argv
    self.execute(*args, **cmd_options)
  File ""/home/user/project_root/env/local/lib/python2.7/site-packages/django/core/management/base.py"", line 330, in execute
    output = self.handle(*args, **options)
  File ""/home/user/project_root/env/local/lib/python2.7/site-packages/django/core/management/commands/migrate.py"", line 204, in handle
    fake_initial=fake_initial,
  File ""/home/user/project_root/env/local/lib/python2.7/site-packages/django/db/migrations/executor.py"", line 115, in migrate
    state = self._migrate_all_forwards(state, plan, full_plan, fake=fake, fake_initial=fake_initial)
  File ""/home/user/project_root/env/local/lib/python2.7/site-packages/django/db/migrations/executor.py"", line 145, in _migrate_all_forwards
    state = self.apply_migration(state, migration, fake=fake, fake_initial=fake_initial)
  File ""/home/user/project_root/env/local/lib/python2.7/site-packages/django/db/migrations/executor.py"", line 244, in apply_migration
    state = migration.apply(state, schema_editor)
  File ""/home/user/project_root/env/local/lib/python2.7/site-packages/django/db/migrations/migration.py"", line 129, in apply
    operation.database_forwards(self.app_label, schema_editor, old_state, project_state)
  File ""/home/user/project_root/env/local/lib/python2.7/site-packages/django/db/migrations/operations/special.py"", line 193, in database_forwards
    self.code(from_state.apps, schema_editor)
  File ""/home/user/project_root/env/local/lib/python2.7/site-packages/zinnia/migrations/0003_publication_date.py"", line 7, in fill_publication_date
    for entry in entry_klass.objects.all():
  File ""/home/user/project_root/env/local/lib/python2.7/site-packages/django/db/models/query.py"", line 250, in __iter__
    self._fetch_all()
  File ""/home/user/project_root/env/local/lib/python2.7/site-packages/django/db/models/query.py"", line 1118, in _fetch_all
    self._result_cache = list(self._iterable_class(self))
  File ""/home/user/project_root/env/local/lib/python2.7/site-packages/django/db/models/query.py"", line 53, in __iter__
    results = compiler.execute_sql(chunked_fetch=self.chunked_fetch)
  File ""/home/user/project_root/env/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py"", line 899, in execute_sql
    raise original_exception
django.db.utils.OperationalError: canceling statement due to statement timeout
```

# Expected behavior

Migrations, especially for a fresh zinnia installation without entries in database, should not raise time out exceptions, breaking also a deployment.

# Workaround

Edited ""0003_publication_date.py"" file and added a `return` in `fill_publication_date()` so function body does not execute. Note that this may be ok only for a fresh - empty zinnia database.

# Steps to reproduce the issue

  1. Add `zinnia` to settings.INSTALLED_APPS
  2. python manage.py migrate (or python manage.py migrate zinnia, same output).

# Specifications

 - Database: PostgreSQL 9.6.8
 - Zinnia version: 0.19
 - Django version: 1.11.9
 - Python version: 2.7.12
 - Operating system: Ubuntu 16.04

# Disclaimer

<!--

Please read these points carefully and answer honestly with an `X`
into all the boxes. Example : [X]

-->

Before submitting an *issue* make sure you have:

 - [X] Read the guidelines for contributing.
 - [X] Checked for duplicate issues.
 - [X] Not a support request.
"
13625,Fantomas42,django-blog-zinnia,2,closed,476,10,https://api.github.com/repos/Fantomas42/django-blog-zinnia/issues/476/comments,https://github.com/Fantomas42/django-blog-zinnia/issues/476,"[{""default"": false, ""name"": ""Database"", ""url"": ""https://api.github.com/repos/Fantomas42/django-blog-zinnia/labels/Database"", ""color"": ""a858ba"", ""node_id"": ""MDU6TGFiZWw0NTQzNg=="", ""id"": 45436}, {""default"": false, ""name"": ""Tests"", ""url"": ""https://api.github.com/repos/Fantomas42/django-blog-zinnia/labels/Tests"", ""color"": ""b50000"", ""node_id"": ""MDU6TGFiZWw1Mzc0NA=="", ""id"": 53744}]","When running the tests, I am obtaining ""There is 1 other session using the database"" with Postgresql","Hello!

As the title says, almost everytime I run the tests I get

```
OperationalError: database ""database_name"" is being accessed by other users
DETAIL:  There is 1 other session using the database
```

I was not getting it until I start using django-blog-zinnia in my project.

Searching through internet, I found https://code.djangoproject.com/ticket/22420#comment:8

according to that comment, that person was also using django-blog-zinnia. Is there a chance that this error is produced by blog-zinnia?

Thank you!
"
14282,awesto,django-shop,3,closed,550,2,https://api.github.com/repos/awesto/django-shop/issues/550/comments,https://github.com/awesto/django-shop/issues/550,[],Error applying shop.0004_ckeditor31 migration.,"I get this error trying to run `shop.0004_ckeditor` migration, using MySQL:

```zsh
django.db.utils.OperationalError: (1093, ""You can't specify target table 'cms_cmsplugin' for update in FROM clause"")
```
Maybe has to do with this?
http://stackoverflow.com/questions/4429319/you-cant-specify-target-table-for-update-in-from-clause

When I Changed:
```python
""SELECT id FROM  cms_cmsplugin WHERE plugin_type='AcceptConditionFormPlugin');""
```
to:
```python
""SELECT id FROM (SELECT * FROM cms_cmsplugin) AS plugins WHERE plugin_type='AcceptConditionFormPlugin');""
```

the migrations ran fine."
14508,awesto,django-shop,6,closed,294,2,https://api.github.com/repos/awesto/django-shop/issues/294/comments,https://github.com/awesto/django-shop/issues/294,[],django-shop,"OperationalError at /shop/products/

no such table: shop_product

Request Method:     GET
Request URL:    http://127.0.0.1:8000/shop/products/
Django Version:     1.8.5
Exception Type:     OperationalError
Exception Value:    

no such table: shop_product

Exception Location:     /home/pradeep/.local/lib/python2.7/site-packages/django/db/backends/sqlite3/base.py in execute, line 318
Python Executable:  /usr/bin/python2.7
Python Version:     2.7.6
Python Path:    

['/home/pradeep/Desktop/srit',
 '/usr/local/lib/python2.7/dist-packages/setuptools-5.7-py2.7.egg',
 '/usr/local/lib/python2.7/dist-packages/pip-1.5.6-py2.7.egg',
 '/home/pradeep/Desktop/srit',
 '/usr/lib/python2.7',
 '/usr/lib/python2.7/plat-i386-linux-gnu',
 '/usr/lib/python2.7/lib-tk',
 '/usr/lib/python2.7/lib-old',
 '/usr/lib/python2.7/lib-dynload',
 '/home/pradeep/.local/lib/python2.7/site-packages',
 '/usr/local/lib/python2.7/dist-packages',
 '/usr/lib/python2.7/dist-packages',
 '/usr/lib/python2.7/dist-packages/PILcompat',
 '/usr/lib/python2.7/dist-packages/gtk-2.0',
 '/usr/lib/python2.7/dist-packages/ubuntu-sso-client']

Server time:    Wed, 25 Nov 2015 08:33:43 +0000
Error during template rendering

In template /home/pradeep/.local/lib/python2.7/site-packages/shop/templates/shop/product_list.html, error at line 7
"
15133,rafalp,Misago,5,closed,884,4,https://api.github.com/repos/rafalp/Misago/issues/884/comments,https://github.com/rafalp/Misago/issues/884,"[{""default"": false, ""name"": ""backend"", ""url"": ""https://api.github.com/repos/rafalp/Misago/labels/backend"", ""color"": ""1976D2"", ""node_id"": ""MDU6TGFiZWw3NTU1NjQwNA=="", ""id"": 75556404}, {""default"": true, ""name"": ""bug"", ""url"": ""https://api.github.com/repos/rafalp/Misago/labels/bug"", ""color"": ""FF9800"", ""node_id"": ""MDU6TGFiZWwxOTk3NDg0Mw=="", ""id"": 19974843}, {""default"": false, ""name"": ""client"", ""url"": ""https://api.github.com/repos/rafalp/Misago/labels/client"", ""color"": ""81D4FA"", ""node_id"": ""MDU6TGFiZWwyNjQ4MDU0Nw=="", ""id"": 26480547}]",Add bulk update/delete operations to API,"When user selects two or more posts on thread view and selects ""delete posts"" action, following error is occasionally raised:

```
OperationalError: deadlock detected
DETAIL:  Process 25972 waits for ShareLock on transaction 6914969; blocked by process 25973.
Process 25973 waits for ShareLock on transaction 6914968; blocked by process 25972.
HINT:  See server log for query details.
CONTEXT:  while updating tuple (9,44) in relation ""misago_threads_thread""
```

This is likely to occur for posts move as well.

Upon some debugging I've came to conclusion that best way to go about this issue would be implementation of massmoderation endpoints for threads and posts.

**Bulk ops**

* [x] Bulk delete posts
* [x] Bulk delete threads
* [x] Bulk patch posts
* [x] Bulk patch threads
* [x] 404 on bulk request in endpoints that don't support those

**Locking**

Instead of locking other tables, we'll use `request.user.lock()` in critical endpoints (like/vote) to protect against flood by individual user and remove locking from other endpoints. We'll still wrap some ops in transactions to minimize risk of data corruption (eg. poll creation poll/post vote, thread move, delete). "
15179,rafalp,Misago,5,closed,835,0,https://api.github.com/repos/rafalp/Misago/issues/835/comments,https://github.com/rafalp/Misago/pull/835,"[{""default"": false, ""name"": ""meta"", ""url"": ""https://api.github.com/repos/rafalp/Misago/labels/meta"", ""color"": ""c2e0c6"", ""node_id"": ""MDU6TGFiZWw1MTMyODgzNjM="", ""id"": 513288363}]",Misago 0.6,"# Updating instructions

Misago 0.6 bumps all dependencies to their current versions. This makes it preferable to perform its installation on fresh virtual environment.

```
virtualenv venv
pip install misago --pre
```

## `MISAGO_JS_CATALOG_PACKAGES` has been deprecated.

Django 1.10 deprecates support for the `javascript_catalog` view, superseding it with the `JavaScriptCatalog`. Because of this Misago drops it's own `misago.core.views.javascript_catalog` view.

Instead, as part of migration you need to edit your site's `urls.py` to include new `JavaScriptCatalog` view.

Add following imports:

```python

from django.utils import timezone
from django.views.decorators.cache import cache_page
from django.views.decorators.http import last_modified
from django.views.i18n import JavaScriptCatalog
```

Delete following import:

```python
from misago.core.views import javascript_catalog
```

Finally, edit line defining the view:

```python
    # Javascript translations
    url(r'^django-i18n.js$', javascript_catalog, name='django-i18n'),
```

To following:

```python
# Javascript translations
    url(
        r'^django-i18n.js$',
        cache_page(86400 * 2, key_prefix='misagojsi18n')(
            last_modified(lambda req, **kw: timezone.now())(
                JavaScriptCatalog.as_view(
                    packages=['misago'],
                ),
            ),
        ),
        name='django-i18n'
    ),
```

## The way that Django Admin URL's were included in `urlconf` has changed

If you have enabled django admin in your Misago site via uncommenting it in default `urls.py`, you'll need to edit the line for future compatibility with Django 2.0.

Find in your `urls.py`:

```python
url(r'^django-admin/', include(admin.site.urls)),
```

And change it to:

```python
url(r'^django-admin/', admin.site.urls),
```

## About the `could not open extension control file` error during database migration

If you run into an error that looks like following:

    django.db.utils.OperationalError: could not open extension control file ""/usr/share/postgresql/9.4/extension/btree_gin.control"": No such file or directory

This means you'll need to install the `postgresql-contrib` package that includes extensions for PostgreSQL:

    sudo apt-get install postgresql-contrib


## About the `django.db.utils.ProgrammingError: permission denied to create extension ""btree_gin""` error during database migration

Only superusers may enable extensions in your database. To solve this issue, you may grant your database user super user privileges for duration of the installation:

    # switch to postgresql user and start psql tool
    sudo -u postgres psql postgres

    # make your database user the superuser
    alter role user_name superuser;

    # after installation is complete run below query in the psql
    # to remove super user privileges from your database user 
    alter role user_name nosuperuser;

# New features

* #848: Added OpenGraph tags to pages for sharing in social media.

# Theme changes

* #836 - Additional category styles.
* #845 - Made user ranks border less dominant.
* #847 - Made difference between default and disabled buttons more noticeable.
* #851 - Wrapped fallback categories list on thread view in noscript so it'll won't blink before JS kicks in.
* #852 - Removed gradients from iconography.

# Bugs fixed

* #834 - Horizontally aligned header stats items in Safari.
* #842 - Changed css class on team role created by migration to from ""team"" to ""primary"".
* #846 - Fixed check version tool in admin.
* #850 - Icon and colorful badge didn't appear in user's menu if user has unread private threads.
* #853 - Fixed and cleaned categories custom css class handling on threads and thread views.
* #854 - Switched the order of captcha and form validation around in registration form, so invalid form submission will not invalidate reCaptcha token.

# Implementation and API changes

* #653 - Ranks are translated using language specified in `settings.py` when Misago is installed. If permission roles names have translation for active language, they'll be displayed translated in the admin UI.
* #837 - Unified all models link serialization to `url` and `api` props.
* #838 - Updated Django version to Django 1.11 LTS.
* #839 - Updated all dependencies to their latest versions.
* #843 - Forum search uses GIN index for faster search. It also limits results number to five pages of latest items that meet search criteria for performance reasons.
* #855 - Deleted `misagodbrelations` util.
* #857 - Misago will now no longer strip whitespaces from around the passwords. This puts its password handling behaviour in compliance with `django.contrib.auth`.
* #844 -The `CreatePartialIndex` and `CreatePartialCompositeIndex` utils have been superseded with new `PgPartialIndex` that uses custom index mechanic introduced in Django 1.11

# Documentation changes

* #838 - Removed `MISAGO_JS_CATALOG_PACKAGES` from settings doc.
* #853 - Documented additional CSS classes available on thread and category views when custom CSS class is set on category.
"
16023,Tivix,django-rest-auth,2,closed,446,1,https://api.github.com/repos/Tivix/django-rest-auth/issues/446/comments,https://github.com/Tivix/django-rest-auth/issues/446,[],While deleting a user from django admin: getting error	 no such table: allauth_socialaccount,"I added users using the rest-auth/register url. but i am not able to delete the users from the django admin console. it is giving the error 

**OperationalError at /admin/auth/user/
no such table: allauth_socialaccount**"
16166,Tivix,django-rest-auth,3,closed,218,3,https://api.github.com/repos/Tivix/django-rest-auth/issues/218/comments,https://github.com/Tivix/django-rest-auth/issues/218,[],django.contrib.sites dependency missing in installation instructions,"Without

```
INSTALLED_APPS = (
    ...,
    'django.contrib.sites',
```

You will get an ""OperationalError: no such table: django_site"" when trying to register a user.

```
$ lsb_release -d
Description:    Ubuntu 14.04.4 LTS

$ python --version
Python 3.4.3

$ pip freeze
defusedxml==0.4.1
Django==1.8
django-allauth==0.25.2
django-rest-auth==0.7.0
djangorestframework==3.3.3
oauthlib==1.1.2
python3-openid==3.0.10
requests==2.10.0
requests-oauthlib==0.6.1
six==1.10.0
```
"
16299,Tivix,django-rest-auth,5,closed,71,5,https://api.github.com/repos/Tivix/django-rest-auth/issues/71/comments,https://github.com/Tivix/django-rest-auth/issues/71,[],deleted a user ,"OperationalError at /admin/auth/user/3/delete/
no such table: allauth_socialaccount
Request Method: GET
Request URL:    http://127.0.0.1:8888/admin/auth/user/3/delete/
Django Version: 1.8
Exception Type: OperationalError
Exception Value:  
no such table: allauth_socialaccount
Exception Location: /home/coco/project/env/jifen/lib/python3.4/site-packages/Django-1.8-py3.4.egg/django/db/backends/sqlite3/base.py in execute, line 318
Python Executable:  /home/coco/project/env/jifen/bin/python
Python Version: 3.4.0
Python Path:  
['/home/coco/project/django-rest-auth/demo',
 '/home/coco/project/env/jifen/lib/python3.4/site-packages/Django-1.8-py3.4.egg',
 '/home/coco/project/env/jifen/lib/python3.4',
 '/home/coco/project/env/jifen/lib/python3.4/plat-x86_64-linux-gnu',
 '/home/coco/project/env/jifen/lib/python3.4/lib-dynload',
 '/usr/lib/python3.4',
 '/usr/lib/python3.4/plat-x86_64-linux-gnu',
 '/home/coco/project/env/jifen/lib/python3.4/site-packages']
Server time:    Mon, 13 Apr 2015 06:14:38 +0000
"
16474,vitorfs,bootcamp,3,closed,80,2,https://api.github.com/repos/vitorfs/bootcamp/issues/80/comments,https://github.com/vitorfs/bootcamp/issues/80,[],Password Showing incorrect,"  conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
django.db.utils.OperationalError: FATAL:  password authentication failed for user ""u_bootcamp""
FATAL:  password authentication failed for user ""u_bootcamp""
"
664,taigaio,taiga-back,4,closed,950,1,https://api.github.com/repos/taigaio/taiga-back/issues/950/comments,https://github.com/taigaio/taiga-back/issues/950,[],How to downgrade database ?,"**Do you want to request a *feature* or report a *bug*?**

Report a *bug*.

**What is the current behavior?**

I was mistakenly using master branch in taiga-backend (as one reported in #913).
So, I switched to stable branch.

After some days, I discovered that I can't create new project anymore.

I unsuccessfully tried to  downgrade database using django command:

```sh
./manage.py migrate projects zero
Trying import local.py settings...
Operations to perform:
  Unapply all migrations: projects
Running migrations:
  Rendering model states... DONE
  Unapplying userstories.0014_auto_20160928_0540...Raven is not configured (logging is disabled). Please see the documentation for more information.
Traceback (most recent call last):
  File ""/usr/local/lib/python3.5/site-packages/django/db/backends/utils.py"", line 64, in execute
    return self.cursor.execute(sql, params)
psycopg2.DataError: integer out of range

```

So, how can I downgrade database without loosing users datas?


**If the current behavior is a bug, please provide the steps to reproduce.**

1. From personal dashboard, Projects > Create Project.
2. Fill in needed Informations
3. Validate

-> Nothing Happens

**What is the expected behavior?**

New Project form should close and bring you to your new project .


**Is it happening in taiga.io or in your own instance?**
My Own.

**What browser/version are you using?**

Chromium Version 58.0.3028.0 / Windows 7

**Are there any console errors *(Ctrl + F12)* in red?**

_Console error:_
> POST http://my-taiga-instance/api/v1/projects 500 (Internal Server Error)

_Request Payload:_
```js
{""is_private"":false,""creation_template"":1,""name"":""test"",""description"":""test""}
```
_Server log:_
> [...]
>   File ""/usr/local/lib/python3.5/site-packages/django/utils/six.py"", line 685, in reraise
>     raise value.with_traceback(tb)
>   File ""/usr/local/lib/python3.5/site-packages/django/db/backends/utils.py"", line 64, in execute
>     return self.cursor.execute(sql, params)
> django.db.utils.IntegrityError: null value in column ""is_contact_activated"" violates not-null constraint
"
769,taigaio,taiga-back,5,closed,813,9,https://api.github.com/repos/taigaio/taiga-back/issues/813/comments,https://github.com/taigaio/taiga-back/issues/813,[],error on removing sample project,"Hi, I followed the installation guide on ubuntu 16.04.
When I tried to delete the sample project 0, it 500 error as below
(I turned on the DEBUG flag to get details)

```
IntegrityError at /admin/projects/project/
insert or update on table ""timeline_timeline"" violates foreign key constraint ""timeline_timeline_project_id_58d5eadd_fk_projects_project_id""
DETAIL:  Key (project_id)=(1) is not present in table ""projects_project""
```

details:

```
Request Method: POST
Request URL:    http://10.62.41.188/admin/projects/project/
Django Version: 1.9.2
Exception Type: IntegrityError
Exception Value:    
insert or update on table ""timeline_timeline"" violates foreign key constraint ""timeline_timeline_project_id_58d5eadd_fk_projects_project_id""
DETAIL:  Key (project_id)=(1) is not present in table ""projects_project"".
Exception Location: /home/devops/.virtualenvs/taiga/lib/python3.5/site-packages/django/db/backends/base/base.py in _commit, line 211
Python Executable:  /home/devops/.virtualenvs/taiga/bin/python3.5
Python Version: 3.5.2
Python Path:    
['/home/devops/taiga-back',
 '/home/devops/taiga-back',
 '/home/devops/.virtualenvs/taiga/bin',
 '/home/devops/.virtualenvs/taiga/lib/python3.5/site-packages',
 '/home/devops/.virtualenvs/taiga/lib/python35.zip',
 '/home/devops/.virtualenvs/taiga/lib/python3.5',
 '/home/devops/.virtualenvs/taiga/lib/python3.5/plat-x86_64-linux-gnu',
 '/home/devops/.virtualenvs/taiga/lib/python3.5/lib-dynload',
 '/usr/lib/python3.5',
 '/usr/lib/python3.5/plat-x86_64-linux-gnu',
 '/home/devops/taiga-back']
```

is it caused by incompatible python/postgres version?
"
1112,taigaio,taiga-back,9,closed,429,4,https://api.github.com/repos/taigaio/taiga-back/issues/429/comments,https://github.com/taigaio/taiga-back/issues/429,"[{""default"": true, ""name"": ""bug"", ""url"": ""https://api.github.com/repos/taigaio/taiga-back/labels/bug"", ""color"": ""fc2929"", ""node_id"": ""MDU6TGFiZWwzMjUzOTI0Nw=="", ""id"": 32539247}]",Import user story with role points results in an IntegrityError,"Importing a user story with defined role_points I will end up with an IntegrityError caused by a duplicate key value violates unique constraint:

> duplicate key value violates unique constraint ""userstories_rolepoints_user_story_id_176812a03cfb458d_uniq""
> DETAIL:  Key (user_story_id, role_id)=(68, 7) already exists.

The exception is triggered by the `serialized.save()` call in the `store_role_point` function in `taiga-back/taiga/export_import/service.py:390` which is called in the `store_user_story` function.

I am not familiar with the code base but I think that this could be caused by saving the user story object first with default values for the role points. In `store_role_point` the relation is then saved instead of being updated.
"
1174,taigaio,taiga-back,10,closed,358,3,https://api.github.com/repos/taigaio/taiga-back/issues/358/comments,https://github.com/taigaio/taiga-back/issues/358,[],user account creation from invitations fails ,"I am running stable 1.7 and have encountered errors with registering private users. Invitations are sent and the token is written to the membership table, but users can't redeem their invitations b/c of a constraint on the 'project_id' field on the 'timeline_timeline' table:

```
psycopg2.IntegrityError: null value in column ""project_id"" violates not-null constraint
DETAIL:  Failing row contains (2950, 158, user:158, users.user.create, null, {""user"": {""id"": 158}}, 3, 2015-06-18 20:54:13.521675+00, 3).

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File ""/taiga-back/taiga/users/models.py"", line 164, in save
    super().save(*args, **kwargs)
  File ""/usr/local/lib/python3.4/dist-packages/django/db/models/base.py"", line 589, in save
    force_update=force_update, update_fields=update_fields)
  File ""/usr/local/lib/python3.4/dist-packages/django/db/models/base.py"", line 626, in save_base
    update_fields=update_fields, raw=raw, using=using)
  File ""/usr/local/lib/python3.4/dist-packages/django/dispatch/dispatcher.py"", line 198, in send
    response = receiver(signal=self, sender=sender, **named)
  File ""/taiga-back/taiga/timeline/signals.py"", line 132, in create_user_push_to_timeline
    _push_to_timelines(project, user, user, ""create"")
  File ""/taiga-back/taiga/timeline/signals.py"", line 46, in _push_to_timelines
    extra_data=extra_data)
  File ""/taiga-back/taiga/timeline/signals.py"", line 33, in _push_to_timeline
    push_to_timeline(*args, **kwargs)
  File ""/usr/local/lib/python3.4/dist-packages/celery/local.py"", line 167, in <lambda>
    __call__ = lambda x, *a, **kw: x._get_current_object()(*a, **kw)
  File ""/usr/local/lib/python3.4/dist-packages/celery/app/task.py"", line 420, in __call__
    return self.run(*args, **kwargs)
...
  File ""/usr/local/lib/python3.4/dist-packages/django/db/backends/utils.py"", line 65, in execute
    return self.cursor.execute(sql, params)
  File ""/usr/local/lib/python3.4/dist-packages/django/db/utils.py"", line 94, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File ""/usr/local/lib/python3.4/dist-packages/django/utils/six.py"", line 658, in reraise
    raise value.with_traceback(tb)
  File ""/usr/local/lib/python3.4/dist-packages/django/db/backends/utils.py"", line 65, in execute
    return self.cursor.execute(sql, params)
```

```
STATEMENT:  INSERT INTO ""timeline_timeline"" (""content_type_id"", ""object_id"", ""namespace"", ""event_type"", ""project_id"", ""data"", ""data_content_type_id"", ""created"") VALUES (3, 158, 'user:158', 'users.user.create', NULL, '{""user"": {""id"": 158}}', 3, '2015-06-18 20:54:13.521675+00:00') RETURNING ""timeline_timeline"".""id""
```
"
1395,taigaio,taiga-back,12,closed,113,2,https://api.github.com/repos/taigaio/taiga-back/issues/113/comments,https://github.com/taigaio/taiga-back/pull/113,[],Fix 1196: Catch IntegrityError on partial updates,
2605,nitely,Spirit,3,closed,94,11,https://api.github.com/repos/nitely/Spirit/issues/94/comments,https://github.com/nitely/Spirit/issues/94,[],Is it a better idea to let postgresql handle the primary key?,"If you use postgresql, creating another category would be a little inconvenient. For example, with the following two lines in a test, django will complain `django.db.utils.IntegrityError: duplicate key value violates unique constraint ""spirit_category_category_pkey"" DETAIL:  Key (id)=(1) already exists.`

```
from spirit.core.tests import utils
self.category = utils.create_category()
```

Because spirit has already inserted two other categories by default, with respective `id` specified. In the file `spirit/category/migrations/0002_auto_20150728_0442.py`, you can find the following lines:

```
if not Category.objects.filter(pk=settings.ST_TOPIC_PRIVATE_CATEGORY_PK).exists():
    Category.objects.create(
        pk=settings.ST_TOPIC_PRIVATE_CATEGORY_PK,
        title=""Private"",
        slug=""private"",
        is_private=True
    )

if not Category.objects.filter(pk=settings.ST_UNCATEGORIZED_CATEGORY_PK).exists():
    Category.objects.create(
        pk=settings.ST_UNCATEGORIZED_CATEGORY_PK,
        title=""Uncategorized"",
        slug=""uncategorized""
    )
```

It's not hard to fix the problem, you just need to restart the last_value.

```
alter sequence spirit_category_category_id_seq restart with 3
```

But I think it may be convenient if `pk` was not specified in the first place, .i.e. let postgresql generate the suitable `id` for the table. Removing the following two lines in the above code would be better, I think.

```
pk=settings.ST_TOPIC_PRIVATE_CATEGORY_PK,
pk=settings.ST_UNCATEGORIZED_CATEGORY_PK,
```
"
2652,nitely,Spirit,3,closed,40,2,https://api.github.com/repos/nitely/Spirit/issues/40/comments,https://github.com/nitely/Spirit/pull/40,[],Fix postgres broken transaction from IntegrityError catch,"IntegrityError causes transaction erroneous state in Postgres, so, any database request after that will cause exception. Fixed by django update_or_create, as mentioned in comments before.
"
5112,mirumee,saleor,26,closed,1519,5,https://api.github.com/repos/mirumee/saleor/issues/1519/comments,https://github.com/mirumee/saleor/issues/1519,[],SiteSettings Primary Key error,"Hi guys

I get an error when i run `python manage.py migrate`

```bash
(handmade) ➜  saleor git:(master) ✗ python3 manage.py migrate
System check identified some issues:

WARNINGS:
saleor.W001: Session caching cannot work with locmem backend
	HINT: User sessions need to be globally shared, use a cache server like Redis.
Operations to perform:
  Apply all migrations: auth, cart, contenttypes, discount, django_celery_results, django_prices_openexchangerates, impersonate, order, product, sessions, shipping, site, sites, social_django, userprofile
Running migrations:
  Applying cart.0004_auto_20171129_1004... OK
  Applying discount.0006_auto_20171129_1004... OK
  Applying django_celery_results.0001_initial... OK
  Applying impersonate.0001_initial... OK
  Applying order.0019_auto_20171109_1423... OK
  Applying order.0020_auto_20171123_0609... OK
  Applying order.0021_auto_20171129_1004... OK
  Applying order.0022_auto_20171205_0428... OK
  Applying order.0023_auto_20171206_0506... OK
  Applying order.0024_remove_order_status... OK
  Applying order.0025_auto_20171214_1015... OK
  Applying order.0026_auto_20171218_0428... OK
  Applying product.0036_auto_20171115_0608... OK
  Applying product.0037_auto_20171124_0847... OK
  Applying product.0038_auto_20171129_0616... OK
  Applying product.0037_auto_20171129_1004... OK
  Applying product.0039_merge_20171130_0727... OK
  Applying product.0040_auto_20171205_0428... OK
  Applying product.0041_auto_20171205_0546... OK
  Applying product.0042_auto_20171206_0501... OK
  Applying product.0043_auto_20171207_0839... OK
  Applying shipping.0006_auto_20171109_0908... OK
  Applying shipping.0007_auto_20171129_1004... OK
  Applying site.0006_auto_20171025_0454... OK
  Applying site.0007_auto_20171027_0856...Traceback (most recent call last):
  File ""/Users/raybesiga/Projects/saleor/handmade/lib/python3.6/site-packages/django/db/models/query.py"", line 464, in get_or_create
    return self.get(**lookup), False
  File ""/Users/raybesiga/Projects/saleor/handmade/lib/python3.6/site-packages/django/db/models/query.py"", line 380, in get
    self.model._meta.object_name
__fake__.DoesNotExist: SiteSettings matching query does not exist.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File ""/Users/raybesiga/Projects/saleor/handmade/lib/python3.6/site-packages/django/db/backends/utils.py"", line 65, in execute
    return self.cursor.execute(sql, params)
psycopg2.IntegrityError: duplicate key value violates unique constraint ""site_sitesettings_pkey""
DETAIL:  Key (id)=(1) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File ""manage.py"", line 10, in <module>
    execute_from_command_line(sys.argv)
  File ""/Users/raybesiga/Projects/saleor/handmade/lib/python3.6/site-packages/django/core/management/__init__.py"", line 364, in execute_from_command_line
    utility.execute()
  File ""/Users/raybesiga/Projects/saleor/handmade/lib/python3.6/site-packages/django/core/management/__init__.py"", line 356, in execute
    self.fetch_command(subcommand).run_from_argv(self.argv)
  File ""/Users/raybesiga/Projects/saleor/handmade/lib/python3.6/site-packages/django/core/management/base.py"", line 283, in run_from_argv
    self.execute(*args, **cmd_options)
  File ""/Users/raybesiga/Projects/saleor/handmade/lib/python3.6/site-packages/django/core/management/base.py"", line 330, in execute
    output = self.handle(*args, **options)
  File ""/Users/raybesiga/Projects/saleor/handmade/lib/python3.6/site-packages/django/core/management/commands/migrate.py"", line 204, in handle
    fake_initial=fake_initial,
  File ""/Users/raybesiga/Projects/saleor/handmade/lib/python3.6/site-packages/django/db/migrations/executor.py"", line 115, in migrate
    state = self._migrate_all_forwards(state, plan, full_plan, fake=fake, fake_initial=fake_initial)
  File ""/Users/raybesiga/Projects/saleor/handmade/lib/python3.6/site-packages/django/db/migrations/executor.py"", line 145, in _migrate_all_forwards
    state = self.apply_migration(state, migration, fake=fake, fake_initial=fake_initial)
  File ""/Users/raybesiga/Projects/saleor/handmade/lib/python3.6/site-packages/django/db/migrations/executor.py"", line 244, in apply_migration
    state = migration.apply(state, schema_editor)
  File ""/Users/raybesiga/Projects/saleor/handmade/lib/python3.6/site-packages/django/db/migrations/migration.py"", line 129, in apply
    operation.database_forwards(self.app_label, schema_editor, old_state, project_state)
  File ""/Users/raybesiga/Projects/saleor/handmade/lib/python3.6/site-packages/django/db/migrations/operations/special.py"", line 193, in database_forwards
    self.code(from_state.apps, schema_editor)
  File ""/Users/raybesiga/Projects/saleor/saleor/site/migrations/0007_auto_20171027_0856.py"", line 21, in link_to_sites
    defaults={'domain': site.domain, 'name': site.name})
  File ""/Users/raybesiga/Projects/saleor/handmade/lib/python3.6/site-packages/django/db/models/manager.py"", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File ""/Users/raybesiga/Projects/saleor/handmade/lib/python3.6/site-packages/django/db/models/query.py"", line 466, in get_or_create
    return self._create_object_from_params(lookup, params)
  File ""/Users/raybesiga/Projects/saleor/handmade/lib/python3.6/site-packages/django/db/models/query.py"", line 506, in _create_object_from_params
    six.reraise(*exc_info)
  File ""/Users/raybesiga/Projects/saleor/handmade/lib/python3.6/site-packages/django/utils/six.py"", line 686, in reraise
    raise value
  File ""/Users/raybesiga/Projects/saleor/handmade/lib/python3.6/site-packages/django/db/models/query.py"", line 498, in _create_object_from_params
    obj = self.create(**params)
  File ""/Users/raybesiga/Projects/saleor/handmade/lib/python3.6/site-packages/django/db/models/query.py"", line 394, in create
    obj.save(force_insert=True, using=self.db)
  File ""/Users/raybesiga/Projects/saleor/handmade/lib/python3.6/site-packages/django/db/models/base.py"", line 807, in save
    force_update=force_update, update_fields=update_fields)
  File ""/Users/raybesiga/Projects/saleor/handmade/lib/python3.6/site-packages/django/db/models/base.py"", line 837, in save_base
    updated = self._save_table(raw, cls, force_insert, force_update, using, update_fields)
  File ""/Users/raybesiga/Projects/saleor/handmade/lib/python3.6/site-packages/django/db/models/base.py"", line 923, in _save_table
    result = self._do_insert(cls._base_manager, using, fields, update_pk, raw)
  File ""/Users/raybesiga/Projects/saleor/handmade/lib/python3.6/site-packages/django/db/models/base.py"", line 962, in _do_insert
    using=using, raw=raw)
  File ""/Users/raybesiga/Projects/saleor/handmade/lib/python3.6/site-packages/django/db/models/manager.py"", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File ""/Users/raybesiga/Projects/saleor/handmade/lib/python3.6/site-packages/django/db/models/query.py"", line 1076, in _insert
    return query.get_compiler(using=using).execute_sql(return_id)
  File ""/Users/raybesiga/Projects/saleor/handmade/lib/python3.6/site-packages/django/db/models/sql/compiler.py"", line 1107, in execute_sql
    cursor.execute(sql, params)
  File ""/Users/raybesiga/Projects/saleor/handmade/lib/python3.6/site-packages/django/db/backends/utils.py"", line 80, in execute
    return super(CursorDebugWrapper, self).execute(sql, params)
  File ""/Users/raybesiga/Projects/saleor/handmade/lib/python3.6/site-packages/django/db/backends/utils.py"", line 65, in execute
    return self.cursor.execute(sql, params)
  File ""/Users/raybesiga/Projects/saleor/handmade/lib/python3.6/site-packages/django/db/utils.py"", line 94, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File ""/Users/raybesiga/Projects/saleor/handmade/lib/python3.6/site-packages/django/utils/six.py"", line 685, in reraise
    raise value.with_traceback(tb)
  File ""/Users/raybesiga/Projects/saleor/handmade/lib/python3.6/site-packages/django/db/backends/utils.py"", line 65, in execute
    return self.cursor.execute(sql, params)
django.db.utils.IntegrityError: duplicate key value violates unique constraint ""site_sitesettings_pkey""
DETAIL:  Key (id)=(1) already exists.

(handmade) ➜  saleor git:(master) ✗
```
Should i delete the database and recreate it? I run `python manage.py migrate` before and got a urllib error so there should not be an issue. Please advise."
6462,mirumee,saleor,39,closed,114,5,https://api.github.com/repos/mirumee/saleor/issues/114/comments,https://github.com/mirumee/saleor/issues/114,"[{""default"": true, ""name"": ""bug"", ""url"": ""https://api.github.com/repos/mirumee/saleor/labels/bug"", ""color"": ""fc2929"", ""node_id"": ""MDU6TGFiZWwyODE5MjMzMQ=="", ""id"": 28192331}]",Integrity Error When Loading Fixtures for Project,"Per this question http://stackoverflow.com/questions/19857406/django-unable-to-load-test-fixtures-integrityerror/19857905?noredirect=1#19857905 and discussion on the Google Group - https://groups.google.com/forum/#!topic/satchless/khbhKRAxJpM I am getting the following problem when loading test fixtures generated from a database dump of a saleor installation 

Traceback (most recent call last):
  File ""/Users/andres/.virtualenvs/rpmwest/lib/python2.7/site-packages/django/test/testcases.py"", line 259, in **call**
    self._pre_setup()
  File ""/Users/andres/.virtualenvs/rpmwest/lib/python2.7/site-packages/django/test/testcases.py"", line 479, in _pre_setup
    self._fixture_setup()
  File ""/Users/andres/.virtualenvs/rpmwest/lib/python2.7/site-packages/django/test/testcases.py"", line 849, in _fixture_setup
    'skip_validation': True,
  File ""/Users/andres/.virtualenvs/rpmwest/lib/python2.7/site-packages/django/core/management/__init__.py"", line 161, in call_command
    return klass.execute(_args, *_defaults)
  File ""/Users/andres/.virtualenvs/rpmwest/lib/python2.7/site-packages/django/core/management/base.py"", line 255, in execute
    output = self.handle(_args, *_options)
  File ""/Users/andres/.virtualenvs/rpmwest/lib/python2.7/site-packages/django/core/management/commands/loaddata.py"", line 224, in handle
    connection.check_constraints(table_names=table_names)
  File ""/Users/andres/.virtualenvs/rpmwest/lib/python2.7/site-packages/django/db/backends/postgresql_psycopg2/base.py"", line 132, in check_constraints
    self.cursor().execute('SET CONSTRAINTS ALL IMMEDIATE')
  File ""/Users/andres/.virtualenvs/rpmwest/lib/python2.7/site-packages/django/db/backends/postgresql_psycopg2/base.py"", line 56, in execute
    six.reraise(utils.IntegrityError, utils.IntegrityError(*tuple(e.args)), sys.exc_info()[2])
  File ""/Users/andres/.virtualenvs/rpmwest/lib/python2.7/site-packages/django/db/backends/postgresql_psycopg2/base.py"", line 54, in execute
    return self.cursor.execute(query, args)
IntegrityError: Problem installing fixtures: insert or update on table ""product_ship"" violates foreign key constraint ""product_ship_product_ptr_id_fkey""
DETAIL:  Key (product_ptr_id)=(1) is not present in table ""product_product"".
"
7984,ansible,awx,16,closed,2345,1,https://api.github.com/repos/ansible/awx/issues/2345/comments,https://github.com/ansible/awx/issues/2345,"[{""default"": false, ""name"": ""component:installer"", ""url"": ""https://api.github.com/repos/ansible/awx/labels/component:installer"", ""color"": ""d4c5f9"", ""node_id"": ""MDU6TGFiZWw2ODc5Nzk5NjQ="", ""id"": 687979964}, {""default"": false, ""name"": ""state:needs_triage"", ""url"": ""https://api.github.com/repos/ansible/awx/labels/state:needs_triage"", ""color"": ""A0522D"", ""node_id"": ""MDU6TGFiZWw2ODcxNzI4NTg="", ""id"": 687172858}, {""default"": false, ""name"": ""type:bug"", ""url"": ""https://api.github.com/repos/ansible/awx/labels/type:bug"", ""color"": ""F79F81"", ""node_id"": ""MDU6TGFiZWw2MDcyODM3NDg="", ""id"": 607283748}]",Openshift Installation SCM pull failing,"##### ISSUE TYPE
 - Bug Report

##### COMPONENT NAME
- Installer

##### SUMMARY
Running an Openshift installation results in errors with AWX_Web and AWX_Celery containers. Installation succeeds however errors occur when trying to submit jobs or create projects that talk to SCM. The SCM pull never runs.

##### ENVIRONMENT
* AWX version: 1.0.8
* AWX install method: openshift
* Ansible version:  2.6.4
* Operating System: RHEL 7.4
* Web Browser: Chrome
* Openshift version: OCP 3.7 & 3.9

##### STEPS TO REPRODUCE

ansible-playbook -i inventory install.yml -e openshift_password=<password>

##### EXPECTED RESULTS

AWX running with a single pod (4 containers) and postgresql running in another pod.

##### ACTUAL RESULTS

Installation runs however the AWX Web and AWX celery containers have many python errors resulting in issues with SCM pulls, job submissions and subsequent tasks.

##### ADDITIONAL INFORMATION

Errors from the AWX_Web logs

*** uWSGI is running in multiple interpreter mode ***
spawned uWSGI master process (pid: 137)
spawned uWSGI worker 1 (pid: 139, cores: 1)
spawned uWSGI worker 2 (pid: 140, cores: 1)
spawned uWSGI worker 3 (pid: 141, cores: 1)
spawned uWSGI worker 4 (pid: 142, cores: 1)
spawned uWSGI worker 5 (pid: 143, cores: 1)
READY
2018-09-20 18:20:03,007 INFO success: awx-config-watcher entered RUNNING state, process has stayed up for > than 1 seconds (startsecs)
2018-09-20 18:20:03,007 INFO success: daphne entered RUNNING state, process has stayed up for > than 1 seconds (startsecs)
2018-09-20 18:20:03,007 INFO success: nginx entered RUNNING state, process has stayed up for > than 1 seconds (startsecs)
2018-09-20 18:20:03,007 INFO success: uwsgi entered RUNNING state, process has stayed up for > than 1 seconds (startsecs)
2018-09-20 18:20:06,963 WARNING  awx.conf.settings Database settings are not available, using defaults, error:
Traceback (most recent call last):
  File ""/usr/lib/python2.7/site-packages/awx/wsgi.py"", line 80, in <module>
    application = get_wsgi_application()
  File ""/usr/lib/python2.7/site-packages/awx/wsgi.py"", line 77, in get_wsgi_application
    return AWXWSGIHandler()
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/core/handlers/wsgi.py"", line 151, in __init__
    self.load_middleware()
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/core/handlers/base.py"", line 56, in load_middleware
    mw_class = import_string(middleware_path)
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/utils/module_loading.py"", line 20, in import_string
    module = import_module(module_path)
  File ""/usr/lib64/python2.7/importlib/__init__.py"", line 37, in import_module
    __import__(name)
  File ""/usr/lib/python2.7/site-packages/awx/sso/middleware.py"", line 18, in <module>
    from social_django import utils
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/social_django/utils.py"", line 13, in <module>
    BACKENDS = settings.AUTHENTICATION_BACKENDS
  File ""/usr/lib/python2.7/site-packages/awx/conf/settings.py"", line 531, in __getattr_without_cache__
    return getattr(self._wrapped, name)
  File ""/usr/lib/python2.7/site-packages/awx/conf/settings.py"", line 444, in __getattr__
    value = self._get_local(name)
  File ""/usr/lib/python2.7/site-packages/awx/conf/settings.py"", line 361, in _get_local
    self._preload_cache()
  File ""/usr/lib/python2.7/site-packages/awx/conf/settings.py"", line 323, in _preload_cache
    for setting in Setting.objects.filter(key__in=settings_to_cache.keys(), user__isnull=True).order_by('pk'):
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/db/models/query.py"", line 250, in __iter__
    self._fetch_all()
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/db/models/query.py"", line 1118, in _fetch_all
    self._result_cache = list(self._iterable_class(self))
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/db/models/query.py"", line 53, in __iter__
    results = compiler.execute_sql(chunked_fetch=self.chunked_fetch)
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/db/models/sql/compiler.py"", line 899, in execute_sql
    raise original_exception
ProgrammingError: relation ""conf_setting"" does not exist
LINE 1: ...f_setting"".""value"", ""conf_setting"".""user_id"" FROM ""conf_sett...

Errors from the AWX-Celery container logs : 

Using /etc/ansible/ansible.cfg as config file
127.0.0.1 | SUCCESS => {
    ""changed"": false, 
    ""db"": ""awxtest""
}
Traceback (most recent call last):
  File ""/usr/bin/awx-manage"", line 9, in <module>
    load_entry_point('awx==1.0.8.0', 'console_scripts', 'awx-manage')()
  File ""/usr/lib/python2.7/site-packages/awx/__init__.py"", line 116, in manage
    execute_from_command_line(sys.argv)
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/core/management/__init__.py"", line 364, in execute_from_command_line
    utility.execute()
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/core/management/__init__.py"", line 356, in execute
    self.fetch_command(subcommand).run_from_argv(self.argv)
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/core/management/base.py"", line 283, in run_from_argv
    self.execute(*args, **cmd_options)
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/core/management/base.py"", line 330, in execute
    output = self.handle(*args, **options)
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/core/management/commands/shell.py"", line 101, in handle
    exec(sys.stdin.read())
  File ""<string>"", line 1, in <module>
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/contrib/auth/models.py"", line 170, in create_superuser
    return self._create_user(username, email, password, **extra_fields)
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/contrib/auth/models.py"", line 153, in _create_user
    user.save(using=self._db)
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/contrib/auth/base_user.py"", line 80, in save
    super(AbstractBaseUser, self).save(*args, **kwargs)
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/db/models/base.py"", line 808, in save
    force_update=force_update, update_fields=update_fields)
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/db/models/base.py"", line 838, in save_base
    updated = self._save_table(raw, cls, force_insert, force_update, using, update_fields)
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/db/models/base.py"", line 924, in _save_table
    result = self._do_insert(cls._base_manager, using, fields, update_pk, raw)
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/db/models/base.py"", line 963, in _do_insert
    using=using, raw=raw)
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/db/models/manager.py"", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/db/models/query.py"", line 1076, in _insert
    return query.get_compiler(using=using).execute_sql(return_id)
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/db/models/sql/compiler.py"", line 1112, in execute_sql
    cursor.execute(sql, params)
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/db/backends/utils.py"", line 64, in execute
    return self.cursor.execute(sql, params)
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/db/utils.py"", line 94, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/db/backends/utils.py"", line 64, in execute
    return self.cursor.execute(sql, params)
django.db.utils.IntegrityError: null value in column ""last_login"" violates not-null constraint
DETAIL:  Failing row contains (1, pbkdf2_sha256$36000$OD7sY8fSCxn3$NuGzqPNkK7cTL+ZLhlUZ3UiPtp6zpd+..., null, t, admin, , , root@localhost, t, t, 2018-09-20 18:19:58.843266+00).
2018-09-20 18:20:01,399 WARNING  awx.conf.settings Database settings are not available, using defaults, error:
Traceback (most recent call last):
  File ""/usr/bin/awx-manage"", line 9, in <module>
    load_entry_point('awx==1.0.8.0', 'console_scripts', 'awx-manage')()
  File ""/usr/lib/python2.7/site-packages/awx/__init__.py"", line 116, in manage
    execute_from_command_line(sys.argv)
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/core/management/__init__.py"", line 364, in execute_from_command_line
    utility.execute()
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/core/management/__init__.py"", line 356, in execute
    self.fetch_command(subcommand).run_from_argv(self.argv)
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/core/management/base.py"", line 283, in run_from_argv
    self.execute(*args, **cmd_options)
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/core/management/base.py"", line 327, in execute
    self.check()
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/core/management/base.py"", line 359, in check
    include_deployment_checks=include_deployment_checks,
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/core/management/base.py"", line 346, in _run_checks
    return checks.run_checks(**kwargs)
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/core/checks/registry.py"", line 81, in run_checks
    new_errors = check(app_configs=app_configs)
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/core/checks/urls.py"", line 16, in check_url_config
    return check_resolver(resolver)
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/core/checks/urls.py"", line 26, in check_resolver
    return check_method()
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/urls/resolvers.py"", line 254, in check
    for pattern in self.url_patterns:
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/utils/functional.py"", line 35, in __get__
    res = instance.__dict__[self.name] = self.func(instance)
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/urls/resolvers.py"", line 405, in url_patterns
    patterns = getattr(self.urlconf_module, ""urlpatterns"", self.urlconf_module)
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/utils/functional.py"", line 35, in __get__
    res = instance.__dict__[self.name] = self.func(instance)
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/urls/resolvers.py"", line 398, in urlconf_module
    return import_module(self.urlconf_name)
  File ""/usr/lib64/python2.7/importlib/__init__.py"", line 37, in import_module
    __import__(name)
  File ""/usr/lib/python2.7/site-packages/awx/urls.py"", line 17, in <module>
    url(r'^sso/', include('social_django.urls', namespace='social')),
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/conf/urls/__init__.py"", line 50, in include
    urlconf_module = import_module(urlconf_module)
  File ""/usr/lib64/python2.7/importlib/__init__.py"", line 37, in import_module
    __import__(name)
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/social_django/urls.py"", line 6, in <module>
    from . import views
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/social_django/views.py"", line 10, in <module>
    from .utils import psa
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/social_django/utils.py"", line 13, in <module>
    BACKENDS = settings.AUTHENTICATION_BACKENDS
  File ""/usr/lib/python2.7/site-packages/awx/conf/settings.py"", line 531, in __getattr_without_cache__
    return getattr(self._wrapped, name)
  File ""/usr/lib/python2.7/site-packages/awx/conf/settings.py"", line 444, in __getattr__
    value = self._get_local(name)
  File ""/usr/lib/python2.7/site-packages/awx/conf/settings.py"", line 361, in _get_local
    self._preload_cache()
  File ""/usr/lib/python2.7/site-packages/awx/conf/settings.py"", line 323, in _preload_cache
    for setting in Setting.objects.filter(key__in=settings_to_cache.keys(), user__isnull=True).order_by('pk'):
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/db/models/query.py"", line 250, in __iter__
    self._fetch_all()
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/db/models/query.py"", line 1118, in _fetch_all
    self._result_cache = list(self._iterable_class(self))
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/db/models/query.py"", line 53, in __iter__
    results = compiler.execute_sql(chunked_fetch=self.chunked_fetch)
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/db/models/sql/compiler.py"", line 899, in execute_sql
    raise original_exception
ProgrammingError: relation ""conf_setting"" does not exist
LINE 1: ...f_setting"".""value"", ""conf_setting"".""user_id"" FROM ""conf_sett...



I believe what is happening here is to do with the following role -

awx/installer/roles/kubernetes/tasks/main.yml

The issue is that the role deploys the ""ansible-tower-management"" pod which starts the DB migration. Just prior to these two steps (deploy ansible tower mgmt pod & db migration), the AWX main pod is deployed. This pod comes online before the DB migrations have completed and therefore cause errors when the AWX_Web and AWX_Celery containers start. Delaying these until the DB migration is complete, resolves the error.

I'll raise a pull request with the modified code I've used to fix this. "
9226,ansible,awx,28,closed,899,2,https://api.github.com/repos/ansible/awx/issues/899/comments,https://github.com/ansible/awx/issues/899,"[{""default"": false, ""name"": ""state:needs_triage"", ""url"": ""https://api.github.com/repos/ansible/awx/labels/state:needs_triage"", ""color"": ""A0522D"", ""node_id"": ""MDU6TGFiZWw2ODcxNzI4NTg="", ""id"": 687172858}]","Upgrade issue : IntegrityError: null value in column ""setting"" violates not-null constraint","##### ISSUE TYPE
Issue after upgrading

##### SUMMARY
After upgrading from 1.0.1.272 to 1.0.2.0 schedules and running jobs are broken due to db issues.

##### ENVIRONMENT
* AWX version: 1.0.2.0
* AWX install method: docker on linux
* Ansible version:  2.4.2.0 
* Operating System: Centos 7
* Web Browser: Firefox

##### STEPS TO REPRODUCE

- I dumped Postgres db (just to be sure)
- I downloaded 1.0.2 Release zip and customized installer/inventory file: `dockerhub_version=1.0.2.0 `and persistent `postgres_data_dir`
- I deleted running containers and images
- I launched ansible-playbook to install AWX

##### EXPECTED RESULTS

All my settings and jobs are still available and they work as expected.

##### ACTUAL RESULTS

I successfully login and every job/configuration/schedule I had is still there. However all my scheduled jobs are not executed and also manual launch fails with no execution.
The error in awx_task logs and UI is:

```

[2018-01-02 11:01:53,017: ERROR/ForkPoolWorker-51] Task awx.main.tasks.awx_periodic_scheduler[d46c61be-a683-4c92-a1b2-b2e6fe6d7fbf] raised unexpected: IntegrityError('null value in column ""setting"" violates not-null constraint\nDETAIL:  Failing row contains (1496, update, 2018-01-02 11:01:53.006371+00, {""next_run"": [""2018-01-02 10:45:00+00:00"", ""2018-01-02 11:15:00+..., , schedule, , null, null).\n',)
Traceback (most recent call last):
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/celery/app/trace.py"", line 374, in trace_task
    R = retval = fun(*args, **kwargs)
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/celery/app/trace.py"", line 629, in __protected_call__
    return self.run(*args, **kwargs)
  File ""/usr/lib/python2.7/site-packages/awx/main/tasks.py"", line 301, in awx_periodic_scheduler
    schedule.save()
  File ""/usr/lib/python2.7/site-packages/awx/main/models/schedules.py"", line 130, in save
    super(Schedule, self).save(*args, **kwargs)
  File ""/usr/lib/python2.7/site-packages/awx/main/models/base.py"", line 269, in save
    super(PrimordialModel, self).save(*args, **kwargs)
  File ""/usr/lib/python2.7/site-packages/awx/main/models/base.py"", line 164, in save
    super(CreatedModifiedModel, self).save(*args, **kwargs)
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/db/models/base.py"", line 808, in save
    force_update=force_update, update_fields=update_fields)
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/db/models/base.py"", line 833, in save_base
    update_fields=update_fields,
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/dispatch/dispatcher.py"", line 193, in send
    for receiver in self._live_receivers(sender)
  File ""/usr/lib/python2.7/site-packages/awx/main/signals.py"", line 426, in activity_stream_update
    activity_entry.save()
  File ""/usr/lib/python2.7/site-packages/awx/main/models/activity_stream.py"", line 76, in save
    super(ActivityStream, self).save(*args, **kwargs)
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/db/models/base.py"", line 808, in save
    force_update=force_update, update_fields=update_fields)
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/db/models/base.py"", line 838, in save_base
    updated = self._save_table(raw, cls, force_insert, force_update, using, update_fields)
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/db/models/base.py"", line 924, in _save_table
    result = self._do_insert(cls._base_manager, using, fields, update_pk, raw)
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/db/models/base.py"", line 963, in _do_insert
    using=using, raw=raw)
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/db/models/manager.py"", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/db/models/query.py"", line 1076, in _insert
    return query.get_compiler(using=using).execute_sql(return_id)
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/db/models/sql/compiler.py"", line 1107, in execute_sql
    cursor.execute(sql, params)
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/db/backends/utils.py"", line 65, in execute
    return self.cursor.execute(sql, params)
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/db/utils.py"", line 94, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/db/backends/utils.py"", line 65, in execute
    return self.cursor.execute(sql, params)
IntegrityError: null value in column ""setting"" violates not-null constraint
DETAIL:  Failing row contains (1496, update, 2018-01-02 11:01:53.006371+00, {""next_run"": [""2018-01-02 10:45:00+00:00"", ""2018-01-02 11:15:00+..., , schedule, , null, null).
```
##### ADDITIONAL INFORMATION

Migration seems ok : 

```
[root@awx awx]# awx-manage showmigrations
auth
 [X] 0001_initial
 [X] 0002_alter_permission_name_max_length
 [X] 0003_alter_user_email_max_length
 [X] 0004_alter_user_username_opts
 [X] 0005_alter_user_last_login_null
 [X] 0006_require_contenttypes_0002
 [X] 0007_alter_validators_add_error_messages
 [X] 0008_alter_user_username_max_length
conf
 [X] 0001_initial
 [X] 0002_v310_copy_tower_settings
 [X] 0003_v310_JSONField_changes
 [X] 0004_v320_reencrypt
contenttypes
 [X] 0001_initial
 [X] 0002_remove_content_type_name
django_celery_results
 [X] 0001_initial
main
 [X] 0001_initial
 [X] 0002_squashed_v300_release (18 squashed migrations)
 [X] 0003_squashed_v300_v303_updates (14 squashed migrations)
 [X] 0004_squashed_v310_release (1 squashed migrations)
 [X] 0005_squashed_v310_v313_updates (1 squashed migrations)
 [X] 0005a_squashed_v310_v313_updates (1 squashed migrations)
 [X] 0005b_squashed_v310_v313_updates (1 squashed migrations)
 [X] 0006_v320_release
 [X] 0007_v320_data_migrations
 [X] 0008_v320_drop_v1_credential_fields
 [X] 0009_v330_multi_credential
 [X] 0010_saved_launchtime_configs
 [X] 0011_blank_start_args
 [X] 0012_non_blank_workflow
 [X] 0013_move_deprecated_stdout
sessions
 [X] 0001_initial
sites
 [X] 0001_initial
 [X] 0002_alter_domain_unique
social_django
 [X] 0001_initial (2 squashed migrations)
 [X] 0002_add_related_name (2 squashed migrations)
 [X] 0003_alter_email_max_length (2 squashed migrations)
 [X] 0004_auto_20160423_0400 (2 squashed migrations)
 [X] 0005_auto_20160727_2333 (1 squashed migrations)
 [X] 0006_partial
 [X] 0007_code_timestamp
 [X] 0008_partial_timestamp
sso
 [X] 0001_initial
 [X] 0002_expand_provider_options
taggit
 [X] 0001_initial
 [X] 0002_auto_20150616_2121


```

Any help? Thanks a lot
"
10899,django-oscar,django-oscar,10,closed,2133,2,https://api.github.com/repos/django-oscar/django-oscar/issues/2133/comments,https://github.com/django-oscar/django-oscar/issues/2133,"[{""default"": false, ""name"": ""\u2601 Bug"", ""url"": ""https://api.github.com/repos/django-oscar/django-oscar/labels/%E2%98%81%20Bug"", ""color"": ""F8C1C1"", ""node_id"": ""MDU6TGFiZWw5NzM0NA=="", ""id"": 97344}]",IntegrityError Returned when moving product to wishlist already in it,"IntegrityError Returned when moving product from wishlist  to another wishlist already in it.

The error can be reproduced by:
1- In ""product A"" page add it to ""wishlist B"" & ""wishlist C"".
2-Go to ~/accounts/wishlists page.
3- In ""wishlist B"" choose Move to ""C"" wishlist from Action for ""product A"".
"
11074,django-oscar,django-oscar,12,closed,1954,0,https://api.github.com/repos/django-oscar/django-oscar/issues/1954/comments,https://github.com/django-oscar/django-oscar/pull/1954,"[{""default"": false, ""name"": ""\u2601 Bug"", ""url"": ""https://api.github.com/repos/django-oscar/django-oscar/labels/%E2%98%81%20Bug"", ""color"": ""F8C1C1"", ""node_id"": ""MDU6TGFiZWw5NzM0NA=="", ""id"": 97344}, {""default"": false, ""name"": ""\u2716 Work-in-progress"", ""url"": ""https://api.github.com/repos/django-oscar/django-oscar/labels/%E2%9C%96%20Work-in-progress"", ""color"": ""eb6420"", ""node_id"": ""MDU6TGFiZWwxMTc3NzUyNTM="", ""id"": 117775253}]",Fix IntegrityError in User._migrate_alerts_to_user(),"Set ProductAlert.email and ProductAlert.key to '' instead of None since
the fields are non nullable.

Need to add some tests
"
11092,django-oscar,django-oscar,12,closed,1936,2,https://api.github.com/repos/django-oscar/django-oscar/issues/1936/comments,https://github.com/django-oscar/django-oscar/pull/1936,[],Issue/1935/duplicate attribute option raises exception,"Fix for https://github.com/django-oscar/django-oscar/issues/1935

If you have duplicate option values and try to perform the migration, you will get an exception: 
`django.db.utils.IntegrityError: UNIQUE constraint failed: catalogue_attributeoption__new.group_id, catalogue_attributeoption__new.option`

I have a data migration (with `RunPython`) that looks for and removes duplicates. I can include it if necessary.
"
11458,django-oscar,django-oscar,16,closed,1563,2,https://api.github.com/repos/django-oscar/django-oscar/issues/1563/comments,https://github.com/django-oscar/django-oscar/issues/1563,[],Adding Product Images in the dashboard may cause unique key violations (IntegrityError),"(Using django-oscar 0.7.2)

There is a unique key on `(product_id, display_order)` for `ProductImage` which will be violated if you execute the following sequence of actions in the catalogue dashboard:
1. Add three images, save
2. Mark the middle image of the three for deletion, save
3. Add another image

after step 2, the images in the database have a `display_order` of `0` and `2`, but the respective form prefixes, which are used for determining the `display_order` on save, are `images-0` and `images-1`. For the next additional `Form` in the `FormSet`, the prefix is `images-2`, which is the same as the `display_order` of the existing `ProductImage`.

The `display_order` of existing images is not updated on save, because `Form.save` is only called by the `FormSet` if something changed in the form. I am currently using the following fix:

``` python
class ProductImageForm(forms_orig.ProductImageForm):
    def has_changed(self):
        changed = super(ProductImageForm, self).has_changed()
        if not self.instance.pk:
            return changed
        return changed or self.instance.display_order != self.get_display_order()
```
"
11484,django-oscar,django-oscar,16,closed,1537,1,https://api.github.com/repos/django-oscar/django-oscar/issues/1537/comments,https://github.com/django-oscar/django-oscar/issues/1537,"[{""default"": false, ""name"": ""\u2601 Bug"", ""url"": ""https://api.github.com/repos/django-oscar/django-oscar/labels/%E2%98%81%20Bug"", ""color"": ""F8C1C1"", ""node_id"": ""MDU6TGFiZWw5NzM0NA=="", ""id"": 97344}]",Hashing for addresses can break with customised models,"This is copy & paste from an [thread](https://groups.google.com/d/msgid/django-oscar/9882624b-c10a-410f-9fe3-b2f9e401b62d%40googlegroups.com?utm_medium=email&utm_source=footer) on the mailing list:
1. A customer places an order when the old (unmodified) hash code is in place. Their ShippingAddress and UserAddress get saved with a hash computed by Oscar, which is identical for both models.
2. We add a field on ShippingAddress and overload `active_address_fields` to take this field into account. As a side-effect, this changes how the hash is computed for ShippingAddress but not for UserAddress.
3. When the customer places an order with the same address as before, the system crashes with an IntegrityError, since ... Django looks up whether they already have an address in the db by computing the ShippingAddress' hash, which is different (and probably doesn't match anything). Django doesn't find a match, so it creates a UserAddress, saves that, and crashes, since the hash for the newly created UserAddress matches the one for the UserAddress that's already in the db.

Thinking about this in some more detail, it feels wrong to me that ""active_address_fields"" is used for two unrelated purposes (computing hashes and formatting addresses for display). It feels like Oscar should compute hashes using an internal mechanism that isn't easily corruptible by over-eager tweakers ;-)

---

Any fix for this should try to be backwards-compatible with existing deployments.
"
11590,django-oscar,django-oscar,17,closed,1424,0,https://api.github.com/repos/django-oscar/django-oscar/issues/1424/comments,https://github.com/django-oscar/django-oscar/issues/1424,[],Range.save() raises IntegrityError for duplicate slugs,"1. Create (and save) a range with name Foo. It will get a slug named foo.
2. Edit the range and change the name to Bar. The slug will still be called foo.
3. Create a new range called Foo.
4. Look at pretty 500 error page.
"
11597,django-oscar,django-oscar,17,closed,1417,1,https://api.github.com/repos/django-oscar/django-oscar/issues/1417/comments,https://github.com/django-oscar/django-oscar/issues/1417,[],StockRecord: ItegrityError where Product and Partner linked,"Hi guys. 

I really don't know if this is a bug, but I don't find a good solution it doesn't have sense.

I'm getting this error (IntegrityError) when I try to link a exist product and partner in a StockRecord object. I'm attaching my screenshot. I know this would be a easy issue to resolver, but I'm taking more time than expected.

This is my code:

```
                   s = Store.objects.get(id=store_id)
        partner = Partner.objects.get(name__iexact=s.name)

        sr = StockRecord()
        sr.product=p
        sr.partner=partner
        sr.price_currency=form.cleaned_data['currency']
        sr.price_excl_tax=form.cleaned_data['price']
        sr.save()      (***HERE DROPS***)
```

I know that exist a partner ID = 6, just I want to link it with a product in a StockRecord object.  I'm don't creating a new Partner.

Thanks.

![screenshot from 2014-07-16 13 10 39](https://cloud.githubusercontent.com/assets/1361080/3621140/235d942e-0e0f-11e4-849f-f4787d89bfdf.png)
"
11936,django-oscar,django-oscar,21,closed,1053,4,https://api.github.com/repos/django-oscar/django-oscar/issues/1053/comments,https://github.com/django-oscar/django-oscar/pull/1053,[],Fix custom_range bugs,"Here is fix of three bugs with custom_range and Range class:
1. Function `oscar.apps.offer.custom.create_range()` don't check for equally custom ranges already added to DB, and IntegrityError will raises (reason is unique fields in Range model).
2. If object of custom range have name with ugettext_lazy then raise InterfaceError in sqlite3 (and some other errors in other DB). Reason is passed proxy object instead of string. `force_text()` added.
3. Fix for `num_products` which not delegated to a proxy class as documented.

Tests for 1 and 2 is attached.
"
12006,django-oscar,django-oscar,21,closed,977,4,https://api.github.com/repos/django-oscar/django-oscar/issues/977/comments,https://github.com/django-oscar/django-oscar/issues/977,[],Possible integrity error in offer migrations,"When trying to migrate one of our apps using oscar (to pre-0.6) we get an IntegrityError when executing migration:

```
  oscar/apps/offer/migrations/0020_auto__chg_field_benefit_type__chg_field_conditionaloffer_description.py 
```

on:

```
  db.alter_column('offer_conditionaloffer', 'description',   self.gf('django.db.models.fields.TextField')(default=''))
```

which gives:

```
  django.db.backends.postgresql_psycopg2.base in execute
  IntegrityError: column ""description"" contains null values
```

There was an old entry in that table (and we didn't override offers).
"
12125,django-oscar,django-oscar,23,closed,857,1,https://api.github.com/repos/django-oscar/django-oscar/issues/857/comments,https://github.com/django-oscar/django-oscar/pull/857,"[{""default"": false, ""name"": ""\u2601 Bug"", ""url"": ""https://api.github.com/repos/django-oscar/django-oscar/labels/%E2%98%81%20Bug"", ""color"": ""F8C1C1"", ""node_id"": ""MDU6TGFiZWw5NzM0NA=="", ""id"": 97344}, {""default"": false, ""name"": ""\u2708 Low-hanging fruit"", ""url"": ""https://api.github.com/repos/django-oscar/django-oscar/labels/%E2%9C%88%20Low-hanging%20fruit"", ""color"": ""d4c5f9"", ""node_id"": ""MDU6TGFiZWw1NjEwMDgxMA=="", ""id"": 56100810}]",Handle sorl integrity error issues,"The sandbox site raises lots of exceptions like this one:

```
Traceback (most recent call last):

  File ""/var/www/oscar/virtualenvs/sandbox/lib/python2.6/site-packages/Django-1.5.2-py2.6.egg/django/core/handlers/base.py"", line 140, in get_response
    response = response.render()

  File ""/var/www/oscar/virtualenvs/sandbox/lib/python2.6/site-packages/Django-1.5.2-py2.6.egg/django/template/response.py"", line 105, in render
    self.content = self.rendered_content

  File ""/var/www/oscar/virtualenvs/sandbox/lib/python2.6/site-packages/Django-1.5.2-py2.6.egg/django/template/response.py"", line 82, in rendered_content
    content = template.render(context)

  File ""/var/www/oscar/virtualenvs/sandbox/lib/python2.6/site-packages/Django-1.5.2-py2.6.egg/django/template/base.py"", line 140, in render
    return self._render(context)

  File ""/var/www/oscar/virtualenvs/sandbox/lib/python2.6/site-packages/Django-1.5.2-py2.6.egg/django/template/base.py"", line 134, in _render
    return self.nodelist.render(context)

  File ""/var/www/oscar/virtualenvs/sandbox/lib/python2.6/site-packages/Django-1.5.2-py2.6.egg/django/template/base.py"", line 830, in render
    bit = self.render_node(node, context)

  File ""/var/www/oscar/virtualenvs/sandbox/lib/python2.6/site-packages/Django-1.5.2-py2.6.egg/django/template/base.py"", line 844, in render_node
    return node.render(context)

  File ""/var/www/oscar/virtualenvs/sandbox/lib/python2.6/site-packages/Django-1.5.2-py2.6.egg/django/template/loader_tags.py"", line 124, in render
    return compiled_parent._render(context)

  File ""/var/www/oscar/virtualenvs/sandbox/lib/python2.6/site-packages/Django-1.5.2-py2.6.egg/django/template/base.py"", line 134, in _render
    return self.nodelist.render(context)

  File ""/var/www/oscar/virtualenvs/sandbox/lib/python2.6/site-packages/Django-1.5.2-py2.6.egg/django/template/base.py"", line 830, in render
    bit = self.render_node(node, context)

  File ""/var/www/oscar/virtualenvs/sandbox/lib/python2.6/site-packages/Django-1.5.2-py2.6.egg/django/template/base.py"", line 844, in render_node
    return node.render(context)

  File ""/var/www/oscar/virtualenvs/sandbox/lib/python2.6/site-packages/Django-1.5.2-py2.6.egg/django/template/loader_tags.py"", line 124, in render
    return compiled_parent._render(context)

  File ""/var/www/oscar/virtualenvs/sandbox/lib/python2.6/site-packages/Django-1.5.2-py2.6.egg/django/template/base.py"", line 134, in _render
    return self.nodelist.render(context)

  File ""/var/www/oscar/virtualenvs/sandbox/lib/python2.6/site-packages/Django-1.5.2-py2.6.egg/django/template/base.py"", line 830, in render
    bit = self.render_node(node, context)

  File ""/var/www/oscar/virtualenvs/sandbox/lib/python2.6/site-packages/Django-1.5.2-py2.6.egg/django/template/base.py"", line 844, in render_node
    return node.render(context)

  File ""/var/www/oscar/virtualenvs/sandbox/lib/python2.6/site-packages/Django-1.5.2-py2.6.egg/django/template/loader_tags.py"", line 63, in render
    result = block.nodelist.render(context)

  File ""/var/www/oscar/virtualenvs/sandbox/lib/python2.6/site-packages/Django-1.5.2-py2.6.egg/django/template/base.py"", line 830, in render
    bit = self.render_node(node, context)

  File ""/var/www/oscar/virtualenvs/sandbox/lib/python2.6/site-packages/Django-1.5.2-py2.6.egg/django/template/base.py"", line 844, in render_node
    return node.render(context)

  File ""/var/www/oscar/virtualenvs/sandbox/lib/python2.6/site-packages/Django-1.5.2-py2.6.egg/django/template/loader_tags.py"", line 63, in render
    result = block.nodelist.render(context)

  File ""/var/www/oscar/virtualenvs/sandbox/lib/python2.6/site-packages/Django-1.5.2-py2.6.egg/django/template/base.py"", line 830, in render
    bit = self.render_node(node, context)

  File ""/var/www/oscar/virtualenvs/sandbox/lib/python2.6/site-packages/Django-1.5.2-py2.6.egg/django/template/base.py"", line 844, in render_node
    return node.render(context)

  File ""/var/www/oscar/virtualenvs/sandbox/lib/python2.6/site-packages/Django-1.5.2-py2.6.egg/django/template/loader_tags.py"", line 63, in render
    result = block.nodelist.render(context)

  File ""/var/www/oscar/virtualenvs/sandbox/lib/python2.6/site-packages/Django-1.5.2-py2.6.egg/django/template/base.py"", line 830, in render
    bit = self.render_node(node, context)

  File ""/var/www/oscar/virtualenvs/sandbox/lib/python2.6/site-packages/Django-1.5.2-py2.6.egg/django/template/base.py"", line 844, in render_node
    return node.render(context)

  File ""/var/www/oscar/virtualenvs/sandbox/lib/python2.6/site-packages/Django-1.5.2-py2.6.egg/django/template/defaulttags.py"", line 483, in render
    output = self.nodelist.render(context)

  File ""/var/www/oscar/virtualenvs/sandbox/lib/python2.6/site-packages/Django-1.5.2-py2.6.egg/django/template/base.py"", line 830, in render
    bit = self.render_node(node, context)

  File ""/var/www/oscar/virtualenvs/sandbox/lib/python2.6/site-packages/Django-1.5.2-py2.6.egg/django/template/base.py"", line 844, in render_node
    return node.render(context)

  File ""/var/www/oscar/virtualenvs/sandbox/lib/python2.6/site-packages/sorl_thumbnail-11.12-py2.6.egg/sorl/thumbnail/templatetags/thumbnail.py"", line 45, in render
    return self._render(context)

  File ""/var/www/oscar/virtualenvs/sandbox/lib/python2.6/site-packages/sorl_thumbnail-11.12-py2.6.egg/sorl/thumbnail/templatetags/thumbnail.py"", line 97, in _render
    file_, geometry, **options

  File ""/var/www/oscar/virtualenvs/sandbox/lib/python2.6/site-packages/sorl_thumbnail-11.12-py2.6.egg/sorl/thumbnail/base.py"", line 65, in get_thumbnail
    default.kvstore.get_or_set(source)

  File ""/var/www/oscar/virtualenvs/sandbox/lib/python2.6/site-packages/sorl_thumbnail-11.12-py2.6.egg/sorl/thumbnail/kvstores/base.py"", line 49, in get_or_set
    self.set(image_file)

  File ""/var/www/oscar/virtualenvs/sandbox/lib/python2.6/site-packages/sorl_thumbnail-11.12-py2.6.egg/sorl/thumbnail/kvstores/base.py"", line 33, in set
    self._set(image_file.key, image_file)

  File ""/var/www/oscar/virtualenvs/sandbox/lib/python2.6/site-packages/sorl_thumbnail-11.12-py2.6.egg/sorl/thumbnail/kvstores/base.py"", line 138, in _set
    self._set_raw(add_prefix(key, identity), s)

  File ""/var/www/oscar/virtualenvs/sandbox/lib/python2.6/site-packages/sorl_thumbnail-11.12-py2.6.egg/sorl/thumbnail/kvstores/cached_db_kvstore.py"", line 36, in _set_raw
    kv = KVStoreModel.objects.get_or_create(key=key)[0]

  File ""/var/www/oscar/virtualenvs/sandbox/lib/python2.6/site-packages/Django-1.5.2-py2.6.egg/django/db/models/manager.py"", line 146, in get_or_create
    return self.get_query_set().get_or_create(**kwargs)

  File ""/var/www/oscar/virtualenvs/sandbox/lib/python2.6/site-packages/Django-1.5.2-py2.6.egg/django/db/models/query.py"", line 501, in get_or_create
    six.reraise(*exc_info)

  File ""/var/www/oscar/virtualenvs/sandbox/lib/python2.6/site-packages/Django-1.5.2-py2.6.egg/django/db/models/query.py"", line 491, in get_or_create
    obj.save(force_insert=True, using=self.db)

  File ""/var/www/oscar/virtualenvs/sandbox/lib/python2.6/site-packages/Django-1.5.2-py2.6.egg/django/db/models/base.py"", line 546, in save
    force_update=force_update, update_fields=update_fields)

  File ""/var/www/oscar/virtualenvs/sandbox/lib/python2.6/site-packages/Django-1.5.2-py2.6.egg/django/db/models/base.py"", line 650, in save_base
    result = manager._insert([self], fields=fields, return_id=update_pk, using=using, raw=raw)

  File ""/var/www/oscar/virtualenvs/sandbox/lib/python2.6/site-packages/Django-1.5.2-py2.6.egg/django/db/models/manager.py"", line 215, in _insert
    return insert_query(self.model, objs, fields, **kwargs)

  File ""/var/www/oscar/virtualenvs/sandbox/lib/python2.6/site-packages/Django-1.5.2-py2.6.egg/django/db/models/query.py"", line 1675, in insert_query
    return query.get_compiler(using=using).execute_sql(return_id)

  File ""/var/www/oscar/virtualenvs/sandbox/lib/python2.6/site-packages/Django-1.5.2-py2.6.egg/django/db/models/sql/compiler.py"", line 937, in execute_sql
    cursor.execute(sql, params)

  File ""/var/www/oscar/virtualenvs/sandbox/lib/python2.6/site-packages/Django-1.5.2-py2.6.egg/django/db/backends/mysql/base.py"", line 122, in execute
    six.reraise(utils.IntegrityError, utils.IntegrityError(*tuple(e.args)), sys.exc_info()[2])

  File ""/var/www/oscar/virtualenvs/sandbox/lib/python2.6/site-packages/Django-1.5.2-py2.6.egg/django/db/backends/mysql/base.py"", line 120, in execute
    return self.cursor.execute(query, args)

  File ""/var/www/oscar/virtualenvs/sandbox/lib/python2.6/site-packages/MySQLdb/cursors.py"", line 174, in execute
    self.errorhandler(self, exc, value)

  File ""/var/www/oscar/virtualenvs/sandbox/lib/python2.6/site-packages/MySQLdb/connections.py"", line 36, in defaulterrorhandler
    raise errorclass, errorvalue

IntegrityError: (1062, ""Duplicate entry 'oscar-sandbox||image||54ae37ded22894b9f773ccaf7217e78e' for key 'PRIMARY'"")
```

I think this is a race condition that isn't handled in Sorl.  I suspect the right fix is to write our own sorl wrapper that catches this exception.  See https://github.com/sorl/sorl-thumbnail/issues/162
"
12127,django-oscar,django-oscar,23,closed,855,0,https://api.github.com/repos/django-oscar/django-oscar/issues/855/comments,https://github.com/django-oscar/django-oscar/issues/855,[],IntegrityError when saving image order,"From [mailing list](https://groups.google.com/d/msgid/django-oscar/72a808cc-db5a-42c1-828a-faa0dee3d2fc%40googlegroups.com):

> I'm having a problem with display_order on product images.
> 
> Let's say we have three already uploaded images for a product, then we choose to remove the middle image and save the form. No problem so far.
> When the page is refreshed, there are two images and we decide to upload a new one and save the form. IntegrityError! 'display_order' of the new image collides with the old images. (In this case it collides with the old image which has display_order == 2)
> 
> Oscar uses the formset prefix to set the order, but when you delete an image.. the order isn't updated, so it will cause a conflict.
> 
> How can I solve this?
> 
> ```
> ```
"
12654,django-oscar,django-oscar,28,closed,312,2,https://api.github.com/repos/django-oscar/django-oscar/issues/312/comments,https://github.com/django-oscar/django-oscar/pull/312,[],creating product now checks for unique UPC,"Attempting to create a new product with a UPC that already exists
raises an `IntegrityError` instead of handling the `ProductForm`
as an invalid form with an appropriate `ValidationError`.

I fixed that by adding a `clean_upc` validation method to the
form by checking for an existing product by UPC. I am not sure if
that is the most efficient way to validate this. If there's a
better alternative, I am happy to change it...and learn something
:)

**Note:** I switched the functional tests in `product_tests.py`
to use `WebTest` while I was at it.
"
13854,Fantomas42,django-blog-zinnia,4,closed,245,7,https://api.github.com/repos/Fantomas42/django-blog-zinnia/issues/245/comments,https://github.com/Fantomas42/django-blog-zinnia/pull/245,[],refined _get_user_flagger(),"Had a use case where COMMENT_FLAG_USER_ID was not set, and 'Zinnia-Flagger' user had already been created.  This fix prevents a the following error:

IntegrityError: duplicate key value violates unique constraint ""auth_user_username_key""
DETAIL:  Key (username)=(Zinnia-Flagger) already exists.
"
13864,Fantomas42,django-blog-zinnia,4,closed,235,2,https://api.github.com/repos/Fantomas42/django-blog-zinnia/issues/235/comments,https://github.com/Fantomas42/django-blog-zinnia/issues/235,"[{""default"": false, ""name"": ""Database"", ""url"": ""https://api.github.com/repos/Fantomas42/django-blog-zinnia/labels/Database"", ""color"": ""a858ba"", ""node_id"": ""MDU6TGFiZWw0NTQzNg=="", ""id"": 45436}, {""default"": false, ""name"": ""Wont fix"", ""url"": ""https://api.github.com/repos/Fantomas42/django-blog-zinnia/labels/Wont%20fix"", ""color"": ""e10c02"", ""node_id"": ""MDU6TGFiZWw5NzAyNQ=="", ""id"": 97025}]",IntegrityError at /blog/quick-entry/,"Python 2.6
Django 1.5.0
Zinnia 0.12.3

When I submit a new post(from quick entry form or normal form) is raised this error:

IntegrityError at /blog/quick-entry/
(1452, 'Cannot add or update a child row: a foreign key constraint fails (`my_database`.`zinnia_entry_sites`, CONSTRAINT `site_id_refs_id_250ed0b2ebd96f36` FOREIGN KEY (`site_id`) REFERENCES `django_site` (`id`))')

but I see the post was created

I recently installed Zinnia, all tables are empty

| zinnia_entry_authors                 |
| zinnia_entry_categories              |
| zinnia_entry_related                 |
| zinnia_entry_sites 

except zinnia_entry, there exists only one entry the post that I created.

django_site has only one entry.

+----+----------------------------------------+-----------+
| id | domain                                 | name      |
+----+----------------------------------------+-----------+
|  1 | my_site.local | Testing Zinnia |
+----+----------------------------------------+-----------+

Entry:
MariaDB [my_database]> select \* from zinnia_entry;
+--------+---------------------+-----------------+------+-------+-------+---------+------+--------------+-----------------+-------------------+---------------------+----+------------------+----------------+----------+-------------------+----------+---------------+----------------+-----------------+-------------------+---------------------------+
| status | last_update         | comment_enabled | tags | image | title | excerpt | slug | content      | end_publication | start_publication | creation_date       | id | pingback_enabled | login_required | password | detail_template   | featured | comment_count | pingback_count | trackback_count | trackback_enabled | content_template          |
+--------+---------------------+-----------------+------+-------+-------+---------+------+--------------+-----------------+-------------------+---------------------+----+------------------+----------------+----------+-------------------+----------+---------------+----------------+-----------------+-------------------+---------------------------+
|      2 | 2013-04-17 16:18:55 |               0 |      |       | test  |         | test | <p>nueva</p> | NULL            | NULL              | 2013-04-17 16:18:55 |  5 |                0 |              0 |          | entry_detail.html |        0 |             0 |              0 |               0 |                 0 | zinnia/_entry_detail.html |
+--------+---------------------+-----------------+------+-------+-------+---------+------+--------------+-----------------+-------------------+---------------------+----+------------------+----------------+----------+-------------------+----------+---------------+----------------+-----------------+-------------------+---------------------------+
"
14194,awesto,django-shop,2,closed,650,7,https://api.github.com/repos/awesto/django-shop/issues/650/comments,https://github.com/awesto/django-shop/issues/650,[],Error running shop.0007_notification_recipient migration using MySQL.,"Hi,

I am getting this error while trying to migrate an existing project to django-shop 0.11 - using MySQL.
This only happens trying to migrate existing data, starting a fresh database works fine.

```bash
Applying shop.0007_notification_recipient...Traceback (most recent call last):
  File ""manage.py"", line 23, in <module>
    execute_from_command_line(sys.argv)
  File ""/Users/dino/.virtualenvs/ecuga.com/lib/python2.7/site-packages/django/core/management/__init__.py"", line 367, in execute_from_command_line
    utility.execute()
  File ""/Users/dino/.virtualenvs/ecuga.com/lib/python2.7/site-packages/django/core/management/__init__.py"", line 359, in execute
    self.fetch_command(subcommand).run_from_argv(self.argv)
  File ""/Users/dino/.virtualenvs/ecuga.com/lib/python2.7/site-packages/django/core/management/base.py"", line 294, in run_from_argv
    self.execute(*args, **cmd_options)
  File ""/Users/dino/.virtualenvs/ecuga.com/lib/python2.7/site-packages/django/core/management/base.py"", line 345, in execute
    output = self.handle(*args, **options)
  File ""/Users/dino/.virtualenvs/ecuga.com/lib/python2.7/site-packages/django/core/management/commands/migrate.py"", line 204, in handle
    fake_initial=fake_initial,
  File ""/Users/dino/.virtualenvs/ecuga.com/lib/python2.7/site-packages/django/db/migrations/executor.py"", line 115, in migrate
    state = self._migrate_all_forwards(state, plan, full_plan, fake=fake, fake_initial=fake_initial)
  File ""/Users/dino/.virtualenvs/ecuga.com/lib/python2.7/site-packages/django/db/migrations/executor.py"", line 145, in _migrate_all_forwards
    state = self.apply_migration(state, migration, fake=fake, fake_initial=fake_initial)
  File ""/Users/dino/.virtualenvs/ecuga.com/lib/python2.7/site-packages/django/db/migrations/executor.py"", line 244, in apply_migration
    state = migration.apply(state, schema_editor)
  File ""/Users/dino/.virtualenvs/ecuga.com/lib/python2.7/site-packages/django/db/migrations/migration.py"", line 129, in apply
    operation.database_forwards(self.app_label, schema_editor, old_state, project_state)
  File ""/Users/dino/.virtualenvs/ecuga.com/lib/python2.7/site-packages/django/db/migrations/operations/fields.py"", line 204, in database_forwards
    schema_editor.alter_field(from_model, from_field, to_field)
  File ""/Users/dino/.virtualenvs/ecuga.com/lib/python2.7/site-packages/django/db/backends/base/schema.py"", line 495, in alter_field
    old_db_params, new_db_params, strict)
  File ""/Users/dino/.virtualenvs/ecuga.com/lib/python2.7/site-packages/django/db/backends/base/schema.py"", line 732, in _alter_field
    self.execute(self._create_fk_sql(model, new_field, ""_fk_%(to_table)s_%(to_column)s""))
  File ""/Users/dino/.virtualenvs/ecuga.com/lib/python2.7/site-packages/django/db/backends/base/schema.py"", line 112, in execute
    cursor.execute(sql, params)
  File ""/Users/dino/.virtualenvs/ecuga.com/lib/python2.7/site-packages/django/db/backends/utils.py"", line 79, in execute
    return super(CursorDebugWrapper, self).execute(sql, params)
  File ""/Users/dino/.virtualenvs/ecuga.com/lib/python2.7/site-packages/django/db/backends/utils.py"", line 64, in execute
    return self.cursor.execute(sql, params)
  File ""/Users/dino/.virtualenvs/ecuga.com/lib/python2.7/site-packages/django/db/utils.py"", line 94, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File ""/Users/dino/.virtualenvs/ecuga.com/lib/python2.7/site-packages/django/db/backends/utils.py"", line 64, in execute
    return self.cursor.execute(sql, params)
  File ""/Users/dino/.virtualenvs/ecuga.com/lib/python2.7/site-packages/django/db/backends/mysql/base.py"", line 110, in execute
    return self.cursor.execute(query, args)
  File ""/Users/dino/.virtualenvs/ecuga.com/lib/python2.7/site-packages/MySQLdb/cursors.py"", line 205, in execute
    self.errorhandler(self, exc, value)
  File ""/Users/dino/.virtualenvs/ecuga.com/lib/python2.7/site-packages/MySQLdb/connections.py"", line 36, in defaulterrorhandler
    raise errorclass, errorvalue
django.db.utils.IntegrityError: (1452, 'Cannot add or update a child row: a foreign key constraint fails (`ecuga_site`.`#sql-2a3_2e2`, CONSTRAINT `shop_notification_recipient_id_81184845_fk_auth_user_id` FOREIGN KEY (`recipient_id`) REFERENCES `auth_user` (`id`))')
```"
14406,awesto,django-shop,5,closed,402,4,https://api.github.com/repos/awesto/django-shop/issues/402/comments,https://github.com/awesto/django-shop/issues/402,[],Not able to load demo data from fixture,"I plan to develop a relatively simple e-commerce application on Ubuntu, but, as I did in many other cases, I'm starting the development on my Windows notebook (Windows 10, Python 3.5, Django 1.9.7).
To get acquainted with django-shop (and with django-cms), I'm willing to run its demos from the example project.

Following the documentation, in steps 1.1 to 1.3, I found only some minor problems: had to remove the ^ character from package.json file and to install with pip a few missing packages.
Then I tried to run the demos of the example project, starting from step 2.2.
I found that, in the online doc (django-shop.readthedocs.io/en/latest) and in the PDF version of the documentation, the demos and their names are not aligned with the 3 fixtures actually available in the example/fixtures folder and with the 5 SHOP_TUTORIAL options in the example/myshop settings module.
But even for a demo such as i18n_smartcard, which is consistently mentioned in the documentation and in the software, I wasn't able to populate the database with the fixture data.
Here are the first lines of the traceback, in some context:

```
(django19) C:\django19\Tutorial\django-shop\example>SET DJANGO_DEBUG=1
(django19) C:\django19\Tutorial\django-shop\example>SET DJANGO_SHOP_TUTORIAL=i18n_smartcard
(django19) C:\django19\Tutorial\django-shop\example>python manage.py migrate
... (ok)
(django19) C:\django19\Tutorial\django-shop\example>python manage.py loaddata fixtures/myshop-i18n_smartcard.json
Traceback (most recent call last):
  File ""C:\django19\lib\site-packages\django\db\backends\utils.py"", line 64, in execute
    return self.cursor.execute(sql, params)
  File ""C:\django19\lib\site-packages\django\db\backends\sqlite3\base.py"", line 323, in execute
    return Database.Cursor.execute(self, query, params)
sqlite3.IntegrityError: NOT NULL constraint failed: cms_cmsplugin.position
...
```
"
16461,vitorfs,bootcamp,2,closed,93,2,https://api.github.com/repos/vitorfs/bootcamp/issues/93/comments,https://github.com/vitorfs/bootcamp/issues/93,"[{""default"": true, ""name"": ""bug"", ""url"": ""https://api.github.com/repos/vitorfs/bootcamp/labels/bug"", ""color"": ""fc2929"", ""node_id"": ""MDU6TGFiZWwxMDI3MDEyNTk="", ""id"": 102701259}]",Article app is broken,"I'm not aware at which point the Article app got broken, and started to throw an error on the creation process `django.db.utils.IntegrityError: UNIQUE constraint failed: articles_article.id`."
5232,mirumee,saleor,27,closed,1393,4,https://api.github.com/repos/mirumee/saleor/issues/1393/comments,https://github.com/mirumee/saleor/issues/1393,[],use db mysql error ,"packet.check_error()
  File ""/usr/local/var/pyenv/versions/3.4.0/lib/python3.4/site-packages/pymysql/connections.py"", line 393, in check_error
    err.raise_mysql_exception(self._data)
  File ""/usr/local/var/pyenv/versions/3.4.0/lib/python3.4/site-packages/pymysql/err.py"", line 107, in raise_mysql_exception
    raise errorclass(errno, errval)
django.db.utils.InternalError: (1170, ""BLOB/TEXT column 'data' used in key specification without a key length"")"
10472,django-oscar,django-oscar,6,closed,2568,2,https://api.github.com/repos/django-oscar/django-oscar/issues/2568/comments,https://github.com/django-oscar/django-oscar/issues/2568,[],Documentation is unclear how to run tests.,"The documentation (http://django-oscar.readthedocs.io/en/releases-1.5/internals/contributing/running-tests.html says to run `$ py.test`.

    $ py.test
    -bash: py.test: command not found

Well, obviously you need to have `pytest` installed. Let's make a virtualenv:

    $ mkvirtualenv --python=python3 oscar-tests
    (oscar-tests) $ pip install pytest
    (oscar-tests) $ py.test
    Traceback (most recent call last):
    ...
    ImportError: No module named 'django'
    ERROR: could not load /Users/kees/Projects/django-oscar/tests/conftest.py
 
Well obviously, we need django and all other dependencies.

    (oscar-tests) $ pip install -r requirements.txt
    ...
    Could not find a version that satisfies the requirement transifex-client==0.13.0 (from -r requirements.txt (line 30)) (from versions: 0.1, 0.2, 0.2.1, 0.3, 0.4, 0.4.1, 0.5, 0.5.1, 0.5.2, 0.6, 0.6.1, 0.7, 0.7.2, 0.7.3, 0.8, 0.9, 0.9.1, 0.10, 0.11b0, 0.11b3, 0.11, 0.11.1b0, 0.12b0, 0.12.1, 0.12.2, 0.12.3, 0.12.4, 0.12.5)
No matching distribution found for transifex-client==0.13.0 (from -r requirements.txt (line 30))

Not sure if that's bad, but let's continue:

    (oscar-tests) $ py.test
    ...
    ImportError: No module named 'django'
    ERROR: could not load /Users/kees/Projects/django-oscar/tests/conftest.py

Wait what? Oh, django dependency is declared only in setup.py, which i haven't installed.

    (oscar-tests) $ pip install .
    ...
    Successfully installed Babel-2.5.3 Faker-0.8.10 Unidecode-0.4.21 django-1.11.9 django-extra-views-0.9.0 django-haystack-2.6.1 django-oscar-1.6.dev0 django-phonenumber-field-1.3.0 django-tables2-1.16.0 django-treebeard-4.2.0 django-widget-tweaks-1.4.1 factory-boy-2.9.2 mock-2.0.0 pbr-3.1.1 phonenumberslite-8.8.9 pillow-5.0.0 purl-1.3.1 python-dateutil-2.6.1 pytz-2017.3 sorl-thumbnail-12.4.1 text-unidecode-1.1
    (oscar-tests) $ py.test
    ...
    INTERNALERROR> django.core.exceptions.ImproperlyConfigured: Error loading psycopg2 module: No module named 'psycopg2'

Okay, another dependency, let's just install:

    (oscar-tests) $ pip install psycopg2
    ...
    Successfully installed psycopg2-2.7.3.2
    (oscar-tests) $ py.test
    /Users/kees/Projects/django-oscar/src/oscar/defaults.py:3: RemovedInDjango20Warning: Importing from django.core.urlresolvers is deprecated in favor of django.urls.
      from django.core.urlresolvers import reverse_lazy
    ================================================================================ test session starts ================================================================================
    platform darwin -- Python 2.7.10, pytest-3.3.2, py-1.5.2, pluggy-0.6.0
    rootdir: /Users/kees/Projects/django-oscar, inifile: setup.cfg
    plugins: django-3.1.2
    collected 840 items / 33 errors

    ====================================================================================== ERRORS =======================================================================================
    _________________________________________________________________ ERROR collecting tests/functional/test_basket.py __________________________________________________________________
    ImportError while importing test module '/Users/kees/Projects/django-oscar/tests/functional/test_basket.py'.
    Hint: make sure your test modules/packages have valid Python names.
    Traceback:
    tests/functional/test_basket.py:14: in <module>
        from oscar.test.utils import extract_cookie_value
    src/oscar/test/utils.py:6: in <module>
        from webob.compat import bytes_
    E   ImportError: No module named webob.compat
    ...
    E   ImportError: No module named 'django_webtest'
    ...
    E   ImportError: No module named 'webob'

At this point i'm thinking i'm missing something. I tried installing `pytest-django` to no avail."
500,taigaio,taiga-back,2,closed,1217,5,https://api.github.com/repos/taigaio/taiga-back/issues/1217/comments,https://github.com/taigaio/taiga-back/issues/1217,[],Taiga doesnt show projects after upgrade,"**Before adding an issue**
Please ensure that your issue is not already reported in our [issues list](https://tree.taiga.io/project/taiga/issues?order_by=-created_date).
If this issue was already reported, remember that you can upvote it to raise its importance.

**Do you want to request a *feature* or report a *bug*?**
bug
**What is the current behavior?**
After upgrading taiga with the info here
https://taigaio.github.io/taiga-doc/dist/upgrades.html
from
3.4.6 (2018-10-30) 
to 
4.0.3 (2018-12-11)

I am not able to see any of my projects anymore. If I click on my user and then on the latest activities I got the error shown below. I restarted the whole host and do the upgrade steps again but nothing changed.

**If the current behavior is a bug, please provide the steps to reproduce.**


Request Method: | GET
-- | --
Request URL: | https://fritz-cloud.ddns.net:8044/api/v1/projects/by_slug?slug=fabianfritz-prasidialjahr
Django Version: | 1.11.16
Exception Type: | ProgrammingError
Exception Value: | relation   ""settings_userprojectsettings"" does not exist   LINE 178:                    FROM   settings_userprojectsettings                                     ^
Exception Location: | /home/taiga/.virtualenvs/taiga/lib/python3.5/site-packages/django/db/backends/utils.py   in execute, line 64
Python Executable: | /home/taiga/.virtualenvs/taiga/bin/python3.5
Python Version: | 3.5.2
Python Path: | ['/home/taiga/taiga-back',    '/home/taiga/taiga-back',    '/home/taiga/.virtualenvs/taiga/bin',    '/home/taiga/.virtualenvs/taiga/lib/python3.5/site-packages',    '/home/taiga/.virtualenvs/taiga/lib/python35.zip',    '/home/taiga/.virtualenvs/taiga/lib/python3.5',    '/home/taiga/.virtualenvs/taiga/lib/python3.5/plat-x86_64-linux-gnu',    '/home/taiga/.virtualenvs/taiga/lib/python3.5/lib-dynload',    '/usr/lib/python3.5',    '/usr/lib/python3.5/plat-x86_64-linux-gnu',    '/home/taiga/taiga-back']
Server time: | Sat, 15   Dec 2018 17:05:04 +0000



**What is the expected behavior?**
show projects as before
**Is it happening in taiga.io or in your own instance?**
own instance
**What browser/version are you using?**
chrome / ie both 
**Are there any console errors *(Ctrl + F12)* in red?**
see above 
Thanks for reporting!
"
538,taigaio,taiga-back,3,closed,1165,3,https://api.github.com/repos/taigaio/taiga-back/issues/1165/comments,https://github.com/taigaio/taiga-back/issues/1165,[],Received this upon upgrade,"```
(taiga) taiga@ipm:~/taiga-back$ python manage.py loaddata initial_project_templates --traceback
Trying import local.py settings...
/home/taiga/.virtualenvs/taiga/lib/python3.5/site-packages/psycopg2/__init__.py:144: UserWarning: The psycopg2 wheel package will be renamed from release 2.8; in order to keep installing from binary please use ""pip install psycopg2-binary"" instead. For details see: <http://initd.org/psycopg/docs/install.html#binary-install-from-pypi>.
  """""")
Traceback (most recent call last):
  File ""/home/taiga/.virtualenvs/taiga/lib/python3.5/site-packages/django/db/backends/utils.py"", line 65, in execute
    return self.cursor.execute(sql, params)
psycopg2.ProgrammingError: column ""us_duedates"" of relation ""projects_projecttemplate"" does not exist
LINE 1: ..._limit"": null, ""slug"": ""archived"", ""order"": 6}]', ""us_duedat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File ""manage.py"", line 29, in <module>
    execute_from_command_line(sys.argv)
  File ""/home/taiga/.virtualenvs/taiga/lib/python3.5/site-packages/django/core/management/__init__.py"", line 363, in execute_from_command_line
    utility.execute()
  File ""/home/taiga/.virtualenvs/taiga/lib/python3.5/site-packages/django/core/management/__init__.py"", line 355, in execute
    self.fetch_command(subcommand).run_from_argv(self.argv)
  File ""/home/taiga/.virtualenvs/taiga/lib/python3.5/site-packages/django/core/management/base.py"", line 283, in run_from_argv
    self.execute(*args, **cmd_options)
  File ""/home/taiga/.virtualenvs/taiga/lib/python3.5/site-packages/django/core/management/base.py"", line 330, in execute
    output = self.handle(*args, **options)
  File ""/home/taiga/.virtualenvs/taiga/lib/python3.5/site-packages/django/core/management/commands/loaddata.py"", line 69, in handle
    self.loaddata(fixture_labels)
  File ""/home/taiga/.virtualenvs/taiga/lib/python3.5/site-packages/django/core/management/commands/loaddata.py"", line 109, in loaddata
    self.load_label(fixture_label)
  File ""/home/taiga/.virtualenvs/taiga/lib/python3.5/site-packages/django/core/management/commands/loaddata.py"", line 175, in load_label
    obj.save(using=self.using)
  File ""/home/taiga/.virtualenvs/taiga/lib/python3.5/site-packages/django/core/serializers/base.py"", line 205, in save
    models.Model.save_base(self.object, using=using, raw=True, **kwargs)
  File ""/home/taiga/.virtualenvs/taiga/lib/python3.5/site-packages/django/db/models/base.py"", line 836, in save_base
    updated = self._save_table(raw, cls, force_insert, force_update, using, update_fields)
  File ""/home/taiga/.virtualenvs/taiga/lib/python3.5/site-packages/django/db/models/base.py"", line 903, in _save_table
    forced_update)
  File ""/home/taiga/.virtualenvs/taiga/lib/python3.5/site-packages/django/db/models/base.py"", line 953, in _do_update
    return filtered._update(values) > 0
  File ""/home/taiga/.virtualenvs/taiga/lib/python3.5/site-packages/django/db/models/query.py"", line 664, in _update
    return query.get_compiler(self.db).execute_sql(CURSOR)
  File ""/home/taiga/.virtualenvs/taiga/lib/python3.5/site-packages/django/db/models/sql/compiler.py"", line 1191, in execute_sql
    cursor = super(SQLUpdateCompiler, self).execute_sql(result_type)
  File ""/home/taiga/.virtualenvs/taiga/lib/python3.5/site-packages/django/db/models/sql/compiler.py"", line 886, in execute_sql
    raise original_exception
  File ""/home/taiga/.virtualenvs/taiga/lib/python3.5/site-packages/django/db/models/sql/compiler.py"", line 876, in execute_sql
    cursor.execute(sql, params)
  File ""/home/taiga/.virtualenvs/taiga/lib/python3.5/site-packages/raven/contrib/django/client.py"", line 114, in execute
    return real_execute(self, sql, params)
  File ""/home/taiga/.virtualenvs/taiga/lib/python3.5/site-packages/django/db/backends/utils.py"", line 65, in execute
    return self.cursor.execute(sql, params)
  File ""/home/taiga/.virtualenvs/taiga/lib/python3.5/site-packages/django/db/utils.py"", line 94, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File ""/home/taiga/.virtualenvs/taiga/lib/python3.5/site-packages/django/utils/six.py"", line 685, in reraise
    raise value.with_traceback(tb)
  File ""/home/taiga/.virtualenvs/taiga/lib/python3.5/site-packages/django/db/backends/utils.py"", line 65, in execute
    return self.cursor.execute(sql, params)
django.db.utils.ProgrammingError: Problem installing fixture '/home/taiga/taiga-back/taiga/projects/fixtures/initial_project_templates.json': Could not load projects.ProjectTemplate(pk=1): column ""us_duedates"" of relation ""projects_projecttemplate"" does not exist
LINE 1: ..._limit"": null, ""slug"": ""archived"", ""order"": 6}]', ""us_duedat...
                                                             ^

(taiga) taiga@ipm:~/taiga-back$ 

```"
580,taigaio,taiga-back,3,closed,1103,2,https://api.github.com/repos/taigaio/taiga-back/issues/1103/comments,https://github.com/taigaio/taiga-back/issues/1103,[],Email errors spamming API issues,"Upon discussion with support team I was instructed to change the localhost address to ipm.uhlhosting.ch hence is my public address. Upon replacing these I started to receive over 100 emails within 30 mins.



```
Internal Server Error: /api/v1/userstories

ProgrammingError at /api/v1/userstories
column userstories_userstory.due_date does not exist
LINE 58: ...blocked"", ""userstories_userstory"".""blocked_note"", ""userstori...
                                                             ^
Request Method: GET
Request URL: https://ipm.uhlhosting.ch/api/v1/userstories?assigned_to=16&is_closed=false
Django Version: 1.11.2
Python Executable: /home/taiga/.virtualenvs/taiga/bin/python3.5
Python Version: 3.5.2
Python Path: ['/home/taiga/taiga-back', '/home/taiga/taiga-back', '/home/taiga/.virtualenvs/taiga/bin', '/home/taiga/.virtualenvs/taiga/lib/python3.5/site-packages', '/home/taiga/.virtualenvs/taiga/lib/python35.zip', '/home/taiga/.virtualenvs/taiga/lib/python3.5', '/home/taiga/.virtualenvs/taiga/lib/python3.5/plat-x86_64-linux-gnu', '/home/taiga/.virtualenvs/taiga/lib/python3.5/lib-dynload', '/usr/lib/python3.5', '/usr/lib/python3.5/plat-x86_64-linux-gnu', '/home/taiga/taiga-back']
Server time: Wed, 2 May 2018 01:09:19 +0000
Installed Applications:
['django.contrib.auth',
'django.contrib.contenttypes',
'django.contrib.sessions',
'django.contrib.messages',
'django.contrib.admin',
'django.contrib.staticfiles',
'django.contrib.sitemaps',
'django.contrib.postgres',
'taiga.base',
'taiga.base.api',
'taiga.locale',
'taiga.events',
'taiga.front',
'taiga.users',
'taiga.userstorage',
'taiga.external_apps',
'taiga.projects',
'taiga.projects.references',
'taiga.projects.custom_attributes',
'taiga.projects.history',
'taiga.projects.notifications',
'taiga.projects.attachments',
'taiga.projects.likes',
'taiga.projects.votes',
'taiga.projects.milestones',
'taiga.projects.epics',
'taiga.projects.userstories',
'taiga.projects.tasks',
'taiga.projects.issues',
'taiga.projects.wiki',
'taiga.projects.contact',
'taiga.searches',
'taiga.timeline',
'taiga.mdrender',
'taiga.export_import',
'taiga.feedback',
'taiga.stats',
'taiga.hooks.github',
'taiga.hooks.gitlab',
'taiga.hooks.bitbucket',
'taiga.hooks.gogs',
'taiga.webhooks',
'taiga.importers',
'djmail',
'django_jinja',
'django_jinja.contrib._humanize',
'sr',
'easy_thumbnails',
'raven.contrib.django.raven_compat']
Installed Middleware:
['raven.contrib.django.middleware.SentryMiddleware',
'taiga.base.middleware.cors.CoorsMiddleware',
'taiga.events.middleware.SessionIDMiddleware',
'django.middleware.common.CommonMiddleware',
'django.middleware.locale.LocaleMiddleware',
'django.contrib.sessions.middleware.SessionMiddleware',
'django.contrib.auth.middleware.AuthenticationMiddleware',
'django.contrib.messages.middleware.MessageMiddleware']


Traceback:  

File ""/home/taiga/.virtualenvs/taiga/lib/python3.5/site-packages/django/db/backends/utils.py"" in execute
 65.                 return self.cursor.execute(sql, params)


     The above exception (column userstories_userstory.due_date does not exist
LINE 58: ...blocked"", ""userstories_userstory"".""blocked_note"", ""userstori...
                                                             ^
) was the direct cause of the following exception:



File ""/home/taiga/.virtualenvs/taiga/lib/python3.5/site-packages/django/core/handlers/exception.py"" in inner
 41.             response = get_response(request)

File ""/home/taiga/.virtualenvs/taiga/lib/python3.5/site-packages/django/core/handlers/base.py"" in _legacy_get_response
 249.             response = self._get_response(request)

File ""/home/taiga/.virtualenvs/taiga/lib/python3.5/site-packages/django/core/handlers/base.py"" in _get_response
 187.                 response = self.process_exception_by_middleware(e, request)

File ""/home/taiga/.virtualenvs/taiga/lib/python3.5/site-packages/django/core/handlers/base.py"" in _get_response
 185.                 response = wrapped_callback(request, *callback_args, **callback_kwargs)

File ""/home/taiga/taiga-back/taiga/base/api/viewsets.py"" in view
 106.             return self.dispatch(request, *args, **kwargs)

File ""/home/taiga/.virtualenvs/taiga/lib/python3.5/site-packages/django/views/decorators/csrf.py"" in wrapped_view
 58.         return view_func(*args, **kwargs)

File ""/home/taiga/taiga-back/taiga/base/api/views.py"" in dispatch
 460.             response = self.handle_exception(exc)

File ""/home/taiga/taiga-back/taiga/base/api/views.py"" in dispatch
 458.             response = handler(request, *args, **kwargs)

File ""/home/taiga/taiga-back/taiga/base/api/mixins.py"" in list
 143.         return response.Ok(serializer.data)

File ""/home/taiga/.virtualenvs/taiga/lib/python3.5/site-packages/serpy/serializer.py"" in data
 134.             self._data = self.to_value(self.instance)

File ""/home/taiga/taiga-back/taiga/projects/mixins/serializers.py"" in to_value
 90.         return super().to_value(instance)

File ""/home/taiga/taiga-back/taiga/projects/mixins/serializers.py"" in to_value
 30.         return super().to_value(instance)

File ""/home/taiga/taiga-back/taiga/projects/mixins/serializers.py"" in to_value
 66.         return super().to_value(instance)

File ""/home/taiga/.virtualenvs/taiga/lib/python3.5/site-packages/serpy/serializer.py"" in to_value
 123.             return [serialize(o, fields) for o in instance]

File ""/home/taiga/.virtualenvs/taiga/lib/python3.5/site-packages/django/db/models/query.py"" in __iter__
 250.         self._fetch_all()

File ""/home/taiga/.virtualenvs/taiga/lib/python3.5/site-packages/django/db/models/query.py"" in _fetch_all
 1105.             self._result_cache = list(self._iterable_class(self))

File ""/home/taiga/.virtualenvs/taiga/lib/python3.5/site-packages/django/db/models/query.py"" in __iter__
 53.         results = compiler.execute_sql(chunked_fetch=self.chunked_fetch)

File ""/home/taiga/.virtualenvs/taiga/lib/python3.5/site-packages/django/db/models/sql/compiler.py"" in execute_sql
 886.             raise original_exception

File ""/home/taiga/.virtualenvs/taiga/lib/python3.5/site-packages/django/db/models/sql/compiler.py"" in execute_sql
 876.             cursor.execute(sql, params)

File ""/home/taiga/.virtualenvs/taiga/lib/python3.5/site-packages/raven/contrib/django/client.py"" in execute
 114.             return real_execute(self, sql, params)

File ""/home/taiga/.virtualenvs/taiga/lib/python3.5/site-packages/django/db/backends/utils.py"" in execute
 65.                 return self.cursor.execute(sql, params)

File ""/home/taiga/.virtualenvs/taiga/lib/python3.5/site-packages/django/db/utils.py"" in __exit__
 94.                 six.reraise(dj_exc_type, dj_exc_value, traceback)

File ""/home/taiga/.virtualenvs/taiga/lib/python3.5/site-packages/django/utils/six.py"" in reraise
 685.             raise value.with_traceback(tb)

File ""/home/taiga/.virtualenvs/taiga/lib/python3.5/site-packages/django/db/backends/utils.py"" in execute
 65.                 return self.cursor.execute(sql, params)

Exception Type: ProgrammingError at /api/v1/userstories
Exception Value: column userstories_userstory.due_date does not exist
LINE 58: ...blocked"", ""userstories_userstory"".""blocked_note"", ""userstori...
                                                             ^

Request information:
USER: Viorel-Cosmin Miron

GET:
assigned_to = '16'
is_closed = 'false'

POST: No POST data

FILES: No FILES data

COOKIES:
sessionid = '3hocqxzamh7kn4tviw2nzpe1z63mlwla'
ajs_user_id = 'null'
ajs_group_id = 'null'
ajs_anonymous_id = '%2200000000000000000000000000%22'
csrftoken = '6vseNMD9jNzYHPyffARATuHpUJbqCw7K6NDXwziqLCKVkIelkwhiapXNVTtfTmqs'
_ga = 'GA1.2.1705997440.1521743720'

META:
HTTP_ACCEPT = 'application/json, text/plain, */*'
HTTP_ACCEPT_ENCODING = 'gzip'
HTTP_ACCEPT_LANGUAGE = 'en'
HTTP_AUTHORIZATION = 'Bearer eyJ1c2VyX2F1dGhlbnRpY2F0aW9uX2lkIjoxNn0:1f1JSR:ecNPBREQLmA402xDX5334T9aQeQ'
HTTP_CONNECTION = 'close'
HTTP_COOKIE = 'csrftoken=6vseNMD9jNzYHPyffARATuHpUJbqCw7K6NDXwziqLCKVkIelkwhiapXNVTtfTmqs; sessionid=3hocqxzamh7kn4tviw2nzpe1z63mlwla; _ga=GA1.2.1705997440.1521743720; ajs_anonymous_id=%2200000000000000000000000000%22; ajs_group_id=null; ajs_user_id=null'
HTTP_DNT = '1'
HTTP_HOST = 'ipm.uhlhosting.ch'
HTTP_REFERER = 'https://ipm.uhlhosting.ch/'
HTTP_USER_AGENT = 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_4) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/11.1 Safari/605.1.15'
HTTP_X_DISABLE_PAGINATION = '1'
HTTP_X_FORWARDED_FOR = '89.103.72.238'
HTTP_X_FORWARDED_PROTO = 'https'
HTTP_X_REAL_IP = '89.103.72.238'
HTTP_X_SCHEME = 'https'
HTTP_X_SESSION_ID = '5069e991a776f4ed858231a404ea1684a8d3c88d'
PATH_INFO = '/api/v1/userstories'
QUERY_STRING = 'assigned_to=16&is_closed=false'
RAW_URI = '/api/v1/userstories?assigned_to=16&is_closed=false'
REMOTE_ADDR = '127.0.0.1'
REMOTE_PORT = '40700'
REQUEST_METHOD = 'GET'
SCRIPT_NAME = ''
SERVER_NAME = '127.0.0.1'
SERVER_PORT = '8001'
SERVER_PROTOCOL = 'HTTP/1.0'
SERVER_SOFTWARE = 'gunicorn/19.7.1'
gunicorn.socket = <socket.socket fd=13, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8001), raddr=('127.0.0.1', 40700)>
wsgi.errors = <gunicorn.http.wsgi.WSGIErrorsWrapper object at 0x7f6f9ddd91d0>
wsgi.file_wrapper = ''
wsgi.input = <gunicorn.http.body.Body object at 0x7f6f9ddd9390>
wsgi.multiprocess = True
wsgi.multithread = False
wsgi.run_once = False
wsgi.url_scheme = 'https'
wsgi.version = 

Settings:
Using settings module settings
ABSOLUTE_URL_OVERRIDES = {}
ADMINS = ('Admin', 'cosmin@uhlhost.net')
ALLOWED_HOSTS = ['*']
APPEND_SLASH = False
APP_EXTRA_EXPOSE_HEADERS = ['taiga-info-total-opened-milestones', 'taiga-info-total-closed-milestones', 'taiga-info-project-memberships', 'taiga-info-project-is-private', 'taiga-info-order-updated']
ATOMIC_REQUESTS = True
AUTHENTICATION_BACKENDS = 'django.contrib.auth.backends.ModelBackend'
AUTH_PASSWORD_VALIDATORS = '********************'
AUTH_USER_MODEL = 'users.User'
BASE_DIR = '/home/taiga/taiga-back'
BITBUCKET_VALID_ORIGIN_IPS = ['131.103.20.165', '131.103.20.166', '104.192.143.192/28', '104.192.143.208/28']
BROKER_URL = 'amqp://guest:guest@localhost:5672//'
CACHES = {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache', 'LOCATION': 'unique-snowflake'}}
CACHE_MIDDLEWARE_ALIAS = 'default'
CACHE_MIDDLEWARE_KEY_PREFIX = '********************'
CACHE_MIDDLEWARE_SECONDS = 600
CELERY_ENABLED = True
CELERY_RESULT_BACKEND = 'redis://localhost:6379/0'
CHANGE_NOTIFICATIONS_MIN_INTERVAL = 300
CSRF_COOKIE_AGE = 31449600
CSRF_COOKIE_DOMAIN = None
CSRF_COOKIE_HTTPONLY = False
CSRF_COOKIE_NAME = 'csrftoken'
CSRF_COOKIE_PATH = '/'
CSRF_COOKIE_SECURE = False
CSRF_FAILURE_VIEW = 'django.views.csrf.csrf_failure'
CSRF_HEADER_NAME = 'HTTP_X_CSRFTOKEN'
CSRF_TRUSTED_ORIGINS = []
CSRF_USE_SESSIONS = False
DATABASES = {'default': {'ATOMIC_REQUESTS': False, 'CONN_MAX_AGE': 0, 'PORT': '', 'HOST': '', 'OPTIONS': {}, 'TEST': {'NAME': None, 'COLLATION': None, 'MIRROR': None, 'CHARSET': None}, 'USER': '', 'NAME': 'taiga', 'AUTOCOMMIT': True, 'TIME_ZONE': None, 'PASSWORD': '********************', 'ENGINE': 'django.db.backends.postgresql'}}
DATABASE_ROUTERS = []
DATA_UPLOAD_MAX_MEMORY_SIZE = 2621440
DATA_UPLOAD_MAX_NUMBER_FIELDS = 1000
DATETIME_FORMAT = 'N j, Y, P'
DATETIME_INPUT_FORMATS = ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%Y-%m-%d', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%Y', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M', '%m/%d/%y']
DATE_FORMAT = 'N j, Y'
DATE_INPUT_FORMATS = 
DEBUG = False
DEBUG_PROPAGATE_EXCEPTIONS = False
DECIMAL_SEPARATOR = '.'
DEFAULT_CHARSET = 'utf-8'
DEFAULT_CONTENT_TYPE = 'text/html'
DEFAULT_EXCEPTION_REPORTER_FILTER = 'django.views.debug.SafeExceptionReporterFilter'
DEFAULT_FILE_STORAGE = 'taiga.base.storage.FileSystemStorage'
DEFAULT_FROM_EMAIL = 'talk@uhlhosting.ch'
DEFAULT_INDEX_TABLESPACE = ''
DEFAULT_PROJECT_TEMPLATE = 'scrum'
DEFAULT_TABLESPACE = ''
DISALLOWED_USER_AGENTS = []
DJMAIL_MAX_RETRY_NUMBER = 3
DJMAIL_REAL_BACKEND = 'django.core.mail.backends.console.EmailBackend'
DJMAIL_SEND_ASYNC = True
DJMAIL_TEMPLATE_EXTENSION = 'jinja'
EMAIL_BACKEND = 'django.core.mail.backends.smtp.EmailBackend'
EMAIL_HOST = 'panel.uhlhosting.ch'
EMAIL_HOST_PASSWORD = '********************'
EMAIL_HOST_USER = 'talk@uhlhosting.ch'
EMAIL_PORT = 587
EMAIL_SSL_CERTFILE = None
EMAIL_SSL_KEYFILE = '********************'
EMAIL_SUBJECT_PREFIX = '[Django] '
EMAIL_TIMEOUT = None
EMAIL_USE_LOCALTIME = False
EMAIL_USE_SSL = False
EMAIL_USE_TLS = True
EVENTS_PUSH_BACKEND = 'taiga.events.backends.rabbitmq.EventsPushBackend'
EVENTS_PUSH_BACKEND_OPTIONS = {'url': 'amqp://taiga:masterblaster@localhost:5672/taiga'}
EXPORTS_TTL = 86400
EXTRA_BLOCKING_CODES = []
FEEDBACK_EMAIL = 'support@uhlhosting.ch'
FEEDBACK_ENABLED = True
FILE_CHARSET = 'utf-8'
FILE_UPLOAD_DIRECTORY_PERMISSIONS = None
FILE_UPLOAD_HANDLERS = ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler']
FILE_UPLOAD_MAX_MEMORY_SIZE = 2621440
FILE_UPLOAD_PERMISSIONS = 420
FILE_UPLOAD_TEMP_DIR = None
FIRST_DAY_OF_WEEK = 0
FIXTURE_DIRS = []
FORCE_SCRIPT_NAME = None
FORMAT_MODULE_PATH = 'taiga.base.formats'
FORM_RENDERER = 'django.forms.renderers.DjangoTemplates'
FRONT_SITEMAP_CACHE_TIMEOUT = 86400
FRONT_SITEMAP_ENABLED = False
GITLAB_VALID_ORIGIN_IPS = []
IGNORABLE_404_ENDS = 
IGNORABLE_404_STARTS = '/phpmyadmin/'
IGNORABLE_404_URLS = []
IMPORTERS = {'jira': {'cert': '', 'active': False, 'consumer_key': '********************', 'pub_cert': ''}, 'github': {'client_id': '', 'active': False, 'client_secret': '********************'}, 'asana': {'app_secret': '********************', 'app_id': '', 'active': False, 'callback_url': ''}, 'trello': {'active': False, 'secret_key': '********************', 'api_key': '********************'}}
INSTALLED_APPS = ['django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.admin', 'django.contrib.staticfiles', 'django.contrib.sitemaps', 'django.contrib.postgres', 'taiga.base', 'taiga.base.api', 'taiga.locale', 'taiga.events', 'taiga.front', 'taiga.users', 'taiga.userstorage', 'taiga.external_apps', 'taiga.projects', 'taiga.projects.references', 'taiga.projects.custom_attributes', 'taiga.projects.history', 'taiga.projects.notifications', 'taiga.projects.attachments', 'taiga.projects.likes', 'taiga.projects.votes', 'taiga.projects.milestones', 'taiga.projects.epics', 'taiga.projects.userstories', 'taiga.projects.tasks', 'taiga.projects.issues', 'taiga.projects.wiki', 'taiga.projects.contact', 'taiga.searches', 'taiga.timeline', 'taiga.mdrender', 'taiga.export_import', 'taiga.feedback', 'taiga.stats', 'taiga.hooks.github', 'taiga.hooks.gitlab', 'taiga.hooks.bitbucket', 'taiga.hooks.gogs', 'taiga.webhooks', 'taiga.importers', 'djmail', 'django_jinja', 'django_jinja.contrib._humanize', 'sr', 'easy_thumbnails', 'raven.contrib.django.raven_compat']
INTERNAL_IPS = []
LANGUAGES = [('de', 'Deutsch'), ('en', 'English (US)')]
LANGUAGES_BIDI = ['he', 'ar', 'fa', 'ur']
LANGUAGE_CODE = 'en-us'
LANGUAGE_COOKIE_AGE = None
LANGUAGE_COOKIE_DOMAIN = None
LANGUAGE_COOKIE_NAME = 'django_language'
LANGUAGE_COOKIE_PATH = '/'
LOCALE_PATHS = 
LOGGING = {'formatters': {'simple': {'format': '%(levelname)s:%(asctime)s: %(message)s'}, 'null': {'format': '%(message)s'}, 'django.server': {'()': 'django.utils.log.ServerFormatter', 'format': '[%(server_time)s] %(message)s'}, 'complete': {'format': '%(levelname)s:%(asctime)s:%(module)s %(message)s'}}, 'filters': {'require_debug_false': {'()': 'django.utils.log.RequireDebugFalse'}}, 'loggers': {'taiga.export_import': {'handlers': ['mail_admins', 'console'], 'level': 'ERROR', 'propagate': False}, 'django.server': {'handlers': ['django.server'], 'level': 'INFO', 'propagate': False}, 'taiga': {'handlers': ['console'], 'level': 'DEBUG', 'propagate': False}, 'django': {'handlers': ['null'], 'level': 'INFO', 'propagate': True}, 'django.request': {'handlers': ['mail_admins', 'console'], 'level': 'ERROR', 'propagate': False}}, 'disable_existing_loggers': True, 'handlers': {'console': {'class': 'logging.StreamHandler', 'formatter': 'simple', 'level': 'DEBUG'}, 'null': {'class': 'logging.NullHandler', 'level': 'DEBUG'}, 'django.server': {'class': 'logging.StreamHandler', 'formatter': 'django.server', 'level': 'INFO'}, 'mail_admins': {'class': 'django.utils.log.AdminEmailHandler', 'filters': ['require_debug_false'], 'level': 'ERROR'}}, 'version': 1}
LOGGING_CONFIG = 'logging.config.dictConfig'
LOGIN_REDIRECT_URL = '/accounts/profile/'
LOGIN_URL = '/auth/login/'
LOGOUT_REDIRECT_URL = None
MANAGERS = []
MAX_AGE_AUTH_TOKEN = '********************'
MAX_AGE_CANCEL_ACCOUNT = 2592000
MAX_MEMBERSHIPS_PRIVATE_PROJECTS = None
MAX_MEMBERSHIPS_PUBLIC_PROJECTS = None
MAX_PENDING_MEMBERSHIPS = 30
MAX_PRIVATE_PROJECTS_PER_USER = None
MAX_PUBLIC_PROJECTS_PER_USER = None
MEDIA_ROOT = '/home/taiga/taiga-back/media'
MEDIA_URL = '/media/'
MESSAGE_STORAGE = 'django.contrib.messages.storage.session.SessionStorage'
MIDDLEWARE = None
MIDDLEWARE_CLASSES = ['raven.contrib.django.middleware.SentryMiddleware', 'taiga.base.middleware.cors.CoorsMiddleware', 'taiga.events.middleware.SessionIDMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.locale.LocaleMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware']
MIGRATION_MODULES = {}
MONTH_DAY_FORMAT = 'F j'
NUMBER_GROUPING = 0
PASSWORD_HASHERS = '********************'
PASSWORD_RESET_TIMEOUT_DAYS = '********************'
PREPEND_WWW = False
PROJECT_MODULES_CONFIGURATORS = {'bitbucket': 'taiga.hooks.bitbucket.services.get_or_generate_config', 'github': 'taiga.hooks.github.services.get_or_generate_config', 'gitlab': 'taiga.hooks.gitlab.services.get_or_generate_config', 'gogs': 'taiga.hooks.gogs.services.get_or_generate_config'}
PUBLIC_REGISTER_ENABLED = True
REST_FRAMEWORK = {'DEFAULT_THROTTLE_WHITELIST': [], 'EXCEPTION_HANDLER': 'taiga.base.exceptions.exception_handler', 'DEFAULT_THROTTLE_CLASSES': ('taiga.base.throttling.CommonThrottle',), 'PAGINATE_BY_PARAM': 'page_size', 'PAGINATE_BY': 30, 'DATETIME_FORMAT': '%Y-%m-%dT%H:%M:%S%z', 'DEFAULT_AUTHENTICATION_CLASSES': ('taiga.auth.backends.Token', 'taiga.auth.backends.Session', 'taiga.external_apps.auth_backends.Token'), 'DEFAULT_THROTTLE_RATES': {'user-write': None, 'register-success': None, 'user-detail': None, 'user-read': None, 'anon-read': None, 'create-memberships': None, 'import-dump-mode': '1/minute', 'anon-write': None, 'user-update': None, 'login-fail': None, 'import-mode': None}, 'MAX_PAGINATE_BY': 1000, 'FILTER_BACKEND': 'taiga.base.filters.FilterBackend'}
ROOT_URLCONF = 'taiga.urls'
SEARCHES_MAX_RESULTS = 150
SECRET_KEY = '********************'
SECURE_BROWSER_XSS_FILTER = False
SECURE_CONTENT_TYPE_NOSNIFF = False
SECURE_HSTS_INCLUDE_SUBDOMAINS = False
SECURE_HSTS_PRELOAD = False
SECURE_HSTS_SECONDS = 0
SECURE_PROXY_SSL_HEADER = 
SECURE_REDIRECT_EXEMPT = []
SECURE_SSL_HOST = None
SECURE_SSL_REDIRECT = False
SEND_BROKEN_LINK_EMAILS = True
SERVER_EMAIL = 'talk@uhlhosting.ch'
SESSION_CACHE_ALIAS = 'default'
SESSION_COOKIE_AGE = 1209600
SESSION_COOKIE_DOMAIN = None
SESSION_COOKIE_HTTPONLY = True
SESSION_COOKIE_NAME = 'sessionid'
SESSION_COOKIE_PATH = '/'
SESSION_COOKIE_SECURE = False
SESSION_ENGINE = 'django.contrib.sessions.backends.db'
SESSION_EXPIRE_AT_BROWSER_CLOSE = False
SESSION_FILE_PATH = None
SESSION_SAVE_EVERY_REQUEST = False
SESSION_SERIALIZER = 'django.contrib.sessions.serializers.JSONSerializer'
SETTINGS_MODULE = 'settings'
SHORT_DATETIME_FORMAT = 'm/d/Y P'
SHORT_DATE_FORMAT = 'm/d/Y'
SIGNING_BACKEND = 'django.core.signing.TimestampSigner'
SILENCED_SYSTEM_CHECKS = []
SITES = {'api': '********************', 'front': {'domain': 'ipm.uhlhosting.ch', 'scheme': 'https', 'name': 'front'}}
SITE_ID = 'api'
SOUTH_MIGRATION_MODULES = {'easy_thumbnails': 'easy_thumbnails.south_migrations'}
SR = {'social': {'github_url': 'https://github.com/taigaio', 'twitter_url': 'https://twitter.com/taigaio'}, 'taigaio_url': 'https://taiga.io', 'support': {'url': 'https://tree.taiga.io/support', 'mailing_list': 'https://groups.google.com/forum/#!forum/taigaio', 'email': 'support@taiga.io'}}
STATICFILES_DIRS = 
STATICFILES_FINDERS = ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder']
STATICFILES_STORAGE = 'django.contrib.staticfiles.storage.StaticFilesStorage'
STATIC_ROOT = '/home/taiga/taiga-back/static'
STATIC_URL = '/static/'
STATS_CACHE_TIMEOUT = 3600
STATS_ENABLED = True
TAGS_PREDEFINED_COLORS = ['#fce94f', '#edd400', '#c4a000', '#8ae234', '#73d216', '#4e9a06', '#d3d7cf', '#fcaf3e', '#f57900', '#ce5c00', '#729fcf', '#3465a4', '#204a87', '#888a85', '#ad7fa8', '#75507b', '#5c3566', '#ef2929', '#cc0000', '#a40000', '#2e3436']
TEMPLATES = [{'BACKEND': 'django_jinja.backend.Jinja2', 'OPTIONS': {'context_processors': ['django.contrib.auth.context_processors.auth', 'django.template.context_processors.request', 'django.template.context_processors.i18n', 'django.template.context_processors.media', 'django.template.context_processors.static', 'django.template.context_processors.tz', 'django.contrib.messages.context_processors.messages'], 'match_extension': '.jinja'}, 'DIRS': ['/home/taiga/taiga-back/templates'], 'APP_DIRS': True}, {'BACKEND': 'django.template.backends.django.DjangoTemplates', 'OPTIONS': {'context_processors': ['django.contrib.auth.context_processors.auth', 'django.template.context_processors.request', 'django.template.context_processors.i18n', 'django.template.context_processors.media', 'django.template.context_processors.static', 'django.template.context_processors.tz', 'django.contrib.messages.context_processors.messages']}, 'DIRS': ['/home/taiga/taiga-back/templates'], 'APP_DIRS': True}]
TEST_NON_SERIALIZED_APPS = []
TEST_RUNNER = 'django.test.runner.DiscoverRunner'
THN_ATTACHMENT_CARD = 'card-image'
THN_ATTACHMENT_PREVIEW = 'preview-image'
THN_ATTACHMENT_TIMELINE = 'timeline-image'
THN_AVATAR_BIG = 'big-avatar'
THN_AVATAR_BIG_SIZE = 300
THN_AVATAR_SIZE = 80
THN_AVATAR_SMALL = 'avatar'
THN_CARD_IMAGE_HEIGHT = 200
THN_CARD_IMAGE_WIDTH = 300
THN_LOGO_BIG = 'logo-big'
THN_LOGO_BIG_SIZE = 300
THN_LOGO_SMALL = 'logo-small'
THN_LOGO_SMALL_SIZE = 80
THN_PREVIEW_IMAGE_WIDTH = 800
THN_TIMELINE_IMAGE_SIZE = 640
THOUSAND_SEPARATOR = ','
THUMBNAIL_ALIASES = {'': {'logo-big': {'size': (300, 300), 'crop': True}, 'preview-image': {'size': (800, 0), 'crop': False}, 'card-image': {'size': (300, 200), 'crop': True}, 'avatar': {'size': (80, 80), 'crop': True}, 'big-avatar': {'size': (300, 300), 'crop': True}, 'logo-small': {'size': (80, 80), 'crop': True}, 'timeline-image': {'size': (640, 0), 'crop': True}}}
TIME_FORMAT = 'P'
TIME_INPUT_FORMATS = ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M']
TIME_ZONE = 'UTC'
USER_EMAIL_ALLOWED_DOMAINS = None
USE_ETAGS = False
USE_I18N = True
USE_L10N = True
USE_THOUSAND_SEPARATOR = False
USE_TZ = True
USE_X_FORWARDED_HOST = True
USE_X_FORWARDED_PORT = False
WEBHOOKS_ENABLED = True
WSGI_APPLICATION = 'taiga.wsgi.application'
X_FRAME_OPTIONS = 'SAMEORIGIN'
YEAR_MONTH_FORMAT = 'F Y'
```

Issues on Console:

[Error] Failed to load resource: the server responded with a status of 500 (Internal Server Error) (issues, line 0)
[Error] Failed to load resource: the server responded with a status of 500 (Internal Server Error) (userstories, line 0)
[Error] Failed to load resource: the server responded with a status of 500 (Internal Server Error) (tasks, line 0)
[Error] Failed to load resource: the server responded with a status of 500 (Internal Server Error) (issues, line 0)
[Error] Failed to load resource: the server responded with a status of 500 (Internal Server Error) (tasks, line 0)
[Error] Failed to load resource: the server responded with a status of 500 (Internal Server Error) (userstories, line 0)
> Selected Element

https://ipm.uhlhosting.ch/api/v1/*

All are showing 500 in connecting to https://ipm.uhlhosting.ch/api

I do not understand how this is possible I made a snapshot and reverted my snapshot, yet this is still occurring. I will have to shutdown the machine hence at this rate is flooding my mailbox.

Any idea is welcomed"
630,taigaio,taiga-back,4,closed,1007,4,https://api.github.com/repos/taigaio/taiga-back/issues/1007/comments,https://github.com/taigaio/taiga-back/issues/1007,[],psycopg2.ProgrammingError: permission denied for relation projects_project,"After following all the installation steps from https://taigaio.github.io/taiga-doc/dist/setup-production.html and opening localhost on the web browser, I get problems with the frontend content display, along with the following errors within /home/kais/.taiga/logs/gunicorn.stderr.log:

> Internal Server Error: /api/v1/stats/discover
> Traceback (most recent call last):
>   File ""/home/kais/.virtualenvs/taiga/lib/python3.5/site-packages/django/db/backends/utils.py"", line 64, in execute
>     return self.cursor.execute(sql, params)
> psycopg2.ProgrammingError: permission denied for relation projects_project"
643,taigaio,taiga-back,4,closed,984,1,https://api.github.com/repos/taigaio/taiga-back/issues/984/comments,https://github.com/taigaio/taiga-back/issues/984,[],how to import taiga db of 3.0 when clean install 3.1,"now I use 3.0, and clean install 3.1, when import postgres db of 3.0, 
run ：
```
python manage.py loaddata initial_project_templates --traceback
```
it report error:

```
Traceback (most recent call last):
  File ""/usr/local/lib/python3.4/site-packages/django/db/backends/utils.py"", line 64, in execute
    return self.cursor.execute(sql, params)
psycopg2.ProgrammingError: column ""tags"" of relation ""projects_projecttemplate"" does not exist
LINE 1: UPDATE ""projects_projecttemplate"" SET ""tags"" = '{}', ""tags_c...
                                              ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File ""manage.py"", line 29, in <module>
    execute_from_command_line(sys.argv)
  File ""/usr/local/lib/python3.4/site-packages/django/core/management/__init__.py"", line 367, in execute_from_command_line
    utility.execute()
  File ""/usr/local/lib/python3.4/site-packages/django/core/management/__init__.py"", line 359, in execute
    self.fetch_command(subcommand).run_from_argv(self.argv)
  File ""/usr/local/lib/python3.4/site-packages/django/core/management/base.py"", line 294, in run_from_argv
    self.execute(*args, **cmd_options)
  File ""/usr/local/lib/python3.4/site-packages/django/core/management/base.py"", line 345, in execute
    output = self.handle(*args, **options)
  File ""/usr/local/lib/python3.4/site-packages/django/core/management/commands/loaddata.py"", line 64, in handle
    self.loaddata(fixture_labels)
  File ""/usr/local/lib/python3.4/site-packages/django/core/management/commands/loaddata.py"", line 104, in loaddata
    self.load_label(fixture_label)
  File ""/usr/local/lib/python3.4/site-packages/django/core/management/commands/loaddata.py"", line 167, in load_label
    obj.save(using=self.using)
  File ""/usr/local/lib/python3.4/site-packages/django/core/serializers/base.py"", line 201, in save
    models.Model.save_base(self.object, using=using, raw=True, **kwargs)
  File ""/usr/local/lib/python3.4/site-packages/django/db/models/base.py"", line 824, in save_base
    updated = self._save_table(raw, cls, force_insert, force_update, using, update_fields)
  File ""/usr/local/lib/python3.4/site-packages/django/db/models/base.py"", line 889, in _save_table
    forced_update)
  File ""/usr/local/lib/python3.4/site-packages/django/db/models/base.py"", line 939, in _do_update
    return filtered._update(values) > 0
  File ""/usr/local/lib/python3.4/site-packages/django/db/models/query.py"", line 654, in _update
    return query.get_compiler(self.db).execute_sql(CURSOR)
  File ""/usr/local/lib/python3.4/site-packages/django/db/models/sql/compiler.py"", line 1148, in execute_sql
    cursor = super(SQLUpdateCompiler, self).execute_sql(result_type)
  File ""/usr/local/lib/python3.4/site-packages/django/db/models/sql/compiler.py"", line 835, in execute_sql
    cursor.execute(sql, params)
  File ""/usr/local/lib/python3.4/site-packages/django/db/backends/utils.py"", line 64, in execute
    return self.cursor.execute(sql, params)
  File ""/usr/local/lib/python3.4/site-packages/django/db/utils.py"", line 94, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File ""/usr/local/lib/python3.4/site-packages/django/utils/six.py"", line 685, in reraise
    raise value.with_traceback(tb)
  File ""/usr/local/lib/python3.4/site-packages/django/db/backends/utils.py"", line 64, in execute
    return self.cursor.execute(sql, params)
django.db.utils.ProgrammingError: Problem installing fixture '/usr/local/taiga/taiga-back/taiga/projects/fixtures/initial_project_templates.json': Could not load projects.ProjectTemplate(pk=1): column ""tags"" of relation ""projects_projecttemplate"" does not exist
LINE 1: UPDATE ""projects_projecttemplate"" SET ""tags"" = '{}', ""tags_c...
                                              ^
```

so, how to upgrade db from 3.0 to 3.1"
919,taigaio,taiga-back,7,closed,636,9,https://api.github.com/repos/taigaio/taiga-back/issues/636/comments,https://github.com/taigaio/taiga-back/issues/636,[],is_owner / is_admin mismatch,"Hi, 

recently I've upgraded stable to latest revision, and even after having all the migrations run, there was problem with `is_owner` vs. `is_admin` column naming.

I have manually renamed the column `is_admin` to `is_owner`, and the problem was fixed, but I don't know how things could have gotten to such state.

Could you please let me know, if there is anything you know about that could cause such problems, or if it is possible to create a fixup for this, so it won't happen in the future?

Thank you

Stacktrace as follows (from `gunicorn.stdout.log`):

```
Internal Server Error: /api/v1/projects
Traceback (most recent call last):
  File ""/home/taiga/.virtualenvs/taiga/lib/python3.4/site-packages/django/db/backends/utils.py"", line 64, in execute
    return self.cursor.execute(sql, params)
psycopg2.ProgrammingError: column projects_membership.is_owner does not exist
LINE 1: ...p"".""project_id"", ""projects_membership"".""role_id"", ""projects_...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File ""/home/taiga/.virtualenvs/taiga/lib/python3.4/site-packages/django/core/handlers/base.py"", line 132, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File ""/home/taiga/taiga-back/taiga/base/api/viewsets.py"", line 105, in view
    return self.dispatch(request, *args, **kwargs)
  File ""/home/taiga/.virtualenvs/taiga/lib/python3.4/site-packages/django/views/decorators/csrf.py"", line 58, in wrapped_view
    return view_func(*args, **kwargs)
  File ""/home/taiga/taiga-back/taiga/base/api/views.py"", line 444, in dispatch
    response = self.handle_exception(exc)
  File ""/home/taiga/taiga-back/taiga/base/api/views.py"", line 441, in dispatch
    response = handler(request, *args, **kwargs)
  File ""/home/taiga/taiga-back/taiga/base/api/mixins.py"", line 139, in list
    return response.Ok(serializer.data)
  File ""/home/taiga/taiga-back/taiga/base/api/serializers.py"", line 613, in data
    self._data = [self.to_native(item) for item in obj]
  File ""/home/taiga/taiga-back/taiga/base/api/serializers.py"", line 613, in <listcomp>
    self._data = [self.to_native(item) for item in obj]
  File ""/home/taiga/taiga-back/taiga/base/api/serializers.py"", line 396, in to_native
    value = field.field_to_native(obj, field_name)
  File ""/home/taiga/taiga-back/taiga/base/api/fields.py"", line 1082, in field_to_native
    value = getattr(self.parent, self.method_name)(obj)
  File ""/home/taiga/taiga-back/taiga/projects/serializers.py"", line 266, in get_my_permissions
    return get_user_project_permissions(self.context[""request""].user, obj)
  File ""/home/taiga/taiga-back/taiga/permissions/service.py"", line 80, in get_user_project_permissions
    membership = _get_user_project_membership(user, project)
  File ""/home/taiga/taiga-back/taiga/permissions/service.py"", line 28, in _get_user_project_membership
    return user.cached_membership_for_project(project)
  File ""/home/taiga/taiga-back/taiga/users/models.py"", line 159, in cached_membership_for_project
    self._fill_cached_memberships()
  File ""/home/taiga/taiga-back/taiga/users/models.py"", line 147, in _fill_cached_memberships
    for membership in qs.all():
  File ""/home/taiga/.virtualenvs/taiga/lib/python3.4/site-packages/django/db/models/query.py"", line 162, in __iter__
    self._fetch_all()
  File ""/home/taiga/.virtualenvs/taiga/lib/python3.4/site-packages/django/db/models/query.py"", line 965, in _fetch_all
    self._result_cache = list(self.iterator())
  File ""/home/taiga/.virtualenvs/taiga/lib/python3.4/site-packages/django/db/models/query.py"", line 238, in iterator
    results = compiler.execute_sql()
  File ""/home/taiga/.virtualenvs/taiga/lib/python3.4/site-packages/django/db/models/sql/compiler.py"", line 840, in execute_sql
    cursor.execute(sql, params)
  File ""/home/taiga/.virtualenvs/taiga/lib/python3.4/site-packages/django/db/backends/utils.py"", line 64, in execute
    return self.cursor.execute(sql, params)
  File ""/home/taiga/.virtualenvs/taiga/lib/python3.4/site-packages/django/db/utils.py"", line 98, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File ""/home/taiga/.virtualenvs/taiga/lib/python3.4/site-packages/django/utils/six.py"", line 658, in reraise
    raise value.with_traceback(tb)
  File ""/home/taiga/.virtualenvs/taiga/lib/python3.4/site-packages/django/db/backends/utils.py"", line 64, in execute
    return self.cursor.execute(sql, params)
django.db.utils.ProgrammingError: column projects_membership.is_owner does not exist
LINE 1: ...p"".""project_id"", ""projects_membership"".""role_id"", ""projects_...
```
"
1037,taigaio,taiga-back,8,closed,513,14,https://api.github.com/repos/taigaio/taiga-back/issues/513/comments,https://github.com/taigaio/taiga-back/issues/513,[],"Migrate failed with the below log: relation ""djmail_message"" already exists","I've just try to upgrade taiga to 1.9.0, when I do the instructions mentioned here: http://taigaio.github.io/taiga-doc/dist/setup-faqs.html#faq-maintain-update

The below error log occurred when I migrate the database.

```
(taiga)taiga@vps3:~/taiga-back$ python manage.py migrate --noinput
Trying import local.py settings...
Operations to perform:
  Synchronize unmigrated apps: django_jinja, django_transactional_cleanup, raven_contrib_django, sr, export_import, messages, events, front, staticfiles, searches, base, _humanize, stats, sitemaps, api, mdrender, locale
  Apply all migrations: likes, webhooks, admin, attachments, sessions, tasks, wiki, timeline, easy_thumbnails, references, gitlab, bitbucket, userstorage, external_apps, custom_attributes, djmail, votes, auth, history, users, projects, github, userstories, issues, feedback, milestones, contenttypes, notifications
Synchronizing apps without migrations:
  Creating tables...
    Running deferred SQL...
  Installing custom SQL...
Running migrations:
  Rendering model states... DONE
  Applying djmail.0001_initial...Raven is not configured (logging is disabled). Please see the documentation for more information.
Traceback (most recent call last):
  File ""/home/taiga/.virtualenvs/taiga/lib/python3.4/site-packages/django/db/backends/utils.py"", line 62, in execute
    return self.cursor.execute(sql)
psycopg2.ProgrammingError: relation ""djmail_message"" already exists


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File ""manage.py"", line 10, in <module>
    execute_from_command_line(sys.argv)
  File ""/home/taiga/.virtualenvs/taiga/lib/python3.4/site-packages/django/core/management/__init__.py"", line 351, in execute_from_command_line
    utility.execute()
  File ""/home/taiga/.virtualenvs/taiga/lib/python3.4/site-packages/django/core/management/__init__.py"", line 343, in execute
    self.fetch_command(subcommand).run_from_argv(self.argv)
  File ""/home/taiga/.virtualenvs/taiga/lib/python3.4/site-packages/django/core/management/base.py"", line 394, in run_from_argv
    self.execute(*args, **cmd_options)
  File ""/home/taiga/.virtualenvs/taiga/lib/python3.4/site-packages/raven/contrib/django/management/__init__.py"", line 41, in new_execute
    return original_func(self, *args, **kwargs)
  File ""/home/taiga/.virtualenvs/taiga/lib/python3.4/site-packages/django/core/management/base.py"", line 445, in execute
    output = self.handle(*args, **options)
  File ""/home/taiga/.virtualenvs/taiga/lib/python3.4/site-packages/django/core/management/commands/migrate.py"", line 222, in handle
    executor.migrate(targets, plan, fake=fake, fake_initial=fake_initial)
  File ""/home/taiga/.virtualenvs/taiga/lib/python3.4/site-packages/django/db/migrations/executor.py"", line 110, in migrate
    self.apply_migration(states[migration], migration, fake=fake, fake_initial=fake_initial)
  File ""/home/taiga/.virtualenvs/taiga/lib/python3.4/site-packages/django/db/migrations/executor.py"", line 148, in apply_migration
    state = migration.apply(state, schema_editor)
  File ""/home/taiga/.virtualenvs/taiga/lib/python3.4/site-packages/django/db/migrations/migration.py"", line 115, in apply
    operation.database_forwards(self.app_label, schema_editor, old_state, project_state)
  File ""/home/taiga/.virtualenvs/taiga/lib/python3.4/site-packages/django/db/migrations/operations/models.py"", line 59, in database_forwards
    schema_editor.create_model(model)
  File ""/home/taiga/.virtualenvs/taiga/lib/python3.4/site-packages/django/db/backends/base/schema.py"", line 286, in create_model
    self.execute(sql, params or None)
  File ""/home/taiga/.virtualenvs/taiga/lib/python3.4/site-packages/django/db/backends/base/schema.py"", line 111, in execute
    cursor.execute(sql, params)
  File ""/home/taiga/.virtualenvs/taiga/lib/python3.4/site-packages/django/db/backends/utils.py"", line 79, in execute
    return super(CursorDebugWrapper, self).execute(sql, params)
  File ""/home/taiga/.virtualenvs/taiga/lib/python3.4/site-packages/django/db/backends/utils.py"", line 64, in execute
    return self.cursor.execute(sql, params)
  File ""/home/taiga/.virtualenvs/taiga/lib/python3.4/site-packages/django/db/utils.py"", line 97, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File ""/home/taiga/.virtualenvs/taiga/lib/python3.4/site-packages/django/utils/six.py"", line 658, in reraise
    raise value.with_traceback(tb)
  File ""/home/taiga/.virtualenvs/taiga/lib/python3.4/site-packages/django/db/backends/utils.py"", line 62, in execute
    return self.cursor.execute(sql)
django.db.utils.ProgrammingError: relation ""djmail_message"" already exists
```
"
1133,taigaio,taiga-back,9,closed,403,7,https://api.github.com/repos/taigaio/taiga-back/issues/403/comments,https://github.com/taigaio/taiga-back/issues/403,[],"relation ""projects_userstorycustomattribute"" does not exist","```
-> Generate sample data
Trying import local.py settings...
Traceback (most recent call last):
  File ""/usr/local/lib/python3.4/site-packages/django/db/backends/utils.py"", line 65, in execute
    return self.cursor.execute(sql, params)
psycopg2.ProgrammingError: relation ""projects_userstorycustomattribute"" does not exist
LINE 1: INSERT INTO ""projects_userstorycustomattribute"" (""name"", ""de...
                    ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File ""manage.py"", line 10, in <module>
    execute_from_command_line(sys.argv)
  File ""/usr/local/lib/python3.4/site-packages/django/core/management/__init__.py"", line 385, in execute_from_command_line
    utility.execute()
  File ""/usr/local/lib/python3.4/site-packages/django/core/management/__init__.py"", line 377, in execute
    self.fetch_command(subcommand).run_from_argv(self.argv)
  File ""/usr/local/lib/python3.4/site-packages/django/core/management/base.py"", line 288, in run_from_argv
    self.execute(*args, **options.__dict__)
  File ""/usr/local/lib/python3.4/site-packages/django/core/management/base.py"", line 338, in execute
    output = self.handle(*args, **options)
  File ""/usr/local/lib/python3.4/site-packages/django/db/transaction.py"", line 394, in inner
    return func(*args, **kwargs)
  File ""/taiga/taiga/projects/management/commands/sample_data.py"", line 160, in handle
    order=i)
  File ""/usr/local/lib/python3.4/site-packages/django/db/models/manager.py"", line 92, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File ""/usr/local/lib/python3.4/site-packages/django/db/models/query.py"", line 372, in create
    obj.save(force_insert=True, using=self.db)
  File ""/taiga/taiga/projects/custom_attributes/models.py"", line 61, in save
    return super().save(*args, **kwargs)
  File ""/usr/local/lib/python3.4/site-packages/django/db/models/base.py"", line 589, in save
    force_update=force_update, update_fields=update_fields)
  File ""/usr/local/lib/python3.4/site-packages/django/db/models/base.py"", line 617, in save_base
    updated = self._save_table(raw, cls, force_insert, force_update, using, update_fields)
  File ""/usr/local/lib/python3.4/site-packages/django/db/models/base.py"", line 698, in _save_table
    result = self._do_insert(cls._base_manager, using, fields, update_pk, raw)
  File ""/usr/local/lib/python3.4/site-packages/django/db/models/base.py"", line 731, in _do_insert
    using=using, raw=raw)
  File ""/usr/local/lib/python3.4/site-packages/django/db/models/manager.py"", line 92, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File ""/usr/local/lib/python3.4/site-packages/django/db/models/query.py"", line 921, in _insert
    return query.get_compiler(using=using).execute_sql(return_id)
  File ""/usr/local/lib/python3.4/site-packages/django/db/models/sql/compiler.py"", line 921, in execute_sql
    cursor.execute(sql, params)
  File ""/usr/local/lib/python3.4/site-packages/django/db/backends/utils.py"", line 65, in execute
    return self.cursor.execute(sql, params)
  File ""/usr/local/lib/python3.4/site-packages/django/db/utils.py"", line 94, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File ""/usr/local/lib/python3.4/site-packages/django/utils/six.py"", line 658, in reraise
    raise value.with_traceback(tb)
  File ""/usr/local/lib/python3.4/site-packages/django/db/backends/utils.py"", line 65, in execute
    return self.cursor.execute(sql, params)
django.db.utils.ProgrammingError: relation ""projects_userstorycustomattribute"" does not exist
LINE 1: INSERT INTO ""projects_userstorycustomattribute"" (""name"", ""de...
                    ^

-> Rebuilding timeline
Trying import local.py settings...

```
"
2498,nitely,Spirit,2,closed,225,2,https://api.github.com/repos/nitely/Spirit/issues/225/comments,https://github.com/nitely/Spirit/issues/225,[],"relation ""djconfig_config"" does not exist","ProgrammingError at /
relation ""djconfig_config"" does not exist
LINE 1: ...fig_config"".""key"", ""djconfig_config"".""value"" FROM ""djconfig_...
                                                             ^
Request Method:	GET
Request URL:	http://xxxx.io/
Django Version:	1.11.8
Exception Type:	ProgrammingError
Exception Value:	
relation ""djconfig_config"" does not exist
LINE 1: ...fig_config"".""key"", ""djconfig_config"".""value"" FROM ""djconfig_...
                                                             ^
Exception Location:	/home/particle/www/myenv/lib/python3.5/site-packages/django/db/backends/utils.py in execute, line 64
Python Executable:	/home/particle/www/myenv/bin/python3
Python Version:	3.5.2
Python Path:	
['/home/particle/jblog',
 '/home/particle/www/myenv/bin',
 '/home/particle/www/myenv/lib/python35.zip',
 '/home/particle/www/myenv/lib/python3.5',
 '/home/particle/www/myenv/lib/python3.5/plat-x86_64-linux-gnu',
 '/home/particle/www/myenv/lib/python3.5/lib-dynload',
 '/usr/lib/python3.5',
 '/usr/lib/python3.5/plat-x86_64-linux-gnu',
 '/home/particle/www/myenv/lib/python3.5/site-packages']
Server time:	Sat, 23 Dec 2017 11:15:02 +0000

I've tried setup different databases. But the problem remains. How can I fix it? Thank you."
3235,mirumee,saleor,7,closed,3586,2,https://api.github.com/repos/mirumee/saleor/issues/3586/comments,https://github.com/mirumee/saleor/issues/3586,[],Error on initial migrate on account models,"### What I'm trying to achieve
…
I want to start saleor locally, I followed the linux saleor setup guide
### Steps to reproduce the problem
1. I followed every setup step, as of Jan 11 2018
2. On stage 7, when it says ""python manage.py migrate"" I get the following error:
Running migrations:
  Applying contenttypes.0001_initial... OK
  Applying contenttypes.0002_remove_content_type_name... OK
  Applying auth.0001_initial... OK
  Applying auth.0002_alter_permission_name_max_length... OK
  Applying auth.0003_alter_user_email_max_length... OK
  Applying auth.0004_alter_user_username_opts... OK
  Applying auth.0005_alter_user_last_login_null... OK
  Applying auth.0006_require_contenttypes_0002... OK
  Applying account.0001_initial... OK
  Applying account.0002_auto_20150907_0602...Traceback (most recent call last):
  File ""/home/stephen/Code/Work/saleor/saleor-venv/lib/python3.6/site-packages/django/db/backends/utils.py"", line 85, in _execute
    return self.cursor.execute(sql, params)
psycopg2.ProgrammingError: syntax error at or near ""WITH ORDINALITY""
LINE 6:                     FROM unnest(c.conkey) WITH ORDINALITY co...


### What I expected to happen
…
I expected saleor initial migrations to run without any sort of trouble


### What I tried

I re-created databases from scratch, tried to set it up to the default values(saleo:saleor@saleor), still drops the same mistake. 

**System information**
Ubuntu 18.04 LTS
My settings.py database sections looks like this:

DATABASES = {
    'default': {
        'ENGINE': 'django.db.backends.postgresql_psycopg2',
        'NAME': 'saleor',
        'USER': 'saleor',
        'PASSWORD': 'saleor',
        'HOST': ""127.0.0.1"",
        'PORT': '5432',
    },

}

With default 

DATABASES = {
    'default': dj_database_url.config(
        default='postgres://saleor:saleor@localhost:5432/saleor',
        conn_max_age=600)}

it gives the same result.

### Full traceback:

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File ""manage.py"", line 10, in <module>
    execute_from_command_line(sys.argv)
  File ""/home/stephen/Code/Work/saleor/saleor-venv/lib/python3.6/site-packages/django/core/management/__init__.py"", line 381, in execute_from_command_line
    utility.execute()
  File ""/home/stephen/Code/Work/saleor/saleor-venv/lib/python3.6/site-packages/django/core/management/__init__.py"", line 375, in execute
    self.fetch_command(subcommand).run_from_argv(self.argv)
  File ""/home/stephen/Code/Work/saleor/saleor-venv/lib/python3.6/site-packages/django/core/management/base.py"", line 316, in run_from_argv
    self.execute(*args, **cmd_options)
  File ""/home/stephen/Code/Work/saleor/saleor-venv/lib/python3.6/site-packages/django/core/management/base.py"", line 353, in execute
    output = self.handle(*args, **options)
  File ""/home/stephen/Code/Work/saleor/saleor-venv/lib/python3.6/site-packages/django/core/management/base.py"", line 83, in wrapped
    res = handle_func(*args, **kwargs)
  File ""/home/stephen/Code/Work/saleor/saleor-venv/lib/python3.6/site-packages/django/core/management/commands/migrate.py"", line 203, in handle
    fake_initial=fake_initial,
  File ""/home/stephen/Code/Work/saleor/saleor-venv/lib/python3.6/site-packages/django/db/migrations/executor.py"", line 117, in migrate
    state = self._migrate_all_forwards(state, plan, full_plan, fake=fake, fake_initial=fake_initial)
  File ""/home/stephen/Code/Work/saleor/saleor-venv/lib/python3.6/site-packages/django/db/migrations/executor.py"", line 147, in _migrate_all_forwards
    state = self.apply_migration(state, migration, fake=fake, fake_initial=fake_initial)
  File ""/home/stephen/Code/Work/saleor/saleor-venv/lib/python3.6/site-packages/django/db/migrations/executor.py"", line 244, in apply_migration
    state = migration.apply(state, schema_editor)
  File ""/home/stephen/Code/Work/saleor/saleor-venv/lib/python3.6/site-packages/django/db/migrations/migration.py"", line 124, in apply
    operation.database_forwards(self.app_label, schema_editor, old_state, project_state)
  File ""/home/stephen/Code/Work/saleor/saleor-venv/lib/python3.6/site-packages/django/db/migrations/operations/fields.py"", line 216, in database_forwards
    schema_editor.alter_field(from_model, from_field, to_field)
  File ""/home/stephen/Code/Work/saleor/saleor-venv/lib/python3.6/site-packages/django/db/backends/base/schema.py"", line 508, in alter_field
    return self._alter_many_to_many(model, old_field, new_field, strict)
  File ""/home/stephen/Code/Work/saleor/saleor-venv/lib/python3.6/site-packages/django/db/backends/base/schema.py"", line 861, in _alter_many_to_many
    new_field.remote_field.through._meta.get_field(new_field.m2m_reverse_field_name()),
  File ""/home/stephen/Code/Work/saleor/saleor-venv/lib/python3.6/site-packages/django/db/backends/base/schema.py"", line 523, in alter_field
    old_db_params, new_db_params, strict)
  File ""/home/stephen/Code/Work/saleor/saleor-venv/lib/python3.6/site-packages/django/db/backends/postgresql/schema.py"", line 122, in _alter_field
    new_db_params, strict,
  File ""/home/stephen/Code/Work/saleor/saleor-venv/lib/python3.6/site-packages/django/db/backends/base/schema.py"", line 531, in _alter_field
    fk_names = self._constraint_names(model, [old_field.column], foreign_key=True)
  File ""/home/stephen/Code/Work/saleor/saleor-venv/lib/python3.6/site-packages/django/db/backends/base/schema.py"", line 1029, in _constraint_names
    constraints = self.connection.introspection.get_constraints(cursor, model._meta.db_table)
  File ""/home/stephen/Code/Work/saleor/saleor-venv/lib/python3.6/site-packages/django/db/backends/postgresql/introspection.py"", line 158, in get_constraints
    """""", [""public"", table_name])
  File ""/home/stephen/Code/Work/saleor/saleor-venv/lib/python3.6/site-packages/django/db/backends/utils.py"", line 100, in execute
    return super().execute(sql, params)
  File ""/home/stephen/Code/Work/saleor/saleor-venv/lib/python3.6/site-packages/django/db/backends/utils.py"", line 68, in execute
    return self._execute_with_wrappers(sql, params, many=False, executor=self._execute)
  File ""/home/stephen/Code/Work/saleor/saleor-venv/lib/python3.6/site-packages/django/db/backends/utils.py"", line 77, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File ""/home/stephen/Code/Work/saleor/saleor-venv/lib/python3.6/site-packages/django/db/backends/utils.py"", line 85, in _execute
    return self.cursor.execute(sql, params)
  File ""/home/stephen/Code/Work/saleor/saleor-venv/lib/python3.6/site-packages/django/db/utils.py"", line 89, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File ""/home/stephen/Code/Work/saleor/saleor-venv/lib/python3.6/site-packages/django/db/backends/utils.py"", line 85, in _execute
    return self.cursor.execute(sql, params)
django.db.utils.ProgrammingError: syntax error at or near ""WITH ORDINALITY""
LINE 6:                     FROM unnest(c.conkey) WITH ORDINALITY co...
"
3297,mirumee,saleor,8,closed,3516,2,https://api.github.com/repos/mirumee/saleor/issues/3516/comments,https://github.com/mirumee/saleor/issues/3516,[],Issue Preparing Database,"I am trying to setup Saleor on my machine. I have created a psql user with superuser status, a psql database and I am now trying to prepare the database using the `python manage.py migrate` command (step 7 of installation). 

Here is the error I get when running the command. 
```
django.db.utils.ProgrammingError: permission denied to create extension ""hstore""
HINT:  Must be superuser to create this extension.

```
Any insights re: how to fix this problem are greatly appreciated.


**System information**
Operating system: Mac OSX 10.12.6
"
3871,mirumee,saleor,13,closed,2875,4,https://api.github.com/repos/mirumee/saleor/issues/2875/comments,https://github.com/mirumee/saleor/issues/2875,[],Cant install a fresh copy of saleor if I remove the migrations,"### What I'm trying to achieve
I'm trying to install a fresh and independent copy of saleor. I removed all the files in the /migrations/ folders and tried to install 

I get the following error which is very weird, does it mean that you are tweaking the migration files in away that now your code is really dependent on them?


(venv) webdev@ip-172-31-38-116:/www/saleor$ python manage.py migrate
Operations to perform:
  Apply all migrations: auth, contenttypes, django_celery_results, django_prices_openexchangerates, django_prices_vatlayer, impersonate, sessions, sites, social_django
Running migrations:
  Applying contenttypes.0001_initial... OK
  Applying contenttypes.0002_remove_content_type_name... OK
  Applying auth.0001_initial... OK
  Applying auth.0002_alter_permission_name_max_length... OK
  Applying auth.0003_alter_user_email_max_length... OK
  Applying auth.0004_alter_user_username_opts... OK
  Applying auth.0005_alter_user_last_login_null... OK
  Applying auth.0006_require_contenttypes_0002... OK
  Applying auth.0007_alter_validators_add_error_messages... OK
  Applying auth.0008_alter_user_username_max_length... OK
  Applying auth.0009_alter_user_last_name_max_length... OK
  Applying django_celery_results.0001_initial... OK
  Applying django_prices_openexchangerates.0001_initial... OK
  Applying django_prices_openexchangerates.0002_auto_20160329_0702... OK
  Applying django_prices_openexchangerates.0003_auto_20161018_0707... OK
  Applying django_prices_openexchangerates.0004_auto_20170316_0944... OK
  Applying django_prices_vatlayer.0001_initial... OK
  Applying django_prices_vatlayer.0002_ratetypes... OK
  Applying django_prices_vatlayer.0003_auto_20180316_1053... OK
  Applying impersonate.0001_initial...Traceback (most recent call last):
  File ""/www/rbook.com/venv/lib/python3.5/site-packages/django/db/backends/utils.py"", line 85, in _execute
    return self.cursor.execute(sql, params)
psycopg2.ProgrammingError: relation ""account_user"" does not exist


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File ""manage.py"", line 10, in <module>
    execute_from_command_line(sys.argv)
  File ""/www/rbook.com/venv/lib/python3.5/site-packages/django/core/management/__init__.py"", line 371, in execute_from_command_line
    utility.execute()
  File ""/www/rbook.com/venv/lib/python3.5/site-packages/django/core/management/__init__.py"", line 365, in execute
    self.fetch_command(subcommand).run_from_argv(self.argv)
  File ""/www/rbook.com/venv/lib/python3.5/site-packages/django/core/management/base.py"", line 288, in run_from_argv
    self.execute(*args, **cmd_options)
  File ""/www/rbook.com/venv/lib/python3.5/site-packages/django/core/management/base.py"", line 335, in execute
    output = self.handle(*args, **options)
  File ""/www/rbook.com/venv/lib/python3.5/site-packages/django/core/management/commands/migrate.py"", line 200, in handle
    fake_initial=fake_initial,
  File ""/www/rbook.com/venv/lib/python3.5/site-packages/django/db/migrations/executor.py"", line 117, in migrate
    state = self._migrate_all_forwards(state, plan, full_plan, fake=fake, fake_initial=fake_initial)
  File ""/www/rbook.com/venv/lib/python3.5/site-packages/django/db/migrations/executor.py"", line 147, in _migrate_all_forwards
    state = self.apply_migration(state, migration, fake=fake, fake_initial=fake_initial)
  File ""/www/rbook.com/venv/lib/python3.5/site-packages/django/db/migrations/executor.py"", line 244, in apply_migration
    state = migration.apply(state, schema_editor)
  File ""/www/rbook.com/venv/lib/python3.5/site-packages/django/db/backends/base/schema.py"", line 106, in __exit__
    self.execute(sql)
  File ""/www/rbook.com/venv/lib/python3.5/site-packages/django/db/backends/base/schema.py"", line 133, in execute
    cursor.execute(sql, params)
  File ""/www/rbook.com/venv/lib/python3.5/site-packages/django/db/backends/utils.py"", line 100, in execute
    return super().execute(sql, params)
  File ""/www/rbook.com/venv/lib/python3.5/site-packages/django/db/backends/utils.py"", line 68, in execute
    return self._execute_with_wrappers(sql, params, many=False, executor=self._execute)
  File ""/www/rbook.com/venv/lib/python3.5/site-packages/django/db/backends/utils.py"", line 77, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File ""/www/rbook.com/venv/lib/python3.5/site-packages/django/db/backends/utils.py"", line 85, in _execute
    return self.cursor.execute(sql, params)
  File ""/www/rbook.com/venv/lib/python3.5/site-packages/django/db/utils.py"", line 89, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File ""/www/rbook.com/venv/lib/python3.5/site-packages/django/db/backends/utils.py"", line 85, in _execute
    return self.cursor.execute(sql, params)
django.db.utils.ProgrammingError: relation ""account_user"" does not exist
"
4246,mirumee,saleor,17,closed,2459,3,https://api.github.com/repos/mirumee/saleor/issues/2459/comments,https://github.com/mirumee/saleor/issues/2459,[],Installation on Ubuntu 17.10 Failed at the saleor@0.0.0 build-assets script 'webpack -p --progress'.,"### What I'm trying to achieve
I am following the [getting started guide](https://saleor.readthedocs.io/en/latest/gettingstarted/installation-linux.html) using npm@3.5.2 and node@6.11.4. 

### Steps to reproduce the problem
1. On step 7: **python manage.py migrate** I get the exception: psycopg2.ProgrammingError: permission denied to create extension ""hstore"" HINT:  Must be superuser to create this extension.

I continued on from this step as the database tables were setup.

2. When I reach step 9: Prepare front-end assets and I run **npm run build-assets** I get the following npm debug log:

0 info it worked if it ends with ok
1 verbose cli [ '/usr/bin/node', '/usr/bin/npm', 'run', 'build-assets' ]
2 info using npm@3.5.2
3 info using node@v6.11.4
4 verbose run-script [ 'prebuild-assets', 'build-assets', 'postbuild-assets' ]
5 info lifecycle saleor@0.0.0~prebuild-assets: saleor@0.0.0
6 silly lifecycle saleor@0.0.0~prebuild-assets: no script for prebuild-assets, continuing
7 info lifecycle saleor@0.0.0~build-assets: saleor@0.0.0
8 verbose lifecycle saleor@0.0.0~build-assets: unsafe-perm in lifecycle true
9 verbose lifecycle saleor@0.0.0~build-assets: PATH: /usr/share/npm/bin/node-gyp-bin:/home/aorona/workspace/web/garagerot/node_modules/.bin:/home/aorona/.local/share/virtualenvs/garagerot-rwFoTlUE/bin:/home/aorona/workspace/qPy/anaconda3/bin:/home/aorona/workspace/qPy/anaconda3/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin
10 verbose lifecycle saleor@0.0.0~build-assets: CWD: /home/aorona/workspace/web/garagerot
11 silly lifecycle saleor@0.0.0~build-assets: Args: [ '-c', 'webpack -p --progress' ]
12 silly lifecycle saleor@0.0.0~build-assets: Returned: code: 2  signal: null
13 info lifecycle saleor@0.0.0~build-assets: Failed to exec build-assets script
14 verbose stack Error: saleor@0.0.0 build-assets: `webpack -p --progress`
14 verbose stack Exit status 2
14 verbose stack     at EventEmitter.<anonymous> (/usr/share/npm/lib/utils/lifecycle.js:232:16)
14 verbose stack     at emitTwo (events.js:106:13)
14 verbose stack     at EventEmitter.emit (events.js:191:7)
14 verbose stack     at ChildProcess.<anonymous> (/usr/share/npm/lib/utils/spawn.js:24:14)
14 verbose stack     at emitTwo (events.js:106:13)
14 verbose stack     at ChildProcess.emit (events.js:191:7)
14 verbose stack     at maybeClose (internal/child_process.js:920:16)
14 verbose stack     at Process.ChildProcess._handle.onexit (internal/child_process.js:230:5)
15 verbose pkgid saleor@0.0.0
16 verbose cwd /home/aorona/workspace/web/garagerot
17 error Linux 4.13.0-46-generic
18 error argv ""/usr/bin/node"" ""/usr/bin/npm"" ""run"" ""build-assets""
19 error node v6.11.4
20 error npm  v3.5.2
21 error code ELIFECYCLE
22 error saleor@0.0.0 build-assets: `webpack -p --progress`
22 error Exit status 2
23 error Failed at the saleor@0.0.0 build-assets script 'webpack -p --progress'.
23 error Make sure you have the latest version of node.js and npm installed.
23 error If you do, this is most likely a problem with the saleor package,
23 error not with npm itself.
23 error Tell the author that this fails on your system:
23 error     webpack -p --progress
23 error You can get information on how to open an issue for this project with:
23 error     npm bugs saleor
23 error Or if that isn't available, you can get their info via:
23 error     npm owner ls saleor
23 error There is likely additional logging output above.
24 verbose exit [ 1, true ]


Operating system:  Ubuntu 17.10
Python Version: Python 3.6.3 |Anaconda, Inc. using pipenv virtual environment
Browser: Chrome Version 67.0.3396.99
npm - @3.5.2
node - @6.11.4
"
4790,mirumee,saleor,23,closed,1859,34,https://api.github.com/repos/mirumee/saleor/issues/1859/comments,https://github.com/mirumee/saleor/issues/1859,[],"relation ""account_user"" does not exist","I'm not sure why this error is thrown. I can't find any account_user relation.

### What I'm trying to achieve
To install the master branch
...

### Steps to reproduce the problem
as provided by the documentation


(Please include a stack trace if this problem results in a crash.)
ubuntu@ip-172-31-17-237:~/saleor$ python3 manage.py migrate
/usr/local/lib/python3.4/dist-packages/psycopg2/__init__.py:144: UserWarning: The psycopg2 wheel package will be renamed from release
2.8; in order to keep installing from binary please use ""pip install psycopg2-binary"" instead. For details see: <http://initd.org/psyc
opg/docs/install.html#binary-install-from-pypi>.
  """""")
System check identified some issues:

WARNINGS:
saleor.W001: Session caching cannot work with locmem backend
        HINT: User sessions need to be globally shared, use a cache server like Redis.
Operations to perform:
  Apply all migrations: auth, contenttypes, django_celery_results, django_prices_openexchangerates, impersonate, sessions, sites, soci
al_django
Running migrations:
  Applying impersonate.0001_initial...Traceback (most recent call last):
  File ""/usr/local/lib/python3.4/dist-packages/django/db/backends/utils.py"", line 85, in _execute
    return self.cursor.execute(sql, params)
psycopg2.ProgrammingError: relation ""account_user"" does not exist


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File ""manage.py"", line 10, in <module>
    execute_from_command_line(sys.argv)
  File ""/usr/local/lib/python3.4/dist-packages/django/core/management/__init__.py"", line 371, in execute_from_command_line
    utility.execute()
  File ""/usr/local/lib/python3.4/dist-packages/django/core/management/__init__.py"", line 365, in execute
    self.fetch_command(subcommand).run_from_argv(self.argv)
  File ""/usr/local/lib/python3.4/dist-packages/django/core/management/base.py"", line 288, in run_from_argv
    self.execute(*args, **cmd_options)
  File ""/usr/local/lib/python3.4/dist-packages/django/core/management/base.py"", line 335, in execute
    output = self.handle(*args, **options)
  File ""/usr/local/lib/python3.4/dist-packages/django/core/management/commands/migrate.py"", line 200, in handle
    fake_initial=fake_initial,
  File ""/usr/local/lib/python3.4/dist-packages/django/db/migrations/executor.py"", line 117, in migrate
    state = self._migrate_all_forwards(state, plan, full_plan, fake=fake, fake_initial=fake_initial)
  File ""/usr/local/lib/python3.4/dist-packages/django/db/migrations/executor.py"", line 147, in _migrate_all_forwards
    state = self.apply_migration(state, migration, fake=fake, fake_initial=fake_initial)
  File ""/usr/local/lib/python3.4/dist-packages/django/db/migrations/executor.py"", line 244, in apply_migration
    state = migration.apply(state, schema_editor)
  File ""/usr/local/lib/python3.4/dist-packages/django/db/backends/base/schema.py"", line 90, in __exit__
    self.execute(sql)
  File ""/usr/local/lib/python3.4/dist-packages/django/db/backends/base/schema.py"", line 117, in execute
 File ""/usr/local/lib/python3.4/dist-packages/django/db/backends/base/schema.py"", line 117, in execute
    cursor.execute(sql, params)
  File ""/usr/local/lib/python3.4/dist-packages/django/db/backends/utils.py"", line 100, in execute
    return super().execute(sql, params)
  File ""/usr/local/lib/python3.4/dist-packages/django/db/backends/utils.py"", line 68, in execute
    return self._execute_with_wrappers(sql, params, many=False, executor=self._execute)
  File ""/usr/local/lib/python3.4/dist-packages/django/db/backends/utils.py"", line 77, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File ""/usr/local/lib/python3.4/dist-packages/django/db/backends/utils.py"", line 85, in _execute
    return self.cursor.execute(sql, params)
  File ""/usr/local/lib/python3.4/dist-packages/django/db/utils.py"", line 89, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File ""/usr/local/lib/python3.4/dist-packages/django/db/backends/utils.py"", line 85, in _execute
    return self.cursor.execute(sql, params)
django.db.utils.ProgrammingError: relation ""account_user"" does not exist
"
5429,mirumee,saleor,29,closed,1185,3,https://api.github.com/repos/mirumee/saleor/issues/1185/comments,https://github.com/mirumee/saleor/issues/1185,[],"ProgrammingError at / - relation ""cart_cart"" does not exist","Hi folks,
I just started today with checking out this amazing project! I hope my question/problem is a legit one ...
I have cloned the repository. I changed the Dockerfile to include a line: `ENV ALLOWED_HOSTS 192.168.33.5` to be able to access the page using the host's internal IP. Then I started the containers with `docker-compose up -d`. All containers seem to run as intended.

Anyways, when I try to connect hat [http://192.168.33.5:8000](url), I get this error: 

> ProgrammingError at / - relation ""cart_cart"" does not exist
(full error message in pdf below)
[ProgrammingError at _.pdf](https://github.com/mirumee/saleor/files/1382239/ProgrammingError.at._.pdf)

Am I missing something?"
6020,mirumee,saleor,35,closed,569,3,https://api.github.com/repos/mirumee/saleor/issues/569/comments,https://github.com/mirumee/saleor/issues/569,[],Master branch broken with commit ae23560e199151caa996d1235609741cf5786d73,"I'm attaching the script I'm using with a fresh FreeBSD 10.3 VBox (tweak for Linux).

if you comment out the git checkout 971e6aa680504ac0b5062add393dd16cd06659d4 line or set it to a later commit, you always get:

ProgrammingError at /
relation ""cart_cart"" does not exist
LINE 1: ... ""cart_cart"".""total"", ""cart_cart"".""quantity"" FROM ""cart_cart...

when visiting localhost:8000
[build-script.txt](https://github.com/mirumee/saleor/files/520033/build-script.txt)
"
6309,mirumee,saleor,38,closed,271,0,https://api.github.com/repos/mirumee/saleor/issues/271/comments,https://github.com/mirumee/saleor/issues/271,"[{""default"": true, ""name"": ""bug"", ""url"": ""https://api.github.com/repos/mirumee/saleor/labels/bug"", ""color"": ""fc2929"", ""node_id"": ""MDU6TGFiZWwyODE5MjMzMQ=="", ""id"": 28192331}]",Migrate issue on Postgresql,"`python manage.py migrate` fails on Postgresql:

```
Operations to perform:
  Synchronize unmigrated apps: core, product, mptt, django_prices, staticfiles, messages, cart, offsite_storage, sitemaps, webdesign, emailit, dashboard, registration, versatileimagefield, selectable, payments, checkout, order, babeldjango, userprofile
  Apply all migrations: admin, contenttypes, sites, auth, sessions
Synchronizing apps without migrations:
  Creating tables...
    Creating table product_category
    Creating table product_product
    Creating table product_fixedproductdiscount
    Creating table product_color
    Creating table product_bag
    Creating table product_shirt
    Creating table product_bagvariant
    Creating table product_shirtvariant
    Creating table product_productimage
    Creating table order_order
    Creating table order_deliverygroup
    Creating table order_ordereditem
    Creating table order_payment
    Creating table order_orderhistoryentry
    Creating table order_ordernote
    Creating table registration_externaluserdata
    Creating table registration_emailconfirmationrequest
    Creating table registration_emailchangerequest
    Creating table userprofile_address
    Creating table userprofile_user
    Running deferred SQL...
Traceback (most recent call last):
  File ""manage.py"", line 10, in <module>
    execute_from_command_line(sys.argv)
  File ""/home/adam/.virtualenvs/saleor-dj18/local/lib/python2.7/site-packages/Django-1.8-py2.7.egg/django/core/management/__init__.py"", line 338, in execute_from_command_line
    utility.execute()
  File ""/home/adam/.virtualenvs/saleor-dj18/local/lib/python2.7/site-packages/Django-1.8-py2.7.egg/django/core/management/__init__.py"", line 330, in execute
    self.fetch_command(subcommand).run_from_argv(self.argv)
  File ""/home/adam/.virtualenvs/saleor-dj18/local/lib/python2.7/site-packages/Django-1.8-py2.7.egg/django/core/management/base.py"", line 390, in run_from_argv
    self.execute(*args, **cmd_options)
  File ""/home/adam/.virtualenvs/saleor-dj18/local/lib/python2.7/site-packages/Django-1.8-py2.7.egg/django/core/management/base.py"", line 441, in execute
    output = self.handle(*args, **options)
  File ""/home/adam/.virtualenvs/saleor-dj18/local/lib/python2.7/site-packages/Django-1.8-py2.7.egg/django/core/management/commands/syncdb.py"", line 25, in handle
    call_command(""migrate"", **options)
  File ""/home/adam/.virtualenvs/saleor-dj18/local/lib/python2.7/site-packages/Django-1.8-py2.7.egg/django/core/management/__init__.py"", line 120, in call_command
    return command.execute(*args, **defaults)
  File ""/home/adam/.virtualenvs/saleor-dj18/local/lib/python2.7/site-packages/Django-1.8-py2.7.egg/django/core/management/base.py"", line 441, in execute
    output = self.handle(*args, **options)
  File ""/home/adam/.virtualenvs/saleor-dj18/local/lib/python2.7/site-packages/Django-1.8-py2.7.egg/django/core/management/commands/migrate.py"", line 179, in handle
    created_models = self.sync_apps(connection, executor.loader.unmigrated_apps)
  File ""/home/adam/.virtualenvs/saleor-dj18/local/lib/python2.7/site-packages/Django-1.8-py2.7.egg/django/core/management/commands/migrate.py"", line 317, in sync_apps
    cursor.execute(statement)
  File ""/home/adam/.virtualenvs/saleor-dj18/local/lib/python2.7/site-packages/Django-1.8-py2.7.egg/django/db/backends/utils.py"", line 79, in execute
    return super(CursorDebugWrapper, self).execute(sql, params)
  File ""/home/adam/.virtualenvs/saleor-dj18/local/lib/python2.7/site-packages/Django-1.8-py2.7.egg/django/db/backends/utils.py"", line 64, in execute
    return self.cursor.execute(sql, params)
  File ""/home/adam/.virtualenvs/saleor-dj18/local/lib/python2.7/site-packages/Django-1.8-py2.7.egg/django/db/utils.py"", line 97, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File ""/home/adam/.virtualenvs/saleor-dj18/local/lib/python2.7/site-packages/Django-1.8-py2.7.egg/django/db/backends/utils.py"", line 62, in execute
    return self.cursor.execute(sql)
django.db.utils.ProgrammingError: relation ""auth_group"" does not exist
```
"
7984,ansible,awx,16,closed,2345,1,https://api.github.com/repos/ansible/awx/issues/2345/comments,https://github.com/ansible/awx/issues/2345,"[{""default"": false, ""name"": ""component:installer"", ""url"": ""https://api.github.com/repos/ansible/awx/labels/component:installer"", ""color"": ""d4c5f9"", ""node_id"": ""MDU6TGFiZWw2ODc5Nzk5NjQ="", ""id"": 687979964}, {""default"": false, ""name"": ""state:needs_triage"", ""url"": ""https://api.github.com/repos/ansible/awx/labels/state:needs_triage"", ""color"": ""A0522D"", ""node_id"": ""MDU6TGFiZWw2ODcxNzI4NTg="", ""id"": 687172858}, {""default"": false, ""name"": ""type:bug"", ""url"": ""https://api.github.com/repos/ansible/awx/labels/type:bug"", ""color"": ""F79F81"", ""node_id"": ""MDU6TGFiZWw2MDcyODM3NDg="", ""id"": 607283748}]",Openshift Installation SCM pull failing,"##### ISSUE TYPE
 - Bug Report

##### COMPONENT NAME
- Installer

##### SUMMARY
Running an Openshift installation results in errors with AWX_Web and AWX_Celery containers. Installation succeeds however errors occur when trying to submit jobs or create projects that talk to SCM. The SCM pull never runs.

##### ENVIRONMENT
* AWX version: 1.0.8
* AWX install method: openshift
* Ansible version:  2.6.4
* Operating System: RHEL 7.4
* Web Browser: Chrome
* Openshift version: OCP 3.7 & 3.9

##### STEPS TO REPRODUCE

ansible-playbook -i inventory install.yml -e openshift_password=<password>

##### EXPECTED RESULTS

AWX running with a single pod (4 containers) and postgresql running in another pod.

##### ACTUAL RESULTS

Installation runs however the AWX Web and AWX celery containers have many python errors resulting in issues with SCM pulls, job submissions and subsequent tasks.

##### ADDITIONAL INFORMATION

Errors from the AWX_Web logs

*** uWSGI is running in multiple interpreter mode ***
spawned uWSGI master process (pid: 137)
spawned uWSGI worker 1 (pid: 139, cores: 1)
spawned uWSGI worker 2 (pid: 140, cores: 1)
spawned uWSGI worker 3 (pid: 141, cores: 1)
spawned uWSGI worker 4 (pid: 142, cores: 1)
spawned uWSGI worker 5 (pid: 143, cores: 1)
READY
2018-09-20 18:20:03,007 INFO success: awx-config-watcher entered RUNNING state, process has stayed up for > than 1 seconds (startsecs)
2018-09-20 18:20:03,007 INFO success: daphne entered RUNNING state, process has stayed up for > than 1 seconds (startsecs)
2018-09-20 18:20:03,007 INFO success: nginx entered RUNNING state, process has stayed up for > than 1 seconds (startsecs)
2018-09-20 18:20:03,007 INFO success: uwsgi entered RUNNING state, process has stayed up for > than 1 seconds (startsecs)
2018-09-20 18:20:06,963 WARNING  awx.conf.settings Database settings are not available, using defaults, error:
Traceback (most recent call last):
  File ""/usr/lib/python2.7/site-packages/awx/wsgi.py"", line 80, in <module>
    application = get_wsgi_application()
  File ""/usr/lib/python2.7/site-packages/awx/wsgi.py"", line 77, in get_wsgi_application
    return AWXWSGIHandler()
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/core/handlers/wsgi.py"", line 151, in __init__
    self.load_middleware()
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/core/handlers/base.py"", line 56, in load_middleware
    mw_class = import_string(middleware_path)
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/utils/module_loading.py"", line 20, in import_string
    module = import_module(module_path)
  File ""/usr/lib64/python2.7/importlib/__init__.py"", line 37, in import_module
    __import__(name)
  File ""/usr/lib/python2.7/site-packages/awx/sso/middleware.py"", line 18, in <module>
    from social_django import utils
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/social_django/utils.py"", line 13, in <module>
    BACKENDS = settings.AUTHENTICATION_BACKENDS
  File ""/usr/lib/python2.7/site-packages/awx/conf/settings.py"", line 531, in __getattr_without_cache__
    return getattr(self._wrapped, name)
  File ""/usr/lib/python2.7/site-packages/awx/conf/settings.py"", line 444, in __getattr__
    value = self._get_local(name)
  File ""/usr/lib/python2.7/site-packages/awx/conf/settings.py"", line 361, in _get_local
    self._preload_cache()
  File ""/usr/lib/python2.7/site-packages/awx/conf/settings.py"", line 323, in _preload_cache
    for setting in Setting.objects.filter(key__in=settings_to_cache.keys(), user__isnull=True).order_by('pk'):
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/db/models/query.py"", line 250, in __iter__
    self._fetch_all()
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/db/models/query.py"", line 1118, in _fetch_all
    self._result_cache = list(self._iterable_class(self))
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/db/models/query.py"", line 53, in __iter__
    results = compiler.execute_sql(chunked_fetch=self.chunked_fetch)
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/db/models/sql/compiler.py"", line 899, in execute_sql
    raise original_exception
ProgrammingError: relation ""conf_setting"" does not exist
LINE 1: ...f_setting"".""value"", ""conf_setting"".""user_id"" FROM ""conf_sett...

Errors from the AWX-Celery container logs : 

Using /etc/ansible/ansible.cfg as config file
127.0.0.1 | SUCCESS => {
    ""changed"": false, 
    ""db"": ""awxtest""
}
Traceback (most recent call last):
  File ""/usr/bin/awx-manage"", line 9, in <module>
    load_entry_point('awx==1.0.8.0', 'console_scripts', 'awx-manage')()
  File ""/usr/lib/python2.7/site-packages/awx/__init__.py"", line 116, in manage
    execute_from_command_line(sys.argv)
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/core/management/__init__.py"", line 364, in execute_from_command_line
    utility.execute()
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/core/management/__init__.py"", line 356, in execute
    self.fetch_command(subcommand).run_from_argv(self.argv)
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/core/management/base.py"", line 283, in run_from_argv
    self.execute(*args, **cmd_options)
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/core/management/base.py"", line 330, in execute
    output = self.handle(*args, **options)
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/core/management/commands/shell.py"", line 101, in handle
    exec(sys.stdin.read())
  File ""<string>"", line 1, in <module>
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/contrib/auth/models.py"", line 170, in create_superuser
    return self._create_user(username, email, password, **extra_fields)
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/contrib/auth/models.py"", line 153, in _create_user
    user.save(using=self._db)
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/contrib/auth/base_user.py"", line 80, in save
    super(AbstractBaseUser, self).save(*args, **kwargs)
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/db/models/base.py"", line 808, in save
    force_update=force_update, update_fields=update_fields)
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/db/models/base.py"", line 838, in save_base
    updated = self._save_table(raw, cls, force_insert, force_update, using, update_fields)
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/db/models/base.py"", line 924, in _save_table
    result = self._do_insert(cls._base_manager, using, fields, update_pk, raw)
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/db/models/base.py"", line 963, in _do_insert
    using=using, raw=raw)
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/db/models/manager.py"", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/db/models/query.py"", line 1076, in _insert
    return query.get_compiler(using=using).execute_sql(return_id)
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/db/models/sql/compiler.py"", line 1112, in execute_sql
    cursor.execute(sql, params)
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/db/backends/utils.py"", line 64, in execute
    return self.cursor.execute(sql, params)
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/db/utils.py"", line 94, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/db/backends/utils.py"", line 64, in execute
    return self.cursor.execute(sql, params)
django.db.utils.IntegrityError: null value in column ""last_login"" violates not-null constraint
DETAIL:  Failing row contains (1, pbkdf2_sha256$36000$OD7sY8fSCxn3$NuGzqPNkK7cTL+ZLhlUZ3UiPtp6zpd+..., null, t, admin, , , root@localhost, t, t, 2018-09-20 18:19:58.843266+00).
2018-09-20 18:20:01,399 WARNING  awx.conf.settings Database settings are not available, using defaults, error:
Traceback (most recent call last):
  File ""/usr/bin/awx-manage"", line 9, in <module>
    load_entry_point('awx==1.0.8.0', 'console_scripts', 'awx-manage')()
  File ""/usr/lib/python2.7/site-packages/awx/__init__.py"", line 116, in manage
    execute_from_command_line(sys.argv)
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/core/management/__init__.py"", line 364, in execute_from_command_line
    utility.execute()
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/core/management/__init__.py"", line 356, in execute
    self.fetch_command(subcommand).run_from_argv(self.argv)
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/core/management/base.py"", line 283, in run_from_argv
    self.execute(*args, **cmd_options)
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/core/management/base.py"", line 327, in execute
    self.check()
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/core/management/base.py"", line 359, in check
    include_deployment_checks=include_deployment_checks,
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/core/management/base.py"", line 346, in _run_checks
    return checks.run_checks(**kwargs)
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/core/checks/registry.py"", line 81, in run_checks
    new_errors = check(app_configs=app_configs)
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/core/checks/urls.py"", line 16, in check_url_config
    return check_resolver(resolver)
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/core/checks/urls.py"", line 26, in check_resolver
    return check_method()
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/urls/resolvers.py"", line 254, in check
    for pattern in self.url_patterns:
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/utils/functional.py"", line 35, in __get__
    res = instance.__dict__[self.name] = self.func(instance)
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/urls/resolvers.py"", line 405, in url_patterns
    patterns = getattr(self.urlconf_module, ""urlpatterns"", self.urlconf_module)
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/utils/functional.py"", line 35, in __get__
    res = instance.__dict__[self.name] = self.func(instance)
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/urls/resolvers.py"", line 398, in urlconf_module
    return import_module(self.urlconf_name)
  File ""/usr/lib64/python2.7/importlib/__init__.py"", line 37, in import_module
    __import__(name)
  File ""/usr/lib/python2.7/site-packages/awx/urls.py"", line 17, in <module>
    url(r'^sso/', include('social_django.urls', namespace='social')),
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/conf/urls/__init__.py"", line 50, in include
    urlconf_module = import_module(urlconf_module)
  File ""/usr/lib64/python2.7/importlib/__init__.py"", line 37, in import_module
    __import__(name)
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/social_django/urls.py"", line 6, in <module>
    from . import views
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/social_django/views.py"", line 10, in <module>
    from .utils import psa
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/social_django/utils.py"", line 13, in <module>
    BACKENDS = settings.AUTHENTICATION_BACKENDS
  File ""/usr/lib/python2.7/site-packages/awx/conf/settings.py"", line 531, in __getattr_without_cache__
    return getattr(self._wrapped, name)
  File ""/usr/lib/python2.7/site-packages/awx/conf/settings.py"", line 444, in __getattr__
    value = self._get_local(name)
  File ""/usr/lib/python2.7/site-packages/awx/conf/settings.py"", line 361, in _get_local
    self._preload_cache()
  File ""/usr/lib/python2.7/site-packages/awx/conf/settings.py"", line 323, in _preload_cache
    for setting in Setting.objects.filter(key__in=settings_to_cache.keys(), user__isnull=True).order_by('pk'):
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/db/models/query.py"", line 250, in __iter__
    self._fetch_all()
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/db/models/query.py"", line 1118, in _fetch_all
    self._result_cache = list(self._iterable_class(self))
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/db/models/query.py"", line 53, in __iter__
    results = compiler.execute_sql(chunked_fetch=self.chunked_fetch)
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/db/models/sql/compiler.py"", line 899, in execute_sql
    raise original_exception
ProgrammingError: relation ""conf_setting"" does not exist
LINE 1: ...f_setting"".""value"", ""conf_setting"".""user_id"" FROM ""conf_sett...



I believe what is happening here is to do with the following role -

awx/installer/roles/kubernetes/tasks/main.yml

The issue is that the role deploys the ""ansible-tower-management"" pod which starts the DB migration. Just prior to these two steps (deploy ansible tower mgmt pod & db migration), the AWX main pod is deployed. This pod comes online before the DB migrations have completed and therefore cause errors when the AWX_Web and AWX_Celery containers start. Delaying these until the DB migration is complete, resolves the error.

I'll raise a pull request with the modified code I've used to fix this. "
8615,ansible,awx,22,closed,1594,1,https://api.github.com/repos/ansible/awx/issues/1594/comments,https://github.com/ansible/awx/issues/1594,"[{""default"": false, ""name"": ""component:api"", ""url"": ""https://api.github.com/repos/ansible/awx/labels/component:api"", ""color"": ""fbca04"", ""node_id"": ""MDU6TGFiZWw2ODcxNjkyNDY="", ""id"": 687169246}, {""default"": false, ""name"": ""type:bug"", ""url"": ""https://api.github.com/repos/ansible/awx/labels/type:bug"", ""color"": ""F79F81"", ""node_id"": ""MDU6TGFiZWw2MDcyODM3NDg="", ""id"": 607283748}]",Cannot delete token,"##### ISSUE TYPE
 - Bug Report

##### COMPONENT NAME
 - API

##### STEPS TO REPRODUCE

DELETE `/api/v2/tokens/N/`

##### EXPECTED RESULTS

204

##### ACTUAL RESULTS

```
awx_1        | 2018-03-16 19:13:40,480 ERROR    django.request Internal Server Error: /api/v2/tokens/11/
awx_1        | Traceback (most recent call last):
awx_1        |   File ""/venv/awx/lib/python2.7/site-packages/django/core/handlers/exception.py"", line 41, in inner
awx_1        |     response = get_response(request)
awx_1        |   File ""./awx/wsgi.py"", line 65, in _legacy_get_response
awx_1        |     return super(AWXWSGIHandler, self)._legacy_get_response(request)
awx_1        |   File ""/venv/awx/lib/python2.7/site-packages/django/core/handlers/base.py"", line 249, in _legacy_get_response
awx_1        |     response = self._get_response(request)
awx_1        |   File ""/venv/awx/lib/python2.7/site-packages/django/core/handlers/base.py"", line 187, in _get_response
awx_1        |     response = self.process_exception_by_middleware(e, request)
awx_1        |   File ""/venv/awx/lib/python2.7/site-packages/django/core/handlers/base.py"", line 185, in _get_response
awx_1        |     response = wrapped_callback(request, *callback_args, **callback_kwargs)
awx_1        |   File ""/venv/awx/lib/python2.7/site-packages/django/utils/decorators.py"", line 185, in inner
awx_1        |     return func(*args, **kwargs)
awx_1        |   File ""/venv/awx/lib/python2.7/site-packages/django/views/decorators/csrf.py"", line 58, in wrapped_view
awx_1        |     return view_func(*args, **kwargs)
awx_1        |   File ""/venv/awx/lib/python2.7/site-packages/django/views/generic/base.py"", line 68, in view
awx_1        |     return self.dispatch(request, *args, **kwargs)
awx_1        |   File ""./awx/api/generics.py"", line 284, in dispatch
awx_1        |     return super(APIView, self).dispatch(request, *args, **kwargs)
awx_1        |   File ""/venv/awx/lib/python2.7/site-packages/rest_framework/views.py"", line 494, in dispatch
awx_1        |     response = self.handle_exception(exc)
awx_1        |   File ""/venv/awx/lib/python2.7/site-packages/rest_framework/views.py"", line 454, in handle_exception
awx_1        |     self.raise_uncaught_exception(exc)
awx_1        |   File ""/venv/awx/lib/python2.7/site-packages/rest_framework/views.py"", line 491, in dispatch
awx_1        |     response = handler(request, *args, **kwargs)
awx_1        |   File ""/venv/awx/lib/python2.7/site-packages/rest_framework/generics.py"", line 219, in delete
awx_1        |     return self.destroy(request, *args, **kwargs)
awx_1        |   File ""/venv/awx/lib/python2.7/site-packages/rest_framework/mixins.py"", line 93, in destroy
awx_1        |     self.perform_destroy(instance)
awx_1        |   File ""./awx/api/generics.py"", line 487, in perform_destroy
awx_1        |     super(DestroyAPIView, self).perform_destroy(instance)
awx_1        |   File ""/venv/awx/lib/python2.7/site-packages/rest_framework/mixins.py"", line 97, in perform_destroy
awx_1        |     instance.delete()
awx_1        |   File ""/venv/awx/lib/python2.7/site-packages/django/db/models/base.py"", line 974, in delete
awx_1        |     return collector.delete()
awx_1        |   File ""/venv/awx/lib/python2.7/site-packages/django/db/models/deletion.py"", line 284, in delete
awx_1        |     count = qs._raw_delete(using=self.using)
awx_1        |   File ""/venv/awx/lib/python2.7/site-packages/django/db/models/query.py"", line 631, in _raw_delete
awx_1        |     return sql.DeleteQuery(self.model).delete_qs(self, using)
awx_1        |   File ""/venv/awx/lib/python2.7/site-packages/django/db/models/sql/subqueries.py"", line 80, in delete_qs
awx_1        |     cursor = self.get_compiler(using).execute_sql(CURSOR)
awx_1        |   File ""/venv/awx/lib/python2.7/site-packages/django/db/models/sql/compiler.py"", line 899, in execute_sql
awx_1        |     raise original_exception
awx_1        | ProgrammingError: relation ""oauth2_provider_refreshtoken"" does not exist
awx_1        | LINE 1: DELETE FROM ""oauth2_provider_refreshtoken"" WHERE ""oauth2_pro...
```

##### ADDITIONAL INFORMATION

<!-- Include any links to sosreport, database dumps, screenshots or other
information. -->
"
9342,ansible,awx,29,closed,776,2,https://api.github.com/repos/ansible/awx/issues/776/comments,https://github.com/ansible/awx/issues/776,"[{""default"": false, ""name"": ""component:api"", ""url"": ""https://api.github.com/repos/ansible/awx/labels/component:api"", ""color"": ""fbca04"", ""node_id"": ""MDU6TGFiZWw2ODcxNjkyNDY="", ""id"": 687169246}, {""default"": false, ""name"": ""priority:medium"", ""url"": ""https://api.github.com/repos/ansible/awx/labels/priority:medium"", ""color"": ""fad8c7"", ""node_id"": ""MDU6TGFiZWw2ODYyNTU2NTY="", ""id"": 686255656}, {""default"": false, ""name"": ""state:needs_devel"", ""url"": ""https://api.github.com/repos/ansible/awx/labels/state:needs_devel"", ""color"": ""ededed"", ""node_id"": ""MDU6TGFiZWw2NzAyMjY3MDc="", ""id"": 670226707}, {""default"": false, ""name"": ""type:bug"", ""url"": ""https://api.github.com/repos/ansible/awx/labels/type:bug"", ""color"": ""F79F81"", ""node_id"": ""MDU6TGFiZWw2MDcyODM3NDg="", ""id"": 607283748}]",500 error on malformed search query,"##### ISSUE TYPE
 - Bug Report

##### COMPONENT NAME
 - API

##### SUMMARY

https://awxhost/api/v2/job_events/?event=playbook_on_task_start&order_by=event_data.task_action

yields a 500 error.

```
2017-12-07 18:56:57,133 ERROR    django.request Internal Server Error: /api/v2/job_events/
Traceback (most recent call last):
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/core/handlers/base.py"", line 132, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/utils/decorators.py"", line 145, in inner
    return func(*args, **kwargs)
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/views/decorators/csrf.py"", line 58, in wrapped_view
    return view_func(*args, **kwargs)
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/views/generic/base.py"", line 71, in view
    return self.dispatch(request, *args, **kwargs)
  File ""/lib/python2.7/site-packages/awx/api/generics.py"", line 246, in dispatch
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/rest_framework/views.py"", line 466, in dispatch
    response = self.handle_exception(exc)
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/rest_framework/views.py"", line 463, in dispatch
    response = handler(request, *args, **kwargs)
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/rest_framework/generics.py"", line 201, in get
    return self.list(request, *args, **kwargs)
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/rest_framework/mixins.py"", line 42, in list
    page = self.paginate_queryset(queryset)
  File ""/lib/python2.7/site-packages/awx/api/generics.py"", line 317, in paginate_queryset
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/rest_framework/generics.py"", line 172, in paginate_queryset
    return self.paginator.paginate_queryset(queryset, self.request, view=self)
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/rest_framework/pagination.py"", line 218, in paginate_queryset
    return list(self.page)
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/core/paginator.py"", line 117, in __len__
    return len(self.object_list)
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/db/models/query.py"", line 144, in __len__
    self._fetch_all()
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/db/models/query.py"", line 965, in _fetch_all
    self._result_cache = list(self.iterator())
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/db/models/query.py"", line 238, in iterator
    results = compiler.execute_sql()
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/db/models/sql/compiler.py"", line 840, in execute_sql
    cursor.execute(sql, params)
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/db/backends/utils.py"", line 64, in execute
    return self.cursor.execute(sql, params)
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/db/utils.py"", line 98, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/db/backends/utils.py"", line 64, in execute
    return self.cursor.execute(sql, params)
ProgrammingError: missing FROM-clause entry for table ""event_data""
LINE 1: ...event"".""start_line"", ""main_jobevent"".""end_line"", (""event_dat...
```

##### ENVIRONMENT
* AWX version: recent
"
9859,ansible,awx,34,closed,172,6,https://api.github.com/repos/ansible/awx/issues/172/comments,https://github.com/ansible/awx/issues/172,[],"ProgrammingError: relation ""celery_taskmeta"" does not exist in awx_task","##### ISSUE TYPE
 - Bug Report

##### COMPONENT NAME
 - Installer

##### SUMMARY
Database migrations not completing.  Relation 'celery_taskmeta' is missing and the awx_task container will not complete initialization.

##### ENVIRONMENT

* AWX version: 1.0.0.365
* Ansible version:  2.3.1.0
* Operating System: Ansible/Local OS: MacOS Sierra.  Target OS: Red Hat Enterprise Linux Server release 7.3
* Web Browser: Chrome


##### STEPS TO REPRODUCE

Running the installation for standalone docker build with an existing postgresql server.

##### EXPECTED RESULTS

Expect the awx_task container to show the results as shown in the INSTALL.md.  Also, for the web UI to stop showing the 'Upgrading' page.

##### ACTUAL RESULTS

awx_task container repeating this log entry...

```
[2017-09-14 19:28:14,434: INFO/MainProcess] Scheduler: Sending due task task_manager (awx.main.scheduler.tasks.run_task_manager)
[2017-09-14 19:28:14,437: DEBUG/MainProcess] awx.main.scheduler.tasks.run_task_manager sent. id->f563d5a3-a3e8-48ae-99e9-7e73b80c55e4
[2017-09-14 19:28:14,438: DEBUG/MainProcess] beat: Waking up in 19.88 seconds.
[2017-09-14 19:28:14,440: INFO/MainProcess] Received task: awx.main.scheduler.tasks.run_task_manager[f563d5a3-a3e8-48ae-99e9-7e73b80c55e4] expires:[2017-09-14 19:28:34.436247+00:00]
[2017-09-14 19:28:14,440: DEBUG/MainProcess] TaskPool: Apply <function _fast_trace_task at 0x6db27d0> (args:(u'awx.main.scheduler.tasks.run_task_manager', u'f563d5a3-a3e8-48ae-99e9-7e73b80c55e4', [], {}, {u'utc': True, u'is_eager': False, u'chord': None, u'group': None, u'args': [], u'retries': 0, u'delivery_info': {u'priority': None, u'redelivered': False, u'routing_key': u'tower', u'exchange': u'tower'}, u'expires': u'2017-09-14T19:28:34.436247+00:00', u'hostname': 'celery@localhost', u'task': u'awx.main.scheduler.tasks.run_task_manager', u'callbacks': None, u'correlation_id': u'f563d5a3-a3e8-48ae-99e9-7e73b80c55e4', u'errbacks': None, u'timelimit': [None, None], u'taskset': None, u'kwargs': {}, u'eta': None, u'reply_to': u'30d03390-0769-3601-9e73-a6fef6902902', u'id': u'f563d5a3-a3e8-48ae-99e9-7e73b80c55e4', u'headers': {}}) kwargs:{})
[2017-09-14 19:28:14,444: DEBUG/MainProcess] Task accepted: awx.main.scheduler.tasks.run_task_manager[f563d5a3-a3e8-48ae-99e9-7e73b80c55e4] pid:146
[2017-09-14 19:28:14,456: CRITICAL/MainProcess] Task awx.main.scheduler.tasks.run_task_manager[f563d5a3-a3e8-48ae-99e9-7e73b80c55e4] INTERNAL ERROR: ProgrammingError('relation ""celery_taskmeta"" does not exist\nLINE 1: ...taskmeta"".""hidden"", ""celery_taskmeta"".""meta"" FROM ""celery_ta...\n                                                             ^\n',)
Traceback (most recent call last):
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/celery/app/trace.py"", line 235, in trace_task
    request=task_request,
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/celery/backends/base.py"", line 256, in store_result
    request=request, **kwargs)
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/djcelery/backends/database.py"", line 29, in _store_result
    traceback=traceback, children=self.current_task_children(request),
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/djcelery/managers.py"", line 42, in _inner
    return fun(*args, **kwargs)
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/djcelery/managers.py"", line 181, in store_result
    'meta': {'children': children}})
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/djcelery/managers.py"", line 87, in update_or_create
    return get_queryset(self).update_or_create(**kwargs)
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/djcelery/managers.py"", line 70, in update_or_create
    obj, created = self.get_or_create(**kwargs)
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/db/models/query.py"", line 405, in get_or_create
    return self.get(**lookup), False
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/db/models/query.py"", line 328, in get
    num = len(clone)
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/db/models/query.py"", line 144, in __len__
    self._fetch_all()
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/db/models/query.py"", line 965, in _fetch_all
    self._result_cache = list(self.iterator())
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/db/models/query.py"", line 238, in iterator
    results = compiler.execute_sql()
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/db/models/sql/compiler.py"", line 840, in execute_sql
    cursor.execute(sql, params)
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/db/backends/utils.py"", line 64, in execute
    return self.cursor.execute(sql, params)
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/db/utils.py"", line 98, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/django/db/backends/utils.py"", line 64, in execute
    return self.cursor.execute(sql, params)
ProgrammingError: relation ""celery_taskmeta"" does not exist
LINE 1: ...taskmeta"".""hidden"", ""celery_taskmeta"".""meta"" FROM ""celery_ta...
```

##### ADDITIONAL INFORMATION

<!-- Include any links to sosreport, database dumps, screenshots or other
information. -->
"
9890,ansible,awx,35,closed,138,44,https://api.github.com/repos/ansible/awx/issues/138/comments,https://github.com/ansible/awx/issues/138,"[{""default"": false, ""name"": ""component:api"", ""url"": ""https://api.github.com/repos/ansible/awx/labels/component:api"", ""color"": ""fbca04"", ""node_id"": ""MDU6TGFiZWw2ODcxNjkyNDY="", ""id"": 687169246}, {""default"": false, ""name"": ""priority:high"", ""url"": ""https://api.github.com/repos/ansible/awx/labels/priority:high"", ""color"": ""f7c6c7"", ""node_id"": ""MDU6TGFiZWw2ODYyNTUzODc="", ""id"": 686255387}, {""default"": false, ""name"": ""type:bug"", ""url"": ""https://api.github.com/repos/ansible/awx/labels/type:bug"", ""color"": ""F79F81"", ""node_id"": ""MDU6TGFiZWw2MDcyODM3NDg="", ""id"": 607283748}]",Migration fails and leaves AWX install in a bad state,"##### ISSUE TYPE
<!--- Pick one below and delete the rest: -->
 - Bug Report

##### COMPONENT NAME
<!-- Pick the area of AWX for this issue, you can have multiple, delete the rest: -->
 - Installer

##### SUMMARY
<!-- Briefly describe the problem. -->
AWX install seemed to complete without error, however it appears to be hung in the migration phase. The web interface shows AWX is upgrading and tailing the log files shows a traceback error repeatedly.

##### ENVIRONMENT
<!--
* AWX version: latest
* Ansible version:  2.3.00
* Operating System: RHEL 7 
* Web Browser: Chrome
-->

##### STEPS TO REPRODUCE

<!-- For bugs, please show exactly how to reproduce the problem. For new
features, show how the feature would be used.  -->

Install AWX per guide

##### EXPECTED RESULTS

<!-- For bug reports, what did you expect to happen when running the steps
above? -->

##### ACTUAL RESULTS

<!-- For bug reports, what actually happened? -->

##### ADDITIONAL INFORMATION

<!-- Include any links to sosreport, database dumps, screenshots or other
information. -->

here is a snippet from the error that keeps repeating in the log file

django.db.utils.ProgrammingError: relation ""main_schedule"" does not exist
LINE 1: ...le"".""next_run"", ""main_schedule"".""extra_data"" FROM ""main_sche...
"
11760,django-oscar,django-oscar,19,closed,1245,3,https://api.github.com/repos/django-oscar/django-oscar/issues/1245/comments,https://github.com/django-oscar/django-oscar/issues/1245,[],Fresh install  is broken if there is an apphook,"``` Bash
$ python manage.py syncdb
Traceback (most recent call last):
  File ""manage.py"", line 12, in <module>
    execute_from_command_line(sys.argv)
  File ""/home/marco/.virtualenvs/test/local/lib/python2.7/site-packages/django/core/management/__init__.py"", line 399, in execute_from_command_line
    utility.execute()
  File ""/home/marco/.virtualenvs/test/local/lib/python2.7/site-packages/django/core/management/__init__.py"", line 392, in execute
    self.fetch_command(subcommand).run_from_argv(self.argv)
  File ""/home/marco/.virtualenvs/test/local/lib/python2.7/site-packages/django/core/management/__init__.py"", line 272, in fetch_command
    klass = load_command_class(app_name, subcommand)
  File ""/home/marco/.virtualenvs/test/local/lib/python2.7/site-packages/django/core/management/__init__.py"", line 75, in load_command_class
    module = import_module('%s.management.commands.%s' % (app_name, name))
  File ""/home/marco/.virtualenvs/test/local/lib/python2.7/site-packages/django/utils/importlib.py"", line 40, in import_module
    __import__(name)
  File ""/home/marco/.virtualenvs/test/local/lib/python2.7/site-packages/cms/management/commands/cms.py"", line 9, in <module>
    from cms.management.commands.subcommands.copy_lang import CopyLangCommand
  File ""/home/marco/.virtualenvs/test/local/lib/python2.7/site-packages/cms/management/commands/subcommands/copy_lang.py"", line 6, in <module>
    from cms.api import copy_plugins_to_language
  File ""/home/marco/.virtualenvs/test/local/lib/python2.7/site-packages/cms/api.py"", line 17, in <module>
    from cms.admin.forms import save_permissions
  File ""/home/marco/.virtualenvs/test/local/lib/python2.7/site-packages/cms/admin/__init__.py"", line 2, in <module>
    import cms.admin.pageadmin
  File ""/home/marco/.virtualenvs/test/local/lib/python2.7/site-packages/cms/admin/pageadmin.py"", line 35, in <module>
    from cms.admin.forms import (PageForm, AdvancedSettingsForm, PagePermissionForm,
  File ""/home/marco/.virtualenvs/test/local/lib/python2.7/site-packages/cms/admin/forms.py"", line 5, in <module>
    from cms.compat_forms import UserCreationForm
  File ""/home/marco/.virtualenvs/test/local/lib/python2.7/site-packages/cms/compat_forms.py"", line 41, in <module>
    from django.contrib.auth.admin import UserAdmin  # nopyflakes
  File ""/home/marco/.virtualenvs/test/local/lib/python2.7/site-packages/django/contrib/auth/admin.py"", line 182, in <module>
    admin.site.register(Group, GroupAdmin)
  File ""/home/marco/.virtualenvs/test/local/lib/python2.7/site-packages/django/contrib/admin/sites.py"", line 92, in register
    admin_class.validate(model)
  File ""/home/marco/.virtualenvs/test/local/lib/python2.7/site-packages/django/contrib/admin/options.py"", line 105, in validate
    validator = cls.validator_class()
  File ""/home/marco/.virtualenvs/test/local/lib/python2.7/site-packages/django/contrib/admin/validation.py"", line 20, in __init__
    models.get_apps()
  File ""/home/marco/.virtualenvs/test/local/lib/python2.7/site-packages/django/db/models/loading.py"", line 139, in get_apps
    self._populate()
  File ""/home/marco/.virtualenvs/test/local/lib/python2.7/site-packages/django/db/models/loading.py"", line 78, in _populate
    self.load_app(app_name)
  File ""/home/marco/.virtualenvs/test/local/lib/python2.7/site-packages/django/db/models/loading.py"", line 99, in load_app
    models = import_module('%s.models' % app_name)
  File ""/home/marco/.virtualenvs/test/local/lib/python2.7/site-packages/django/utils/importlib.py"", line 40, in import_module
    __import__(name)
  File ""/home/marco/.virtualenvs/test/local/lib/python2.7/site-packages/debug_toolbar/models.py"", line 63, in <module>
    patch_root_urlconf()
  File ""/home/marco/.virtualenvs/test/local/lib/python2.7/site-packages/debug_toolbar/models.py"", line 51, in patch_root_urlconf
    reverse('djdt:render_panel')
  File ""/home/marco/.virtualenvs/test/local/lib/python2.7/site-packages/django/core/urlresolvers.py"", line 480, in reverse
    app_list = resolver.app_dict[ns]
  File ""/home/marco/.virtualenvs/test/local/lib/python2.7/site-packages/django/core/urlresolvers.py"", line 310, in app_dict
    self._populate()
  File ""/home/marco/.virtualenvs/test/local/lib/python2.7/site-packages/django/core/urlresolvers.py"", line 262, in _populate
    for pattern in reversed(self.url_patterns):
  File ""/home/marco/.virtualenvs/test/local/lib/python2.7/site-packages/django/core/urlresolvers.py"", line 346, in url_patterns
    patterns = getattr(self.urlconf_module, ""urlpatterns"", self.urlconf_module)
  File ""/home/marco/.virtualenvs/test/local/lib/python2.7/site-packages/django/core/urlresolvers.py"", line 341, in urlconf_module
    self._urlconf_module = import_module(self.urlconf_name)
  File ""/home/marco/.virtualenvs/test/local/lib/python2.7/site-packages/django/utils/importlib.py"", line 40, in import_module
    __import__(name)
  File ""/home/marco/workspace/penta/pentaonline/pentaonline/pentaonline/urls.py"", line 27, in <module>
    url(r'^', include('cms.urls')),
  File ""/home/marco/.virtualenvs/test/local/lib/python2.7/site-packages/django/conf/urls/__init__.py"", line 26, in include
    urlconf_module = import_module(urlconf_module)
  File ""/home/marco/.virtualenvs/test/local/lib/python2.7/site-packages/django/utils/importlib.py"", line 40, in import_module
    __import__(name)
  File ""/home/marco/.virtualenvs/test/local/lib/python2.7/site-packages/cms/urls.py"", line 23, in <module>
    urlpatterns = get_app_patterns() + urlpatterns
  File ""/home/marco/.virtualenvs/test/local/lib/python2.7/site-packages/cms/appresolver.py"", line 189, in get_app_patterns
    current_site = Site.objects.get_current()
  File ""/home/marco/.virtualenvs/test/local/lib/python2.7/site-packages/django/contrib/sites/models.py"", line 47, in get_current
    current_site = self.get(pk=sid)
  File ""/home/marco/.virtualenvs/test/local/lib/python2.7/site-packages/django/db/models/manager.py"", line 151, in get
    return self.get_queryset().get(*args, **kwargs)
  File ""/home/marco/.virtualenvs/test/local/lib/python2.7/site-packages/django/db/models/query.py"", line 301, in get
    num = len(clone)
  File ""/home/marco/.virtualenvs/test/local/lib/python2.7/site-packages/django/db/models/query.py"", line 77, in __len__
    self._fetch_all()
  File ""/home/marco/.virtualenvs/test/local/lib/python2.7/site-packages/django/db/models/query.py"", line 854, in _fetch_all
    self._result_cache = list(self.iterator())
  File ""/home/marco/.virtualenvs/test/local/lib/python2.7/site-packages/django/db/models/query.py"", line 220, in iterator
    for row in compiler.results_iter():
  File ""/home/marco/.virtualenvs/test/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py"", line 709, in results_iter
    for rows in self.execute_sql(MULTI):
  File ""/home/marco/.virtualenvs/test/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py"", line 782, in execute_sql
    cursor.execute(sql, params)
  File ""/home/marco/.virtualenvs/test/local/lib/python2.7/site-packages/django/db/backends/util.py"", line 69, in execute
    return super(CursorDebugWrapper, self).execute(sql, params)
  File ""/home/marco/.virtualenvs/test/local/lib/python2.7/site-packages/django/db/backends/util.py"", line 53, in execute
    return self.cursor.execute(sql, params)
  File ""/home/marco/.virtualenvs/test/local/lib/python2.7/site-packages/django/db/utils.py"", line 99, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File ""/home/marco/.virtualenvs/test/local/lib/python2.7/site-packages/django/db/backends/util.py"", line 53, in execute
    return self.cursor.execute(sql, params)
django.db.utils.ProgrammingError: ERRORE:  la relazione ""django_site"" non esiste
LINE 1: ...""django_site"".""domain"", ""django_site"".""name"" FROM ""django_si...
```

This code is executed if there is an apphook:

``` Python
if apphook_pool.get_apphooks():
    """"""If there are some application urls, add special resolver, so we will
    have standard reverse support.
    """"""
    from cms.appresolver import get_app_patterns
    urlpatterns = get_app_patterns() + urlpatterns

urlpatterns = patterns('', *urlpatterns)
```

Then we reach `Site.objects.get_current()`.

So it's impossible to run syncdb/migrate
"
13574,Fantomas42,django-blog-zinnia,2,closed,534,1,https://api.github.com/repos/Fantomas42/django-blog-zinnia/issues/534/comments,https://github.com/Fantomas42/django-blog-zinnia/issues/534,[],"error rendering main page,cause column zinnia_entry.publication_date does not exist LINE 1: SELECT DISTINCT DATE_TRUNC('year', ""zinnia_entry"".""publicati... error","<!--

Have you read the contributing guidelines ?

https://github.com/Fantomas42/django-blog-zinnia/blob/develop/.github/CONTRIBUTING.md

-->
# Actual behavior
Installed zinnia  to my django webapp .It runs fine on my local machine but when i hosted it on heroku and opened the link to the blog,It showed this exception.

`2018-03-27T20:56:12.638992+00:00 app[web.1]: Internal Server Error: /weblog/
2018-03-27T20:56:12.639010+00:00 app[web.1]: Traceback (most recent call last):
2018-03-27T20:56:12.639013+00:00 app[web.1]:   File ""/app/.heroku/python/lib/python3.6/site-packages/django/db/backends/utils.py"", line 65, in execute
2018-03-27T20:56:12.639014+00:00 app[web.1]:     return self.cursor.execute(sql, params)
2018-03-27T20:56:12.639016+00:00 app[web.1]: psycopg2.ProgrammingError: column zinnia_entry.publication_date does not exist
2018-03-27T20:56:12.639018+00:00 app[web.1]: LINE 1: SELECT DISTINCT DATE_TRUNC('year', ""zinnia_entry"".""publicati...
2018-03-27T20:56:12.639020+00:00 app[web.1]:                                            ^
2018-03-27T20:56:12.639022+00:00 app[web.1]: 
2018-03-27T20:56:12.639025+00:00 app[web.1]: The above exception was the direct cause of the following exception:
2018-03-27T20:56:12.639023+00:00 app[web.1]: 
2018-03-27T20:56:12.639027+00:00 app[web.1]: 
2018-03-27T20:56:12.639029+00:00 app[web.1]: Traceback (most recent call last):
2018-03-27T20:56:12.639030+00:00 app[web.1]:   File ""/app/.heroku/python/lib/python3.6/site-packages/django/core/handlers/exception.py"", line 41, in inner
2018-03-27T20:56:12.639032+00:00 app[web.1]:     response = get_response(request)
2018-03-27T20:56:12.639034+00:00 app[web.1]:   File ""/app/.heroku/python/lib/python3.6/site-packages/django/core/handlers/base.py"", line 187, in _get_response
2018-03-27T20:56:12.639036+00:00 app[web.1]:     response = self.process_exception_by_middleware(e, request)
2018-03-27T20:56:12.639037+00:00 app[web.1]:   File ""/app/.heroku/python/lib/python3.6/site-packages/django/core/handlers/base.py"", line 185, in _get_response
2018-03-27T20:56:12.639039+00:00 app[web.1]:     response = wrapped_callback(request, *callback_args, **callback_kwargs)
2018-03-27T20:56:12.639041+00:00 app[web.1]:   File ""/app/.heroku/python/lib/python3.6/site-packages/django/views/generic/base.py"", line 68, in view
2018-03-27T20:56:12.639042+00:00 app[web.1]:     return self.dispatch(request, *args, **kwargs)
2018-03-27T20:56:12.639044+00:00 app[web.1]:   File ""/app/.heroku/python/lib/python3.6/site-packages/django/views/generic/base.py"", line 88, in dispatch
2018-03-27T20:56:12.639045+00:00 app[web.1]:     return handler(request, *args, **kwargs)
2018-03-27T20:56:12.639047+00:00 app[web.1]:   File ""/app/.heroku/python/lib/python3.6/site-packages/django/views/generic/dates.py"", line 339, in get
2018-03-27T20:56:12.639049+00:00 app[web.1]:     self.date_list, self.object_list, extra_context = self.get_dated_items()
2018-03-27T20:56:12.639050+00:00 app[web.1]:   File ""/app/.heroku/python/lib/python3.6/site-packages/django/views/generic/dates.py"", line 425, in get_dated_items
2018-03-27T20:56:12.639052+00:00 app[web.1]:     date_list = self.get_date_list(qs, ordering='DESC')
2018-03-27T20:56:12.639053+00:00 app[web.1]:   File ""/app/.heroku/python/lib/python3.6/site-packages/django/views/generic/dates.py"", line 404, in get_date_list
2018-03-27T20:56:12.639055+00:00 app[web.1]:     if date_list is not None and not date_list and not allow_empty:
2018-03-27T20:56:12.639057+00:00 app[web.1]:   File ""/app/.heroku/python/lib/python3.6/site-packages/django/db/models/query.py"", line 254, in __bool__
2018-03-27T20:56:12.639058+00:00 app[web.1]:     self._fetch_all()
2018-03-27T20:56:12.639060+00:00 app[web.1]:   File ""/app/.heroku/python/lib/python3.6/site-packages/django/db/models/query.py"", line 1102, in _fetch_all
2018-03-27T20:56:12.639061+00:00 app[web.1]:     self._result_cache = list(self._iterable_class(self))
2018-03-27T20:56:12.639063+00:00 app[web.1]:   File ""/app/.heroku/python/lib/python3.6/site-packages/django/db/models/query.py"", line 152, in __iter__
2018-03-27T20:56:12.639064+00:00 app[web.1]:     for row in compiler.results_iter():
2018-03-27T20:56:12.639066+00:00 app[web.1]:   File ""/app/.heroku/python/lib/python3.6/site-packages/django/db/models/sql/compiler.py"", line 828, in results_iter
2018-03-27T20:56:12.639067+00:00 app[web.1]:     results = self.execute_sql(MULTI)
2018-03-27T20:56:12.639069+00:00 app[web.1]:   File ""/app/.heroku/python/lib/python3.6/site-packages/django/db/models/sql/compiler.py"", line 876, in execute_sql
2018-03-27T20:56:12.639071+00:00 app[web.1]:     cursor.execute(sql, params)
2018-03-27T20:56:12.639072+00:00 app[web.1]:   File ""/app/.heroku/python/lib/python3.6/site-packages/django/db/backends/utils.py"", line 80, in execute
2018-03-27T20:56:12.639074+00:00 app[web.1]:     return super(CursorDebugWrapper, self).execute(sql, params)
2018-03-27T20:56:12.639075+00:00 app[web.1]:   File ""/app/.heroku/python/lib/python3.6/site-packages/django/db/backends/utils.py"", line 65, in execute
2018-03-27T20:56:12.639077+00:00 app[web.1]:     return self.cursor.execute(sql, params)
2018-03-27T20:56:12.639078+00:00 app[web.1]:   File ""/app/.heroku/python/lib/python3.6/site-packages/django/db/utils.py"", line 94, in __exit__
2018-03-27T20:56:12.639080+00:00 app[web.1]:     six.reraise(dj_exc_type, dj_exc_value, traceback)
2018-03-27T20:56:12.639081+00:00 app[web.1]:   File ""/app/.heroku/python/lib/python3.6/site-packages/django/utils/six.py"", line 685, in reraise
2018-03-27T20:56:12.639083+00:00 app[web.1]:     raise value.with_traceback(tb)
2018-03-27T20:56:12.639085+00:00 app[web.1]:   File ""/app/.heroku/python/lib/python3.6/site-packages/django/db/backends/utils.py"", line 65, in execute
2018-03-27T20:56:12.639086+00:00 app[web.1]:     return self.cursor.execute(sql, params)
2018-03-27T20:56:12.639090+00:00 app[web.1]: LINE 1: SELECT DISTINCT DATE_TRUNC('year', ""zinnia_entry"".""publicati...
2018-03-27T20:56:12.824826+00:00 app[web.1]: 10.136.187.237 - - [28/Mar/2018:02:26:12 +0530] ""GET /weblog/ HTTP/1.1"" 500 133513 ""-"" ""Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Ubuntu Chromium/64.0.3282.167 Chrome/64.0.3282.167 Safari/537.36""
2018-03-27T20:56:12.639092+00:00 app[web.1]:                                            ^
2018-03-27T20:56:12.639099+00:00 app[web.1]: 
2018-03-27T20:56:12.639088+00:00 app[web.1]: django.db.utils.ProgrammingError: column zinnia_entry.publication_date does not exist
2018-03-27T20:56:12.831728+00:00 heroku[router]: at=info method=GET path=""/weblog/"" host=blooming-headland-11176.herokuapp.com request_id=67cbd1e4-80b8-4de0-a962-21fd7305ef1f fwd=""103.211.18.64"" dyno=web.1 connect=1ms service=202ms status=500 bytes=133724 protocol=https
`

# Expected behavior
It should not raise such exception.

# Steps to reproduce the issue

  1.Add zinnia to settings.INSTALLED_APPS
  2.push source code on heroku and open the url link.
  

# Specifications

 - Zinnia version:0.20
 - Django version:1.11
 - Python version:3.5
 - Operating system:ubuntu 16.04

# Disclaimer

<!--

Please read these points carefully and answer honestly with an `X`
into all the boxes. Example : [X]

-->

Before submitting an *issue* make sure you have:

 - [ X] Read the guidelines for contributing.
 - [ X] Checked for duplicate issues.
 - [ X] Not a support request.
"
13622,Fantomas42,django-blog-zinnia,2,closed,479,8,https://api.github.com/repos/Fantomas42/django-blog-zinnia/issues/479/comments,https://github.com/Fantomas42/django-blog-zinnia/issues/479,"[{""default"": false, ""name"": ""ICC"", ""url"": ""https://api.github.com/repos/Fantomas42/django-blog-zinnia/labels/ICC"", ""color"": ""fffeb8"", ""node_id"": ""MDU6TGFiZWwzOTY1OQ=="", ""id"": 39659}]",ProgrammingError at /admin/zinnia/entry/,"Hi, 

Been trying to get zinnia to work with the latest version of Django (1.9) and hitting numerous problems. Here is the one I haven't been able to fix. Any ideas what is going on?

Internal Server Error: /admin/zinnia/entry/

ProgrammingError at /admin/zinnia/entry/
column ""zinnia_category.title"" must appear in the GROUP BY clause or be used in an aggregate function
LINE 1: SELECT DISTINCT ""zinnia_category"".""id"", ""zinnia_category"".""t...
                                               ^

Request Method: GET
Request URL: http://127.0.0.1:8000/admin/zinnia/entry/
Django Version: 1.9.7
Python Executable: /Users/kennethmarritt/.virtualenvs/stickpin/bin/python
Python Version: 2.7.11
Python Path: ['/Users/kennethmarritt/stickpin', '/Users/kennethmarritt/.virtualenvs/stickpin/src/inflect', '/Users/kennethmarritt/.virtualenvs/stickpin/src/django-blog-zinnia', '/Users/kennethmarritt/.virtualenvs/stickpin/lib/python27.zip', '/Users/kennethmarritt/.virtualenvs/stickpin/lib/python2.7', '/Users/kennethmarritt/.virtualenvs/stickpin/lib/python2.7/plat-darwin', '/Users/kennethmarritt/.virtualenvs/stickpin/lib/python2.7/plat-mac', '/Users/kennethmarritt/.virtualenvs/stickpin/lib/python2.7/plat-mac/lib-scriptpackages', '/Users/kennethmarritt/.virtualenvs/stickpin/lib/python2.7/lib-tk', '/Users/kennethmarritt/.virtualenvs/stickpin/lib/python2.7/lib-old', '/Users/kennethmarritt/.virtualenvs/stickpin/lib/python2.7/lib-dynload', '/usr/local/Cellar/python/2.7.11/Frameworks/Python.framework/Versions/2.7/lib/python2.7', '/usr/local/Cellar/python/2.7.11/Frameworks/Python.framework/Versions/2.7/lib/python2.7/plat-darwin', '/usr/local/Cellar/python/2.7.11/Frameworks/Python.framework/Versions/2.7/lib/python2.7/lib-tk', '/usr/local/Cellar/python/2.7.11/Frameworks/Python.framework/Versions/2.7/lib/python2.7/plat-mac', '/usr/local/Cellar/python/2.7.11/Frameworks/Python.framework/Versions/2.7/lib/python2.7/plat-mac/lib-scriptpackages', '/Users/kennethmarritt/.virtualenvs/stickpin/lib/python2.7/site-packages', '/Users/kennethmarritt/.virtualenvs/stickpin/lib/python2.7/site-packages/newrelic-2.50.0.39']
Server time: Wed, 8 Jun 2016 15:10:38 +0000
Installed Applications:
(u'django.contrib.admin',
u'django.contrib.auth',
u'django.contrib.contenttypes',
u'django.contrib.sessions',
u'django.contrib.messages',
u'django.contrib.staticfiles',
u'django.contrib.sites',
u'django.contrib.sitemaps',
u'stickpin',
u'odds',
u'rest_framework',
u'details',
u'selections',
u'scraper',
u'heatmap',
u'betturtle',
u'unfriendly',
u'storages',
u'robots',
u'webmaster_verification',
u'ckeditor',
u'ckeditor_uploader',
u'django_ajax',
u'django_comments',
u'mptt',
u'tagging',
u'zinnia_bootstrap',
u'zinnia',
u'zinnia_twitter',
u'zinnia_ckeditor',
u'offers',
u'newsletter',
u'collectfast',
u'debug_toolbar',
u'debug_panel',
u'django_stormpath',
u'django_social_share')
Installed Middleware:
(u'htmlmin.middleware.MarkRequestMiddleware',
u'django.contrib.sessions.middleware.SessionMiddleware',
u'django.middleware.common.CommonMiddleware',
u'django.middleware.csrf.CsrfViewMiddleware',
u'django.contrib.auth.middleware.AuthenticationMiddleware',
u'django.contrib.auth.middleware.SessionAuthenticationMiddleware',
u'django.contrib.messages.middleware.MessageMiddleware',
u'django.middleware.clickjacking.XFrameOptionsMiddleware',
u'django.middleware.security.SecurityMiddleware',
u'django_ajax.middleware.AJAXMiddleware')

Traceback:  

File ""/Users/kennethmarritt/.virtualenvs/stickpin/lib/python2.7/site-packages/django/core/handlers/base.py"" in get_response
1.                     response = self.process_exception_by_middleware(e, request)

File ""/Users/kennethmarritt/.virtualenvs/stickpin/lib/python2.7/site-packages/django/core/handlers/base.py"" in get_response
1.                     response = wrapped_callback(request, _callback_args, *_callback_kwargs)

File ""/Users/kennethmarritt/.virtualenvs/stickpin/lib/python2.7/site-packages/django/contrib/admin/options.py"" in wrapper
1.                 return self.admin_site.admin_view(view)(_args, *_kwargs)

File ""/Users/kennethmarritt/.virtualenvs/stickpin/lib/python2.7/site-packages/django/utils/decorators.py"" in _wrapped_view
1.                     response = view_func(request, _args, *_kwargs)

File ""/Users/kennethmarritt/.virtualenvs/stickpin/lib/python2.7/site-packages/django/views/decorators/cache.py"" in _wrapped_view_func
1.         response = view_func(request, _args, *_kwargs)

File ""/Users/kennethmarritt/.virtualenvs/stickpin/lib/python2.7/site-packages/django/contrib/admin/sites.py"" in inner
1.             return view(request, _args, *_kwargs)

File ""/Users/kennethmarritt/.virtualenvs/stickpin/lib/python2.7/site-packages/django/utils/decorators.py"" in _wrapper
1.             return bound_func(_args, *_kwargs)

File ""/Users/kennethmarritt/.virtualenvs/stickpin/lib/python2.7/site-packages/django/utils/decorators.py"" in _wrapped_view
1.                     response = view_func(request, _args, *_kwargs)

File ""/Users/kennethmarritt/.virtualenvs/stickpin/lib/python2.7/site-packages/django/utils/decorators.py"" in bound_func
1.                 return func.**get**(self, type(self))(_args2, *_kwargs2)

File ""/Users/kennethmarritt/.virtualenvs/stickpin/lib/python2.7/site-packages/django/contrib/admin/options.py"" in changelist_view
1.                 self.list_max_show_all, self.list_editable, self)

File ""/Users/kennethmarritt/.virtualenvs/stickpin/lib/python2.7/site-packages/django/contrib/admin/views/main.py"" in **init**
1.         self.queryset = self.get_queryset(request)

File ""/Users/kennethmarritt/.virtualenvs/stickpin/lib/python2.7/site-packages/django/contrib/admin/views/main.py"" in get_queryset
1.          filters_use_distinct) = self.get_filters(request)

File ""/Users/kennethmarritt/.virtualenvs/stickpin/lib/python2.7/site-packages/django/contrib/admin/views/main.py"" in get_filters
1.                         self.model, self.model_admin)

File ""/Users/kennethmarritt/.virtualenvs/stickpin/lib/python2.7/site-packages/django/contrib/admin/filters.py"" in **init**
1.         self.lookup_choices = list(lookup_choices)

File ""/Users/kennethmarritt/.virtualenvs/stickpin/src/django-blog-zinnia/zinnia/admin/filters.py"" in lookups
1.         for active_object in active_objects:

File ""/Users/kennethmarritt/.virtualenvs/stickpin/lib/python2.7/site-packages/django/db/models/query.py"" in **iter**
1.         self._fetch_all()

File ""/Users/kennethmarritt/.virtualenvs/stickpin/lib/python2.7/site-packages/django/db/models/query.py"" in _fetch_all
1.             self._result_cache = list(self.iterator())

File ""/Users/kennethmarritt/.virtualenvs/stickpin/lib/python2.7/site-packages/django/db/models/query.py"" in **iter**
1.         results = compiler.execute_sql()

File ""/Users/kennethmarritt/.virtualenvs/stickpin/lib/python2.7/site-packages/django/db/models/sql/compiler.py"" in execute_sql
1.             cursor.execute(sql, params)

File ""/Users/kennethmarritt/.virtualenvs/stickpin/lib/python2.7/site-packages/django/db/backends/utils.py"" in execute
1.                 return self.cursor.execute(sql, params)

File ""/Users/kennethmarritt/.virtualenvs/stickpin/lib/python2.7/site-packages/django/db/utils.py"" in **exit**
1.                 six.reraise(dj_exc_type, dj_exc_value, traceback)

File ""/Users/kennethmarritt/.virtualenvs/stickpin/lib/python2.7/site-packages/django/db/backends/utils.py"" in execute
1.                 return self.cursor.execute(sql, params)

Exception Type: ProgrammingError at /admin/zinnia/entry/
Exception Value: column ""zinnia_category.title"" must appear in the GROUP BY clause or be used in an aggregate function
LINE 1: SELECT DISTINCT ""zinnia_category"".""id"", ""zinnia_category"".""t...
"
13658,Fantomas42,django-blog-zinnia,2,closed,443,4,https://api.github.com/repos/Fantomas42/django-blog-zinnia/issues/443/comments,https://github.com/Fantomas42/django-blog-zinnia/issues/443,"[{""default"": false, ""name"": ""Database"", ""url"": ""https://api.github.com/repos/Fantomas42/django-blog-zinnia/labels/Database"", ""color"": ""a858ba"", ""node_id"": ""MDU6TGFiZWw0NTQzNg=="", ""id"": 45436}, {""default"": false, ""name"": ""ICC"", ""url"": ""https://api.github.com/repos/Fantomas42/django-blog-zinnia/labels/ICC"", ""color"": ""fffeb8"", ""node_id"": ""MDU6TGFiZWwzOTY1OQ=="", ""id"": 39659}]",window function call requires an OVER clause,"I don't know when this error started happening. 

I don't understand why it's happening either - when I try to debug, it seems endless?

This is the error I get on the front page of the blog:

Environment:
Django Version: 1.8.4
Python Version: 2.7.6
Installed Applications:
('django.contrib.admin',
 'django.contrib.auth',
 'django.contrib.sites',
 'django.contrib.sessions',
 'django.contrib.messages',
 'django.contrib.staticfiles',
 'django.contrib.contenttypes',
 'django_comments',
 'mptt',
 'tagging',
 'zinnia')
Installed Middleware:
('django.contrib.sessions.middleware.SessionMiddleware',
 'django.middleware.common.CommonMiddleware',
 'django.middleware.csrf.CsrfViewMiddleware',
 'django.contrib.auth.middleware.AuthenticationMiddleware',
 'django.contrib.auth.middleware.SessionAuthenticationMiddleware',
 'django.contrib.messages.middleware.MessageMiddleware',
 'django.middleware.clickjacking.XFrameOptionsMiddleware',
 'django.middleware.security.SecurityMiddleware')

Template error:
In template /home/datakid/.virtualenvs/df/local/lib/python2.7/site-packages/zinnia/templates/zinnia/tags/entries_slider.html, error at line 2
   window function call requires an OVER clause
LINE 1: ...ingback_count"", ""zinnia_entry"".""trackback_count"", ""zinnia_en...
                                                             ^
...
   2 :  {% if entries %} 
... 

Exception Type: ProgrammingError at /
Exception Value: window function call requires an OVER clause
LINE 1: ...ingback_count"", ""zinnia_entry"".""trackback_count"", ""zinnia_en...
                                                             ^

I can see the admin site no problem, until I start trying to look at the entries, edit a particular entry or save a tagged entry?

On those occasions, I get the same error, except the problem is located at:

lib/python2.7/site-packages/django/db/backends/utils.py in execute, line 64
"
13676,Fantomas42,django-blog-zinnia,3,closed,425,1,https://api.github.com/repos/Fantomas42/django-blog-zinnia/issues/425/comments,https://github.com/Fantomas42/django-blog-zinnia/issues/425,"[{""default"": false, ""name"": ""Bug"", ""url"": ""https://api.github.com/repos/Fantomas42/django-blog-zinnia/labels/Bug"", ""color"": ""3c7496"", ""node_id"": ""MDU6TGFiZWwzNTA0MQ=="", ""id"": 35041}, {""default"": false, ""name"": ""Database"", ""url"": ""https://api.github.com/repos/Fantomas42/django-blog-zinnia/labels/Database"", ""color"": ""a858ba"", ""node_id"": ""MDU6TGFiZWw0NTQzNg=="", ""id"": 45436}, {""default"": false, ""name"": ""Tagging"", ""url"": ""https://api.github.com/repos/Fantomas42/django-blog-zinnia/labels/Tagging"", ""color"": ""0b02e1"", ""node_id"": ""MDU6TGFiZWwxMDg5ODM="", ""id"": 108983}]",Syncdb / Migrate with psycopg2,"./bin/demo syncdb

django.db.utils.ProgrammingError: relation ""django_content_type"" does not exist

Related to #408
"
13693,Fantomas42,django-blog-zinnia,3,closed,408,13,https://api.github.com/repos/Fantomas42/django-blog-zinnia/issues/408/comments,https://github.com/Fantomas42/django-blog-zinnia/issues/408,"[{""default"": false, ""name"": ""Tagging"", ""url"": ""https://api.github.com/repos/Fantomas42/django-blog-zinnia/labels/Tagging"", ""color"": ""0b02e1"", ""node_id"": ""MDU6TGFiZWwxMDg5ODM="", ""id"": 108983}]","""django_content_type"" does not exist","I've got a fresh Django 1.8 installation,  in a virtualenv with all deps successful. Running on Ubuntu 14.04.2 fwiw.

The settings is pretty much default - apart from the db settings and the zinnia needs I've not added anything (actually, not true - Django 1.8 has no 'django.contrib.sites' in INSTALLED_APPS - needed to add that).  'django.contrib.contenttypes' is in INSTALLED_APPS by default.

But I'm getting the error:

django.db.utils.ProgrammingError: relation ""django_content_type"" does not exist

?

Full output below:

(df)datakid@coburg:~/www/df/df-site$ python manage.py migrate
/home/datakid/.virtualenvs/df/local/lib/python2.7/site-packages/django_comments/**init**.py:4: RemovedInDjango19Warning: django.utils.importlib will be removed in Django 1.9.
  from django.utils.importlib import import_module

/home/datakid/.virtualenvs/df/local/lib/python2.7/site-packages/django_comments/models.py:2: RemovedInDjango19Warning: django.contrib.contenttypes.generic is deprecated and will be removed in Django 1.9. Its contents have been moved to the fields, forms, and admin submodules of django.contrib.contenttypes.
  from django.contrib.contenttypes import generic

/home/datakid/.virtualenvs/df/local/lib/python2.7/site-packages/django_comments/models.py:46: RemovedInDjango19Warning: Model class django_comments.models.Comment doesn't declare an explicit app_label and either isn't in an application in INSTALLED_APPS or else was imported before its application was loaded. This will no longer be supported in Django 1.9.
  class Comment(BaseCommentAbstractModel):

/home/datakid/.virtualenvs/df/local/lib/python2.7/site-packages/django_comments/models.py:165: RemovedInDjango19Warning: Model class django_comments.models.CommentFlag doesn't declare an explicit app_label and either isn't in an application in INSTALLED_APPS or else was imported before its application was loaded. This will no longer be supported in Django 1.9.
  class CommentFlag(models.Model):

/home/datakid/.virtualenvs/df/local/lib/python2.7/site-packages/django_comments/forms.py:3: RemovedInDjango19Warning: The django.forms.util module has been renamed. Use django.forms.utils instead.
  from django.forms.util import ErrorDict

System check identified some issues:

WARNINGS:
zinnia.Entry.categories: (fields.W340) null has no effect on ManyToManyField.
zinnia.Entry.related: (fields.W340) null has no effect on ManyToManyField.
Operations to perform:
  Synchronize unmigrated apps: staticfiles, mptt, messages, django_comments, tagging
  Apply all migrations: sessions, admin, sites, auth, contenttypes, zinnia
Synchronizing apps without migrations:
  Creating tables...
    Creating table django_comments
    Creating table django_comment_flags
    Creating table tagging_tag
    Creating table tagging_taggeditem
    Running deferred SQL...
Traceback (most recent call last):
  File ""manage.py"", line 10, in <module>
    execute_from_command_line(sys.argv)
  File ""/home/datakid/.virtualenvs/df/local/lib/python2.7/site-packages/django/core/management/**init**.py"", line 338, in execute_from_command_line
    utility.execute()
  File ""/home/datakid/.virtualenvs/df/local/lib/python2.7/site-packages/django/core/management/**init**.py"", line 330, in execute
    self.fetch_command(subcommand).run_from_argv(self.argv)
  File ""/home/datakid/.virtualenvs/df/local/lib/python2.7/site-packages/django/core/management/base.py"", line 390, in run_from_argv
    self.execute(_args, *_cmd_options)
  File ""/home/datakid/.virtualenvs/df/local/lib/python2.7/site-packages/django/core/management/base.py"", line 441, in execute
    output = self.handle(_args, *_options)
  File ""/home/datakid/.virtualenvs/df/local/lib/python2.7/site-packages/django/core/management/commands/migrate.py"", line 179, in handle
    created_models = self.sync_apps(connection, executor.loader.unmigrated_apps)
  File ""/home/datakid/.virtualenvs/df/local/lib/python2.7/site-packages/django/core/management/commands/migrate.py"", line 317, in sync_apps
    cursor.execute(statement)
  File ""/home/datakid/.virtualenvs/df/local/lib/python2.7/site-packages/django/db/backends/utils.py"", line 79, in execute
    return super(CursorDebugWrapper, self).execute(sql, params)
  File ""/home/datakid/.virtualenvs/df/local/lib/python2.7/site-packages/django/db/backends/utils.py"", line 64, in execute
    return self.cursor.execute(sql, params)
  File ""/home/datakid/.virtualenvs/df/local/lib/python2.7/site-packages/django/db/utils.py"", line 97, in **exit**
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File ""/home/datakid/.virtualenvs/df/local/lib/python2.7/site-packages/django/db/backends/utils.py"", line 62, in execute
    return self.cursor.execute(sql)
django.db.utils.ProgrammingError: relation ""django_content_type"" does not exist
"
15148,rafalp,Misago,5,closed,868,0,https://api.github.com/repos/rafalp/Misago/issues/868/comments,https://github.com/rafalp/Misago/issues/868,"[{""default"": false, ""name"": ""meta"", ""url"": ""https://api.github.com/repos/rafalp/Misago/labels/meta"", ""color"": ""c2e0c6"", ""node_id"": ""MDU6TGFiZWw1MTMyODgzNjM="", ""id"": 513288363}]",Misago 0.8,"# Updating instructions

To update Misago from 0.7 to 0.8 use PIP to uninstall old Misago and install new one:

```
pip uninstall misago
pip install misago
```

> This release includes changes to database. Make sure you have backup of your data before carrying on with the update.


## Enabling profile fields 

Misago 0.8 adds new feature named ""profile fields"" that enables your users to share additional information about themselves with other users via ""details"" tab on their profiles.

To enable this feature on your forum, open your `settings.py` and find this code:

```python
import os


# Build paths inside the project like this: os.path.join(BASE_DIR, ...)
BASE_DIR = os.path.dirname(os.path.dirname(os.path.abspath(__file__)))
```

And edit it look like this:

```python
import os


# Build paths inside the project like this: os.path.join(BASE_DIR, ...)
BASE_DIR = os.path.dirname(os.path.dirname(os.path.abspath(__file__)))


# Define placeholder gettext function
# This function will mark strings in settings visible to makemessages
# without need for Django's i18n features be initialized first.
_ = lambda x: x
```


Next, insert below code in same file, preferably at it its and:

```python
# Profile fields

MISAGO_PROFILE_FIELDS = [
    {
        'name': _(""Personal""),
        'fields': [
            'misago.users.profilefields.default.FullNameField',
            'misago.users.profilefields.default.GenderField',
            'misago.users.profilefields.default.BioField',
            'misago.users.profilefields.default.LocationField',
        ],
    },
    {
        'name': _(""Contact""),
        'fields': [
            'misago.users.profilefields.default.TwitterHandleField',
            'misago.users.profilefields.default.SkypeIdField',
            'misago.users.profilefields.default.WebsiteField',
        ],
    },
    {
        'name': _(""IP address""),
        'fields': [
            'misago.users.profilefields.default.JoinIpField',
            'misago.users.profilefields.default.LastIpField',
        ],
    },
]
```

Finally, find `django.contrib.contenttypes` in your `INSTALLED_APPS`:

```python
INSTALLED_APPS = [
   # ...bunch of lines here
    'django.contrib.contenttypes',
    # ...more lines there
]
```

And insert the `'django.contrib.postgres',` line below it:

```python
INSTALLED_APPS = [
   # ...bunch of lines here
    'django.contrib.contenttypes',
    'django.contrib.postgres',
    # ...more lines there
]
```

[Here's the reference](https://github.com/rafalp/Misago/blob/master/misago/project_template/project_name/settings.py#L169) of `INSTALLED_APPS` including this change if you need one.


## Wrapping up the update

After installing Misago 0.8 from PIP and modifying your `settings.py`, you should run the`python manage.py migrate` to update your database and `python manage.py collectstatic` for your site to update your static files to their latest versions.

If you'll encounter database permission error during migration, you'll need to elevate your database's user to superuser in order for Misago's migrations to enable the `hstore` extension for your database. {lease see the [documentation](https://rafalp.gitbooks.io/misago/setup/#about-the-djangodbutilsprogrammingerror-permission-denied-to-create-extension-errors-during-database-migration) short example on how to do this.


# New langauge

Misago 0.8 is first release that contains (nearly complete) translation for other language, with 98% of language strings translated for simplified chinese. To enable simplified chinese language on your site, edit your `settings.py`, find `LANGUAGE_CODE = 'en_us'` in it and edit it to `LANGUAGE_CODE = 'zh_Hans'`.

# New features

* #865 - User profiles fields.
* #876 - Included translation files for simplified chinese with 98% of language strings translated.

# Theme changes

* #875 - Tweaked the spacing between elements in posts content, making header-induced breaks more noticeable.

# Bugs fixed

* #869 - Goto views computed the target page incorrectly.
* #870 - Tweaked margins on row in post's changelog header so horizontal scrollbar no longer shows up.
* #871 - Invalid captcha would not interrupt the registration process, thus allowing users to register accounts after entering invalid answer to Q&A captcha.
* #876 - Moment.js translation was resolved incorrectly for some language codes, like `zh_Hans`.
* #877 - Approve thread moderation action didn't update its `has_unapproved_posts` flag correctly.

# Implementation and API changes

*none*

# Documentation changes

* #865 - Documentation for user profile fields feature.
* #872 - Small spelling corrections in setup and maintenance part of the docs."
15179,rafalp,Misago,5,closed,835,0,https://api.github.com/repos/rafalp/Misago/issues/835/comments,https://github.com/rafalp/Misago/pull/835,"[{""default"": false, ""name"": ""meta"", ""url"": ""https://api.github.com/repos/rafalp/Misago/labels/meta"", ""color"": ""c2e0c6"", ""node_id"": ""MDU6TGFiZWw1MTMyODgzNjM="", ""id"": 513288363}]",Misago 0.6,"# Updating instructions

Misago 0.6 bumps all dependencies to their current versions. This makes it preferable to perform its installation on fresh virtual environment.

```
virtualenv venv
pip install misago --pre
```

## `MISAGO_JS_CATALOG_PACKAGES` has been deprecated.

Django 1.10 deprecates support for the `javascript_catalog` view, superseding it with the `JavaScriptCatalog`. Because of this Misago drops it's own `misago.core.views.javascript_catalog` view.

Instead, as part of migration you need to edit your site's `urls.py` to include new `JavaScriptCatalog` view.

Add following imports:

```python

from django.utils import timezone
from django.views.decorators.cache import cache_page
from django.views.decorators.http import last_modified
from django.views.i18n import JavaScriptCatalog
```

Delete following import:

```python
from misago.core.views import javascript_catalog
```

Finally, edit line defining the view:

```python
    # Javascript translations
    url(r'^django-i18n.js$', javascript_catalog, name='django-i18n'),
```

To following:

```python
# Javascript translations
    url(
        r'^django-i18n.js$',
        cache_page(86400 * 2, key_prefix='misagojsi18n')(
            last_modified(lambda req, **kw: timezone.now())(
                JavaScriptCatalog.as_view(
                    packages=['misago'],
                ),
            ),
        ),
        name='django-i18n'
    ),
```

## The way that Django Admin URL's were included in `urlconf` has changed

If you have enabled django admin in your Misago site via uncommenting it in default `urls.py`, you'll need to edit the line for future compatibility with Django 2.0.

Find in your `urls.py`:

```python
url(r'^django-admin/', include(admin.site.urls)),
```

And change it to:

```python
url(r'^django-admin/', admin.site.urls),
```

## About the `could not open extension control file` error during database migration

If you run into an error that looks like following:

    django.db.utils.OperationalError: could not open extension control file ""/usr/share/postgresql/9.4/extension/btree_gin.control"": No such file or directory

This means you'll need to install the `postgresql-contrib` package that includes extensions for PostgreSQL:

    sudo apt-get install postgresql-contrib


## About the `django.db.utils.ProgrammingError: permission denied to create extension ""btree_gin""` error during database migration

Only superusers may enable extensions in your database. To solve this issue, you may grant your database user super user privileges for duration of the installation:

    # switch to postgresql user and start psql tool
    sudo -u postgres psql postgres

    # make your database user the superuser
    alter role user_name superuser;

    # after installation is complete run below query in the psql
    # to remove super user privileges from your database user 
    alter role user_name nosuperuser;

# New features

* #848: Added OpenGraph tags to pages for sharing in social media.

# Theme changes

* #836 - Additional category styles.
* #845 - Made user ranks border less dominant.
* #847 - Made difference between default and disabled buttons more noticeable.
* #851 - Wrapped fallback categories list on thread view in noscript so it'll won't blink before JS kicks in.
* #852 - Removed gradients from iconography.

# Bugs fixed

* #834 - Horizontally aligned header stats items in Safari.
* #842 - Changed css class on team role created by migration to from ""team"" to ""primary"".
* #846 - Fixed check version tool in admin.
* #850 - Icon and colorful badge didn't appear in user's menu if user has unread private threads.
* #853 - Fixed and cleaned categories custom css class handling on threads and thread views.
* #854 - Switched the order of captcha and form validation around in registration form, so invalid form submission will not invalidate reCaptcha token.

# Implementation and API changes

* #653 - Ranks are translated using language specified in `settings.py` when Misago is installed. If permission roles names have translation for active language, they'll be displayed translated in the admin UI.
* #837 - Unified all models link serialization to `url` and `api` props.
* #838 - Updated Django version to Django 1.11 LTS.
* #839 - Updated all dependencies to their latest versions.
* #843 - Forum search uses GIN index for faster search. It also limits results number to five pages of latest items that meet search criteria for performance reasons.
* #855 - Deleted `misagodbrelations` util.
* #857 - Misago will now no longer strip whitespaces from around the passwords. This puts its password handling behaviour in compliance with `django.contrib.auth`.
* #844 -The `CreatePartialIndex` and `CreatePartialCompositeIndex` utils have been superseded with new `PgPartialIndex` that uses custom index mechanic introduced in Django 1.11

# Documentation changes

* #838 - Removed `MISAGO_JS_CATALOG_PACKAGES` from settings doc.
* #853 - Documented additional CSS classes available on thread and category views when custom CSS class is set on category.
"
16267,Tivix,django-rest-auth,4,closed,105,1,https://api.github.com/repos/Tivix/django-rest-auth/issues/105/comments,https://github.com/Tivix/django-rest-auth/issues/105,[],Python3: reset password doesn't work when user model has UUID PK,"Reset password function doesn't work with user model has  UUID as PK. 

```
 [25/Sep/2015 14:51:22] ERROR [django.request:256] Internal Server Error: /api/rest- auth/password/reset/confirm/
 Traceback (most recent call last):
   File ""venv/lib/python3.4/site-packages/django/db/backends/utils.py"", line 64, in execute
     return self.cursor.execute(sql, params)
 psycopg2.ProgrammingError: operator does not exist: uuid = bytea
 LINE 1: ...customauth_myuser"" WHERE ""customauth_myuser"".""id"" = '\x34353...
```

It's possible this is related to Python3 and maybe PostgreSQL database, problematic code is in serializers.py:

```
       # ERROR: uid is bytestring and raises error with postgresql
       ... 
       uid = uid_decoder(attrs['uid'])
       self.user = UserModel._default_manager.get(pk=uid)
       ...

       # FIX: making it string and error is gone
        ....
        from django.utils.encoding import force_text
        uid = force_text(uid_decoder(attrs['uid']))
        self.user = UserModel._default_manager.get(pk=uid)
        ...
```
"
16469,vitorfs,bootcamp,3,closed,85,4,https://api.github.com/repos/vitorfs/bootcamp/issues/85/comments,https://github.com/vitorfs/bootcamp/issues/85,[],What is this error when I try create a new account??,"```
Environment:


Request Method: POST
Request URL: http://localhost:8000/signup/

Django Version: 1.10.4
Python Version: 3.5.3
Installed Applications:
('django.contrib.auth',
 'django.contrib.contenttypes',
 'django.contrib.sessions',
 'django.contrib.messages',
 'django.contrib.staticfiles',
 'django.contrib.humanize',
 'bootcamp.activities',
 'bootcamp.articles',
 'bootcamp.authentication',
 'bootcamp.core',
 'bootcamp.feeds',
 'bootcamp.messenger',
 'bootcamp.questions',
 'bootcamp.search')
Installed Middleware:
('django.contrib.sessions.middleware.SessionMiddleware',
 'django.middleware.common.CommonMiddleware',
 'django.middleware.csrf.CsrfViewMiddleware',
 'django.contrib.auth.middleware.AuthenticationMiddleware',
 'django.middleware.locale.LocaleMiddleware',
 'django.contrib.messages.middleware.MessageMiddleware',
 'django.middleware.clickjacking.XFrameOptionsMiddleware')



Traceback:

File ""/usr/local/lib/python3.5/site-packages/django/db/backends/utils.py"" in execute
  64.                 return self.cursor.execute(sql, params)

The above exception (relation ""auth_user"" does not exist
LINE 1: SELECT (1) AS ""a"" FROM ""auth_user"" WHERE UPPER(""auth_user"".""...
                               ^
) was the direct cause of the following exception:

File ""/usr/local/lib/python3.5/site-packages/django/core/handlers/exception.py"" in inner
  39.             response = get_response(request)

File ""/usr/local/lib/python3.5/site-packages/django/core/handlers/base.py"" in _legacy_get_response
  249.             response = self._get_response(request)

File ""/usr/local/lib/python3.5/site-packages/django/core/handlers/base.py"" in _get_response
  187.                 response = self.process_exception_by_middleware(e, request)

File ""/usr/local/lib/python3.5/site-packages/django/core/handlers/base.py"" in _get_response
  185.                 response = wrapped_callback(request, *callback_args, **callback_kwargs)

File ""/bootcamp/bootcamp/authentication/views.py"" in signup
  12.         if not form.is_valid():

File ""/usr/local/lib/python3.5/site-packages/django/forms/forms.py"" in is_valid
  169.         return self.is_bound and not self.errors

File ""/usr/local/lib/python3.5/site-packages/django/forms/forms.py"" in errors
  161.             self.full_clean()

File ""/usr/local/lib/python3.5/site-packages/django/forms/forms.py"" in full_clean
  370.         self._clean_fields()

File ""/usr/local/lib/python3.5/site-packages/django/forms/forms.py"" in _clean_fields
  388.                     value = field.clean(value)

File ""/usr/local/lib/python3.5/site-packages/django/forms/fields.py"" in clean
  160.         self.run_validators(value)

File ""/usr/local/lib/python3.5/site-packages/django/forms/fields.py"" in run_validators
  143.                 v(value)

File ""/bootcamp/bootcamp/authentication/forms.py"" in UniqueUsernameIgnoreCaseValidator
  51.     if User.objects.filter(username__iexact=value).exists():

File ""/usr/local/lib/python3.5/site-packages/django/db/models/query.py"" in exists
  660.             return self.query.has_results(using=self.db)

File ""/usr/local/lib/python3.5/site-packages/django/db/models/sql/query.py"" in has_results
  494.         return compiler.has_results()

File ""/usr/local/lib/python3.5/site-packages/django/db/models/sql/compiler.py"" in has_results
  806.         return bool(self.execute_sql(SINGLE))

File ""/usr/local/lib/python3.5/site-packages/django/db/models/sql/compiler.py"" in execute_sql
  835.             cursor.execute(sql, params)

File ""/usr/local/lib/python3.5/site-packages/django/db/backends/utils.py"" in execute
  79.             return super(CursorDebugWrapper, self).execute(sql, params)

File ""/usr/local/lib/python3.5/site-packages/django/db/backends/utils.py"" in execute
  64.                 return self.cursor.execute(sql, params)

File ""/usr/local/lib/python3.5/site-packages/django/db/utils.py"" in __exit__
  94.                 six.reraise(dj_exc_type, dj_exc_value, traceback)

File ""/usr/local/lib/python3.5/site-packages/django/utils/six.py"" in reraise
  685.             raise value.with_traceback(tb)

File ""/usr/local/lib/python3.5/site-packages/django/db/backends/utils.py"" in execute
  64.                 return self.cursor.execute(sql, params)

Exception Type: ProgrammingError at /signup/
Exception Value: relation ""auth_user"" does not exist
LINE 1: SELECT (1) AS ""a"" FROM ""auth_user"" WHERE UPPER(""auth_user"".""...
                               ^

```"
10814,django-oscar,django-oscar,9,closed,2220,0,https://api.github.com/repos/django-oscar/django-oscar/issues/2220/comments,https://github.com/django-oscar/django-oscar/pull/2220,[],Initial Update,"
This is my first visit to this fine repo so I have bundled all updates in a single pull request to make things easier for you to merge. 

*Close this pull request and delete the branch if you want me to start with single pull requests right away*

Here's the executive summary:

## Updates
Here's a list of all the updates bundled in this pull request. I've added some links to make it easier for you to find all the information you need.
<table align=""center"">

<tr>
<td><b>django-debug-toolbar</b></td>
<td align=""center"">1.5.0</td>
<td align=""center"">&raquo;</td>
<td align=""center"">1.6</td>
<td>
     <a href=""http://pypi.python.org/pypi/django-debug-toolbar"">PyPI</a> | <a href=""https://pyup.io/changelogs/django-debug-toolbar/"">Changelog</a> | <a href=""https://github.com/jazzband/django-debug-toolbar"">Repo</a> 

</td>

<tr>
<td><b>django-extensions</b></td>
<td align=""center"">1.6.1</td>
<td align=""center"">&raquo;</td>
<td align=""center"">1.7.6</td>
<td>
     <a href=""http://pypi.python.org/pypi/django-extensions"">PyPI</a> | <a href=""https://pyup.io/changelogs/django-extensions/"">Changelog</a> | <a href=""http://github.com/django-extensions/django-extensions"">Repo</a> | <a href=""http://pythonhosted.org/django-extensions/"">Docs</a> 

</td>

<tr>
<td><b>Werkzeug</b></td>
<td align=""center"">0.9.6</td>
<td align=""center"">&raquo;</td>
<td align=""center"">0.11.15</td>
<td>
     <a href=""http://pypi.python.org/pypi/Werkzeug"">PyPI</a> | <a href=""https://pyup.io/changelogs/werkzeug/"">Changelog</a> | <a href=""http://werkzeug.pocoo.org/"">Homepage</a> 

</td>

<tr>
<td><b>Whoosh</b></td>
<td align=""center"">2.6.0</td>
<td align=""center"">&raquo;</td>
<td align=""center"">2.7.4</td>
<td>
     <a href=""http://pypi.python.org/pypi/Whoosh"">PyPI</a> | <a href=""http://bitbucket.org/mchaput/whoosh"">Repo</a> | <a href=""http://pythonhosted.org/Whoosh/"">Docs</a> 

</td>

<tr>
<td><b>pysolr</b></td>
<td align=""center"">3.2.0</td>
<td align=""center"">&raquo;</td>
<td align=""center"">3.6.0</td>
<td>
     <a href=""http://pypi.python.org/pypi/pysolr"">PyPI</a> | <a href=""https://pyup.io/changelogs/pysolr/"">Changelog</a> | <a href=""https://github.com/django-haystack/pysolr/"">Repo</a> 

</td>

<tr>
<td><b>requests</b></td>
<td align=""center"">2.10.0</td>
<td align=""center"">&raquo;</td>
<td align=""center"">2.13.0</td>
<td>
     <a href=""http://pypi.python.org/pypi/requests"">PyPI</a> | <a href=""https://pyup.io/changelogs/requests/"">Changelog</a> | <a href=""http://python-requests.org"">Homepage</a> 

</td>

<tr>
<td><b>uWSGI</b></td>
<td align=""center"">2.0.13.1</td>
<td align=""center"">&raquo;</td>
<td align=""center"">2.0.14</td>
<td>
     <a href=""http://pypi.python.org/pypi/uWSGI"">PyPI</a> | <a href=""UNKNOWN"">Homepage</a> 

</td>

<tr>
<td><b>pyprof2calltree</b></td>
<td align=""center"">1.3.2</td>
<td align=""center"">&raquo;</td>
<td align=""center"">1.4.0</td>
<td>
     <a href=""http://pypi.python.org/pypi/pyprof2calltree"">PyPI</a> | <a href=""http://github.com/pwaller/pyprof2calltree/"">Repo</a> 

</td>

<tr>
<td><b>PyMySQL</b></td>
<td align=""center"">0.6.2</td>
<td align=""center"">&raquo;</td>
<td align=""center"">0.7.9</td>
<td>
     <a href=""http://pypi.python.org/pypi/PyMySQL"">PyPI</a> | <a href=""https://pyup.io/changelogs/pymysql/"">Changelog</a> | <a href=""https://github.com/PyMySQL/PyMySQL/"">Repo</a> 

</td>

<tr>
<td><b>psycopg2</b></td>
<td align=""center"">2.4.5</td>
<td align=""center"">&raquo;</td>
<td align=""center"">2.6.2</td>
<td>
     <a href=""http://pypi.python.org/pypi/psycopg2"">PyPI</a> | <a href=""https://pyup.io/changelogs/psycopg2/"">Changelog</a> | <a href=""http://initd.org/psycopg/"">Homepage</a> | <a href=""http://pythonhosted.org/psycopg2/"">Docs</a> 

</td>

</tr>
</table>



## Changelogs


### django-debug-toolbar 1.5.0 -> 1.6

>### 1.6

>---

>The debug toolbar was adopted by jazzband.

>Removed features
>~~~~~~~~~~~~~~~~

>* Support for automatic setup has been removed as it was frequently
>  problematic. Installation now requires explicit setup. The
>  ``DEBUG_TOOLBAR_PATCH_SETTINGS`` setting has also been removed as it is now
>  unused. See the :doc:`installation documentation &lt;installation&gt;` for details.

>Bugfixes
>~~~~~~~~

>* The ``DebugToolbarMiddleware`` now also supports Django 1.10&#39;s ``MIDDLEWARE``
>  setting.







### django-extensions 1.6.1 -> 1.7.6

>### 1.7.6

>-----

>Changes:
> - Improvement: sqldiff, ignore proxy models in diff (with cli option to include them if wanted)




>### 1.7.5

>-----

>Changes:
> - New: ForeignKeyAutocompleteAdmin, Add autocomplete for inline model admins
> - Improvement: graph_models, Rewrite modelviz module from method to class based processor
> - Improvement: db fields, make MAX_UNIQUE_QUERY_ATTEMPTS configurable per field and via settings
> - Improvement: runserver_plus, Added nopin option to disable pin
> - Fix: graph_models, Support PyDot 1.2.0 and higher
> - Fix: shell_plus, Fix that aliases from SHELL_PLUS_MODEL_ALIASES were not applied
> - Removed: validate_templatetags, remove support for pre django-1.5 style {% url %} tags
> - Cleanup: removing support for end-of-life Python 3.2
> - Docs: simplify installation instructions
> - Docs: fix example for NOTEBOOK_ARGUMENTS
> - Docs: Remove extraneous &#39;}&#39; characters from shell_plus docs




>### 1.7.4

>-----

>Changes:
> - Improvement: show_urls, support --no-color option
> - Fix: notes, Fix reading templates setting after django 1.8
> - Fix: create_app, Fixed typo in deprecation warning
> - Fix: shell_plus, Use new location for url reverse import
> - Docs: some commands where missing from the docs
> - Docs: runscript, added documentation for --traceback




>### 1.7.3

>-----

>Changes:
> - Fix: ForeignKeySearchInput, fix bug with constructing search_path urls
> - Docs: runscript, fix runscript example
> - Deprecation: JSONField, Django now includes JSONField our field is now deprecated




>### 1.7.2

>-----

>Changes:
> - Fix: passwd, Update passwd command up to Django&gt;=1.8
> - Improvement: shell_plus, add settings.SHELL_PLUS_PRINT_SQL config option
> - Improvement: shell_plus, allow to specifies the connection file to use if using the --kernel option




>### 1.7.1

>-----

>Changes:
> - Fix: sqldiff, fix optional app_label arguments
> - Fix: runscript, remove args from command class
> - Doc: runscript, remove = from --script-args example




>### 1.7.0

>-----

>The &quot;Letting go of the past&quot; release.

>From this moment on Django Extensions requires version 1.8 or higher.
>A lot of work has been done to remove old backwards compatibility code and
>make sure that Django Extensions uses the current Django API&#39;s. This should
>result in better and easier to maintain code (and hopefully less bugs :).

>This release touches a lot of code if you have any issues please report them
>at https://github.com/django-extensions/django-extensions/issues

>We still need more tests to make sure we don&#39;t break people&#39;s projects when
>refactoring. If you have some spare time please contribute tests !

>Changes:
> - Cleanup: removing backwards compatibility hacks for (now) unsupported versions of Django
> - Cleanup: use six instead of home grown functions
> - Fix: AutoSlugField, allow_duplicates didn&#39;t set slug value to model instance
> - Fix: MongoDB fields, verbose_name on mongoengine fields does not seem to be supported
> - Fix: MongoDB fields, fix relative import problem with json.py
> - Improvement: Start using pre-commit
> - Improvement: syncdata, Replace custom transaction logic with transaction.atomic
> - Improvement: Django 1.10, use from_db_value instead of models.SubfieldBase
> - Improvement: print_user_session, support for non standard user model
> - Improvement: widont, tests to work with py2 and py3
> - Improvement: runserver_plus, prevent 2nd reload of debugger on runserver_plus
> - Improvement: runserver_plus, prevent killing the server when request.META values are evaluated
> - Improvement: reset_db, add argument to make closing sessions optional
> - Improvement: print_settings, Fix positional arguments
> - Improvement: runscript, migrate to argparse and add_arguments
> - Improvement: graph_models, do not rely on .models_module for inclusion in output
> - Improvement: jsonfield, fix issues with mutable default
> - Docs: Convert readthedocs links for their .org -&gt; .io migration




>### 1.6.7

>-----

>Changes:
> - Fix: describe_form, fix No module named &#39;django.db.models.loading&#39; error
> - Improvement: shell_plus,  Add a setting to prefix all models in an application 887
> - Improvement: pipchecker, check for requirements-{dev,prod}.txt as well
> - Docs: pipchecker, update documentation



>### 1.6.6

>-----

>Changes:
> - Fix: admin_generator, fix for using all apps in Django &lt;1.7
> - Fix: dump_script, fix for using all apps in Django &lt;1.7
> - Fix: UniqueFieldMixin, resolve get_fields_with_model deprecation Django 1.10
> - Fix: runprofileserver, Fix call grind format to enable source code navigation in qcachegrind.
> - Docs: runserver_plus, add a little note about the debugger PIN.




>### 1.6.5

>-----

>Bumped version number since PyPi returns 500 errors while uploading packages :(




>### 1.6.4

>-----

>Changes:
> - Fix: jobs cache_cleanup, use `caches` instead of deprecated `get_cache`
> - Fix: ModificationDateTimeField, missing default value for `update_modified`
> - Fix: modelviz, use get_model_compat and look up missing app_label
> - Fix: modelviz, use get_models_for_app instead of get_models_compat
> - Fix: dumpscript, use `list_app_labels` instead of `get_apps` when no app_labels are given
> - Improvement: compat.py, move code from try to else block for Django 1.7+
> - Docstring: get_models_for_app, clearify argument




>### 1.6.3

>-----

>Bumped version number for incomplete PyPi uplaod



>### 1.6.2

>-----

>The long over due release :-)

>Changes:
> - Fix: JsonFields, do not parse floats as decimals. This fixes bugs that causes
>        them to be returned as strings after multiple saves. Note that this can
>        be backwards incompatible !
> - Fix: use add_arguments() instead of option_list (Django 1.10)
> - Fix: create_command, Django 1.9 fixes
> - Fix: create_jobs, Django 1.9 fixes
> - Fix: RandomCharField, when not unique get the first value from the generator
> - Fix: graph_models, render() must be called with a dict
> - Fix: graph_models, use force_bytes fixes command for Python 3
> - Fix: graph_models, fix django 1.6 compatibility for strings defined relation
> - Fix: graph_models, fix settings.GRAPH_MODELS breaking the command
> - Fix: graph_models, add support for lazy relationships
> - Fix: ForeignKeyAutocompleteAdmin, url_patterns is just a list (Django 1.9+)
> - Fix: ForeignKeySearchInput, use url reversing instead of hardcoded paths
> - Fix: find_template, Fix for Django 1.8+
> - Fix: admin_generator, incompatible &quot;default&quot; identifier raising TypeError
> - Improvement: show_urls, add json and pretty-json formatting
> - Improvement: runserver_plus, add support for whitenoise
> - Improvement: ModificationDateTimeField, add parameter to preserve timestamps on save
> - Improvement: runprofileserver, raise command error when hotspot is not available
> - Improvement: reset_db, better parsing of mysql cnf file
> - Improvement: restored coverage for Python 3.2
> - Improvement: pep8 fixes, remove unused shims &amp; imports &amp; commented code
> - Improvement: graph_models, JSON output
> - Improvement: graph_models, add wildcard filters
> - Docs: removed text on donations, the hope was that we could generate some
>         funds to have more consistent development and outreach.
> - Docs: runserver_plus, added some documentation about LOGGING
> - Docs: runscript, update documentation to match Django tutorial for Django 1.8+
> - Docs: runprofileserver, add documentation on profiler choices
> - Docs: update_permissions, add basic documentation for command








### Werkzeug 0.9.6 -> 0.11.15

>### 0.11.14

>---------------

>Released on December 30th 2016.

>- Check if platform can fork before importing ``ForkingMixIn``, raise exception
>  when creating ``ForkingWSGIServer`` on such a platform, see PR ``999``.



>### 0.11.13

>---------------

>Released on December 26th 2016.

>- Correct fix for the reloader issuer on certain Windows installations.



>### 0.11.12

>---------------

>Released on December 26th 2016.

>- Fix more bugs in multidicts regarding empty lists. See ``1000``.
>- Add some docstrings to some `EnvironBuilder` properties that were previously
>  unintentionally missing.
>- Added a workaround for the reloader on windows.



>### 0.11.11

>---------------

>Released on August 31st 2016.

>- Fix JSONRequestMixin for Python3. See 731
>- Fix broken string handling in test client when passing integers. See 852
>- Fix a bug in ``parse_options_header`` where an invalid content type
>  starting with comma or semi-colon would result in an invalid return value,
>  see issue ``995``.
>- Fix a bug in multidicts when passing empty lists as values, see issue
>  ``979``.
>- Fix a security issue that allows XSS on the Werkzeug debugger. See ``1001``.



>### 0.11.10

>---------------

>Released on May 24th 2016.

>- Fixed a bug that occurs when running on Python 2.6 and using a broken locale.
>  See pull request 912.
>- Fixed a crash when running the debugger on Google App Engine. See issue 925.
>- Fixed an issue with multipart parsing that could cause memory exhaustion.



>### 0.11.9

>--------------

>Released on April 24th 2016.

>- Corrected an issue that caused the debugger not to use the
>  machine GUID on POSIX systems.
>- Corrected a Unicode error on Python 3 for the debugger&#39;s
>  PIN usage.
>- Corrected the timestamp verification in the pin debug code.
>  Without this fix the pin was remembered for too long.



>### 0.11.8

>--------------

>Released on April 15th 2016.

>- fixed a problem with the machine GUID detection code on OS X
>  on Python 3.



>### 0.11.7

>--------------

>Released on April 14th 2016.

>- fixed a regression on Python 3 for the debugger.



>### 0.11.6

>--------------

>Released on April 14th 2016.

>- werkzeug.serving: Still show the client address on bad requests.
>- improved the PIN based protection for the debugger to make it harder to
>  brute force via trying cookies.  Please keep in mind that the debugger
>  *is not intended for running on production environments*
>- increased the pin timeout to a week to make it less annoying for people
>  which should decrease the chance that users disable the pin check
>  entirely.
>- werkzeug.serving: Fix broken HTTP_HOST when path starts with double slash.



>### 0.11.5

>--------------

>Released on March 22nd 2016.

>- werkzeug.serving: Fix crash when attempting SSL connection to HTTP server.



>### 0.11.4

>--------------

>Released on February 14th 2016.

>- Fixed werkzeug.serving not working from -m flag.
>- Fixed incorrect weak etag handling.



>### 0.11.3

>--------------

>Released on December 20th 2015.

>- Fixed an issue with copy operations not working against
>  proxies.
>- Changed the logging operations of the development server to
>  correctly log where the server is running in all situations
>  again.
>- Fixed another regression with SSL wrapping similar to the
>  fix in 0.11.2 but for a different code path.



>### 0.11.2

>--------------

>Released on November 12th 2015.

>- Fix inheritable sockets on Windows on Python 3.
>- Fixed an issue with the forking server not starting any longer.
>- Fixed SSL wrapping on platforms that supported opening sockets
>  by file descriptor.
>- No longer log from the watchdog reloader.
>- Unicode errors in hosts are now better caught or converted into
>  bad request errors.



>### 0.11.1

>--------------

>Released on November 10th 2015.

>- Fixed a regression on Python 3 in the debugger.



>### 0.11

>------------

>Released on November 8th 2015, codename Gleisbaumaschine.

>- Added ``reloader_paths`` option to ``run_simple`` and other functions in
>  ``werkzeug.serving``. This allows the user to completely override the Python
>  module watching of Werkzeug with custom paths.
>- Many custom cached properties of Werkzeug&#39;s classes are now subclasses of
>  Python&#39;s ``property`` type (issue ``616``).
>- ``bind_to_environ`` now doesn&#39;t differentiate between implicit and explicit
>  default port numbers in ``HTTP_HOST`` (pull request ``204``).
>- ``BuildErrors`` are now more informative. They come with a complete sentence
>  as error message, and also provide suggestions (pull request ``691``).
>- Fix a bug in the user agent parser where Safari&#39;s build number instead of
>  version would be extracted (pull request ``703``).
>- Fixed issue where RedisCache set_many was broken for twemproxy, which doesn&#39;t
>  support the default MULTI command (pull request ``702``).
>- ``mimetype`` parameters on request and response classes are now always
>  converted to lowercase.
>- Changed cache so that cache never expires if timeout is 0. This also fixes
>  an issue with redis setex (issue ``550``)
>- Werkzeug now assumes ``UTF-8`` as filesystem encoding on Unix if Python
>  detected it as ASCII.
>- New optional `has` method on caches.
>- Fixed various bugs in `parse_options_header` (pull request ``643``).
>- If the reloader is enabled the server will now open the socket in the parent
>  process if this is possible.  This means that when the reloader kicks in
>  the connection from client will wait instead of tearing down.  This does
>  not work on all Python versions.
>- Implemented PIN based authentication for the debugger.  This can optionally
>  be disabled but is discouraged.  This change was necessary as it has been
>  discovered that too many people run the debugger in production.
>- Devserver no longer requires SSL module to be installed.



>### 0.10.5

>--------------

>(bugfix release, release date yet to be decided)

>- Reloader: Correctly detect file changes made by moving temporary files over
>  the original, which is e.g. the case with PyCharm (pull request ``722``).
>- Fix bool behavior of ``werkzeug.datastructures.ETags`` under Python 3 (issue
>  ``744``).



>### 0.10.4

>--------------

>(bugfix release, released on March 26th 2015)

>- Re-release of 0.10.3 with packaging artifacts manually removed.



>### 0.10.3

>--------------

>(bugfix release, released on March 26th 2015)

>- Re-release of 0.10.2 without packaging artifacts.



>### 0.10.2

>--------------

>(bugfix release, released on March 26th 2015)

>- Fixed issue where ``empty`` could break third-party libraries that relied on
>  keyword arguments (pull request ``675``)
>- Improved ``Rule.empty`` by providing a ```get_empty_kwargs`` to allow setting
>  custom kwargs without having to override entire ``empty`` method. (pull
>  request ``675``)
>- Fixed ```extra_files``` parameter for reloader to not cause startup
>  to crash when included in server params
>- Using `MultiDict` when building URLs is now not supported again. The behavior
>  introduced several regressions.
>- Fix performance problems with stat-reloader (pull request ``715``).



>### 0.10.1

>--------------

>(bugfix release, released on February 3rd 2015)

>- Fixed regression with multiple query values for URLs (pull request ``667``).
>- Fix issues with eventlet&#39;s monkeypatching and the builtin server (pull
>  request ``663``).



>### 0.10

>------------

>Released on January 30th 2015, codename Bagger.

>- Changed the error handling of and improved testsuite for the caches in
>  ``contrib.cache``.
>- Fixed a bug on Python 3 when creating adhoc ssl contexts, due to `sys.maxint`
>  not being defined.
>- Fixed a bug on Python 3, that caused
>  :func:`~werkzeug.serving.make_ssl_devcert` to fail with an exception.
>- Added exceptions for 504 and 505.
>- Added support for ChromeOS detection.
>- Added UUID converter to the routing system.
>- Added message that explains how to quit the server.
>- Fixed a bug on Python 2, that caused ``len`` for
>  :class:`werkzeug.datastructures.CombinedMultiDict` to crash.
>- Added support for stdlib pbkdf2 hmac if a compatible digest
>  is found.
>- Ported testsuite to use ``py.test``.
>- Minor optimizations to various middlewares (pull requests ``496`` and
>  ``571``).
>- Use stdlib ``ssl`` module instead of ``OpenSSL`` for the builtin server
>  (issue ``434``). This means that OpenSSL contexts are not supported anymore,
>  but instead ``ssl.SSLContext`` from the stdlib.
>- Allow protocol-relative URLs when building external URLs.
>- Fixed Atom syndication to print time zone offset for tz-aware datetime
>  objects (pull request ``254``).
>- Improved reloader to track added files and to recover from broken
>  sys.modules setups with syntax errors in packages.
>- ``cache.RedisCache`` now supports arbitrary ``**kwargs`` for the redis
>  object.
>- ``werkzeug.test.Client`` now uses the original request method when resolving
>  307 redirects (pull request ``556``).
>- ``werkzeug.datastructures.MIMEAccept`` now properly deals with mimetype
>  parameters (pull request ``205``).
>- ``werkzeug.datastructures.Accept`` now handles a quality of ``0`` as
>  intolerable, as per RFC 2616 (pull request ``536``).
>- ``werkzeug.urls.url_fix`` now properly encodes hostnames with ``idna``
>  encoding (issue ``559``). It also doesn&#39;t crash on malformed URLs anymore
>  (issue ``582``).
>- ``werkzeug.routing.MapAdapter.match`` now recognizes the difference between
>  the path ``/`` and an empty one (issue ``360``).
>- The interactive debugger now tries to decode non-ascii filenames (issue
>  ``469``).
>- Increased default key size of generated SSL certificates to 1024 bits (issue
>  ``611``).
>- Added support for specifying a ``Response`` subclass to use when calling
>  :func:`~werkzeug.utils.redirect`\ .
>- ``werkzeug.test.EnvironBuilder`` now doesn&#39;t use the request method anymore
>  to guess the content type, and purely relies on the ``form``, ``files`` and
>  ``input_stream`` properties (issue ``620``).
>- Added Symbian to the user agent platform list.
>- Fixed make_conditional to respect automatically_set_content_length
>- Unset ``Content-Length`` when writing to response.stream (issue ``451``)
>- ``wrappers.Request.method`` is now always uppercase, eliminating
>  inconsistencies of the WSGI environment (issue ``647``).
>- ``routing.Rule.empty`` now works correctly with subclasses of ``Rule`` (pull
>  request ``645``).
>- Made map updating safe in light of concurrent updates.
>- Allow multiple values for the same field for url building (issue ``658``).



>### 0.9.7

>-------------

>- Fixed uri_to_iri() not re-encoding hashes in query string parameters.







### pysolr 3.2.0 -> 3.6.0

>### 3.5.0

>-------------------

>New
>~~~

>- Expose the full Solr response in `Results` [Chris Adams]

>  This makes life easier for anyone using custom extensions by
>  removing the need to create a `Results` subclass just to get
>  access to an extra dictionary key.

>- More flexible control of request handlers. [nuarhu]

>  This allows configuring the default search handler and overriding it for every query method

>  Thanks to nuarhu for the patch

>- Start maintaining a changelog from gitchangelog. [Chris Adams]

>- Overwrite flag for Solr.add (closes 182) [Chris Adams]

>  Thanks to robinsonkwame for the patch

>- SolrCloud support (see 138) [Chris Adams]

>  This optionally adds support for SolrCloud using the Kazoo client
>  library.

>  Thanks to upayavira

>Other
>~~~~~

>- V3.5.0. [Chris Adams]

>- Merge pull request 192 from dhruvpathak/optimize_commit_flag. [Chris
>  Adams]

>  chg: `optimize()` also accepts `commit` flag

>- Included commit flag in optimize() to let optimize call run with or
>  without commit. [dhruv.pathak]

>- Merge pull request 188 from TigorC/master. [Chris Adams]

>  Removed py26 from tox.ini

>- Removed py26 from tox.ini. [Igor Tokarev]

>- Tests: avoid timeout-based CI failures. [Chris Adams]

>  These caused sporadic CI build failures and weren't
>  otherwise testing actual functionality since we don't have a
>  test which does something like SIGSTOP the test Solr server
>  long enough to confirm a timeout.

>  We'll confirm that the timeout is passed through but
>  otherwise use the defaults.

>- Update Travis CI badge in the README. [Chris Adams]

>- Merge pull request 184 from atuljangra/master. [Chris Adams]

>  Correct documentation for `_update`

>  Thanks to atuljangra for the patch!

>- Merge branch &#39;master&#39; of https://github.com/atuljangra/pysolr.
>  [atuljangra]

>- Misleading comments. [atuljangra]

>- Travis: use build matrix for regular and SolrCloud tests. [Chris
>  Adams]

>- Test_cloud: remove dead code. [Chris Adams]

>  The first instance of test_custom_results_class was broken because it
>  used the wrong port but this wasn't failing because the same method name
>  was redefined further down in the file and that used the updated port
>  config.

>- PEP-8. [Chris Adams]

>- ZooKeeper: log unexpected format changes to watched aliases. [Chris
>  Adams]

>- ZooKeeper: restore JSON blob decoding. [Chris Adams]

>- PEP-8. [Chris Adams]

>- PEP-8 unused imports. [Chris Adams]

>- PEP-8. [Chris Adams]

>- PEP-8. [Chris Adams]

>- PEP-8. [Chris Adams]

>- Setup.cfg: add pep8 and isort config. [Chris Adams]

>- Tear down requests.Session instance at close. [Chris Adams]

>  This avoids log-spew on modern unittest implementations
>  which report unclosed file handles at the end of a run.

>- Remove Python 2.6 from Travis test matrix. [Chris Adams]

>- Add __future__ absolute_import. [Chris Adams]

>  This is currently moot but avoids any chance of regression
>  between Python 2.x and 3.x.

>- PEP-8. [Chris Adams]

>- Drop support for Python 2.6. [Chris Adams]

>  We have some old import dances and other overhead for Python
>  2.6 support, which the CPython developers dropped support
>  for in 2013:

>  http://www.curiousefficiency.org/posts/2015/04/stop-supporting-python26.html

>- Allow queries to be directed to different search handlers. [Chris
>  Adams]

>  The `search` method now allows you override the default `select` handler
>  when your Solr instance has multiple search handlers.

>  Thanks to k-patel for the patch.

>  Closes 174
>  Closes 175



>### 3.4.0

>-------------------

>- Update version numbers for v3.4.0. [Chris Adams]

>- Logging: better message for HTTP status != 200. [Chris Adams]

>  We already extract error message from Solr responses and that is
>  great. Unfortunately it can contain the data that may change with
>  every request (like document id).

>  This creates an issue when user uses Sentry or other solution
>  that captures logging or exceptions. Previous implementation
>  causes many duplicated events in Sentry if message extracted
>  using `self._extract_error(resp)` contained such variable data.

>  This change uses &#39;non-mutable&#39; message that is complemented
>  with extracted data that using string formatting option supplied
>  by Python logging. Thanks to this, Sentry and other solutions
>  can perform better grouping of loging messages (by status code).

>  This is approach that is already used in handling other errors.

>- Fix response error handling on Python 3 (closes 162) [Chris Adams]

>  Previously the error handling did not work correctly on Python 3 because
>  a byte-string response wasn&#39;t decoded before processing.

>  Thanks to Emmanuel Leblond (touilleMan) for the patch.

>- Merge pull request 167 from swistakm/master. [Chris Adams]

>  Refactor common response processing to Results class

>- Move response manipulation responsibility to Results class and allow
>  custom results classes. [mjaworski]

>- Add Python 3.5 to automated test matrix. [Chris Adams]



>### 3.3.3

>-------------------

>- V3.3.3. [Chris Adams]

>- Fix response error handling on Python 3 (closes 162) [Chris Adams]

>  Previously the error handling did not work correctly on Python 3 because
>  a byte-string response wasn&#39;t decoded before processing.

>  Thanks to Emmanuel Leblond (touilleMan) for the patch.

>- Tests: upgrade Solr to 4.10.4. [Chris Adams]

>  * Resync test Solar script with django-haystack
>    These are still not quite the same; at some point it would be nice to
>    look into a common tool which both projects could use
>  * Update Solr configuration script to set correct libpath for solr-cell
>    to avoid lazy-load failures during testing as was reported on e.g. 162

>- Tests: update Solr download script for recent API change. [Chris
>  Adams]

>- Merge pull request 142 from yspanchal/master. [Chris Adams]

>  Add support for cursormark pagination

>- Added cursormark deep pagination support. [Yogesh Panchal]



>### 3.3.2

>-------------------

>- Version 3.3.2. [Chris Adams]

>- Python 2.6 backwards compatibility. [Chris Adams]

>  Python 2.6 shipped with ElementTree 1.2.x. Among other differences, it
>  lacks support for the attribute selectors used to process valid XML
>  error messages, which was added in ElementTree 1.3.

>- Merge pull request 155 from domenkozar/solr4/exceptions. [Chris
>  Adams]

>  Support Solr 4 XML error format parsing

>  Thanks domenkozar for the patch

>- Overhaul Travis config. [Chris Adams]

>  * Sidestep use of Tox in favor of Travis-managed Python versions
>  * Enable container-based builds
>  * Enable caching for Solr server downloads

>- Use builtin unittest2 runner on Python 2.7 as well. [Chris Adams]

>- Simple error extraction. [Chris Adams]

>  Previously pysolr depended on lxml and cssselect to extract
>  text from Tomcat's error messages, which was unreliable.

>  This change uses regular expressions to deal with invalid
>  XML rather than lxml's salvaging parser and avoids having
>  to maintain the code which attempted to find the main error
>  message in tag soup

>  Closes 149

>- Update test Solr download script to work with default Python 3. [Chris
>  Adams]



>### 3.3.1

>-------------------

>- Version 3.3.1. [Chris Adams]

>- Prepare for 3.3.1 release. [Chris Adams]

>- Convert all HTTP client errors to SolrError. [Chris Adams]

>  This commit ensures that an outside caller can handle all HTTP-related errors by catching SolrError without knowing whether the exception class is owned by requests, urllib3, or httplib.

>- Merge pull request 146 from gryphius/fix_doc_typo. [Chris Adams]

>  Fix typo in ExtractingRequestHandler documentation

>  Thanks gryphius

>- Doc fix: a very simply model -&gt; a very simple model. [Oli]

>- Merge pull request 139 from upayavira/feature/no-optimize. [Daniel
>  Lindsley]

>  Optimize is no longer recommended

>- Optimize is no longer recommended. [Upayavira]

>  Since Solr 3.6, Solr has used the TieredMergePolicy which makes,
>  in most scenarios, optimization a harmful rather than beneficial
>  step.



>### 3.3.0

>-------------------

>- Bumped to v3.3.0! [Daniel Lindsley]

>- Added acdha to primaries for all his hard work. [Daniel Lindsley]

>- Support Solr 4+ individual field updates (closes 129) [Chris Adams]

>  Now fields can be updated individually:

>       conn.add(docs, fieldUpdates={&#39;myfield1_ss&#39;: &#39;add&#39;,
>                                    &#39;myfield2_s&#39;: &#39;set&#39;,
>                                    &#39;myfield3_i&#39;: &#39;inc&#39;})

>  Thanks to Çağatay Çallı (faraday) for the patch.

>- Merge pull request 137 from LuRsT/patch-1. [Chris Adams]

>  Fixed syntax error in README.rst example (thanks LuRsT)

>- Fixed syntax error in README.rst example. [Gil Gonçalves]

>- Add softCommit support (closes 98) [Chris Adams]

>  add() and commit() may now be called with softCommit=True

>  Thanks to sicarrots for the patch

>- Merge pull request 123 from ulivedit/master. [Chris Adams]

>  Python 3 compatibility for error message extraction (thanks ulivedit)

>- Fix python 3.4 error with forcing unicode strings. [Eric Hagman]

>- Merge pull request 135 from Grokzen/master. [Chris Adams]

>  Use DEBUG_PYSOLR environmental variable to configure logging

>  This offers an alternative to editing pysolr.py or reconfiguring logging elsewhere

>- Make it easier to debug pysolr via environment variable. [Johan
>  Andersson]

>- Merge pull request 131 from andreif/highlighted-readme. [Chris Adams]

>  Highlight Python code in README.rst (thanks andreif)

>- Highlight Python code in README.rst. [Andrei Fokau]

>- Add support for error responses in JSON format (closes 113) [Chris
>  Adams]

>  Thanks to andreif for the patch and tests

>- Merge pull request 125 from phill-tornroth/patch-1. [Chris Adams]

>  Fix get-solr-download-url.py for Python 2.6

>- Fixes &#39;zero field length&#39; error from `format()` [Phill Tornroth]

>  Unless I&#39;m missing something... :)

>- Travis: download Solr before starting tests. [Chris Adams]

>  This should avoid download errors being presented as test failures

>- Tests: increase Solr startup timeout. [Chris Adams]

>- Add test Solr tarball downloads to .gitignore. [Chris Adams]

>- Tests: add Python 3.4 targets. [Chris Adams]

>- Tests: use Solr 4.7.2 from nearest mirror (closes 115) [Chris Adams]

>- Tests: add a script to retrieve the closest Apache mirror. [Chris
>  Adams]

>  See 115

>- Merge pull request 111 from redjack/py26-tests. [Chris Adams]

>  Update &#39;run-tests.py&#39; to invoke unittest2 correctly on Python 2.6

>- Update &#39;run-tests.py&#39; to invoke unittest2 correctly on Python 2.6.
>  [Andy Freeland]

>- Expanded testing section of the README. [Chris Adams]

>- Merge pull request 36 from glenbot/master. [Chris Adams]

>  Update to SolrCoreAdmin.create to use correct action

>- Updated create command in SolrCoreAdmin to use correct action.
>  [glenbot]

>- Fix type in SolrAdmin.create default parameter. [Chris Adams]

>  See 36

>- Updated ignores. [Daniel Lindsley]







### requests 2.10.0 -> 2.13.0

>### 2.13.0

>+++++++++++++++++++

>**Features**

>- Only load the ``idna`` library when we&#39;ve determined we need it. This will
>  save some memory for users.

>**Miscellaneous**

>- Updated bundled urllib3 to 1.20.
>- Updated bundled idna to 2.2.



>### 2.12.5

>+++++++++++++++++++

>**Bugfixes**

>- Fixed an issue with JSON encoding detection, specifically detecting
>  big-endian UTF-32 with BOM.



>### 2.12.4

>+++++++++++++++++++

>**Bugfixes**

>- Fixed regression from 2.12.2 where non-string types were rejected in the
>  basic auth parameters. While support for this behaviour has been readded,
>  the behaviour is deprecated and will be removed in the future.



>### 2.12.3

>+++++++++++++++++++

>**Bugfixes**

>- Fixed regression from v2.12.1 for URLs with schemes that begin with &quot;http&quot;.
>  These URLs have historically been processed as though they were HTTP-schemed
>  URLs, and so have had parameters added. This was removed in v2.12.2 in an
>  overzealous attempt to resolve problems with IDNA-encoding those URLs. This
>  change was reverted: the other fixes for IDNA-encoding have been judged to
>  be sufficient to return to the behaviour Requests had before v2.12.0.



>### 2.12.2

>+++++++++++++++++++

>**Bugfixes**

>- Fixed several issues with IDNA-encoding URLs that are technically invalid but
>  which are widely accepted. Requests will now attempt to IDNA-encode a URL if
>  it can but, if it fails, and the host contains only ASCII characters, it will
>  be passed through optimistically. This will allow users to opt-in to using
>  IDNA2003 themselves if they want to, and will also allow technically invalid
>  but still common hostnames.
>- Fixed an issue where URLs with leading whitespace would raise
>  ``InvalidSchema`` errors.
>- Fixed an issue where some URLs without the HTTP or HTTPS schemes would still
>  have HTTP URL preparation applied to them.
>- Fixed an issue where Unicode strings could not be used in basic auth.
>- Fixed an issue encountered by some Requests plugins where constructing a
>  Response object would cause ``Response.content`` to raise an
>  ``AttributeError``.



>### 2.12.1

>+++++++++++++++++++

>**Bugfixes**

>- Updated setuptools &#39;security&#39; extra for the new PyOpenSSL backend in urllib3.

>**Miscellaneous**

>- Updated bundled urllib3 to 1.19.1.



>### 2.12.0

>+++++++++++++++++++

>**Improvements**

>- Updated support for internationalized domain names from IDNA2003 to IDNA2008.
>  This updated support is required for several forms of IDNs and is mandatory
>  for .de domains.
>- Much improved heuristics for guessing content lengths: Requests will no
>  longer read an entire ``StringIO`` into memory.
>- Much improved logic for recalculating ``Content-Length`` headers for
>  ``PreparedRequest`` objects.
>- Improved tolerance for file-like objects that have no ``tell`` method but
>  do have a ``seek`` method.
>- Anything that is a subclass of ``Mapping`` is now treated like a dictionary
>  by the ``data=`` keyword argument.
>- Requests now tolerates empty passwords in proxy credentials, rather than
>  stripping the credentials.
>- If a request is made with a file-like object as the body and that request is
>  redirected with a 307 or 308 status code, Requests will now attempt to
>  rewind the body object so it can be replayed.

>**Bugfixes**

>- When calling ``response.close``, the call to ``close`` will be propagated
>  through to non-urllib3 backends.
>- Fixed issue where the ``ALL_PROXY`` environment variable would be preferred
>  over scheme-specific variables like ``HTTP_PROXY``.
>- Fixed issue where non-UTF8 reason phrases got severely mangled by falling
>  back to decoding using ISO 8859-1 instead.
>- Fixed a bug where Requests would not correctly correlate cookies set when
>  using custom Host headers if those Host headers did not use the native
>  string type for the platform.

>**Miscellaneous**

>- Updated bundled urllib3 to 1.19.
>- Updated bundled certifi certs to 2016.09.26.



>### 2.11.1

>+++++++++++++++++++

>**Bugfixes**

>- Fixed a bug when using ``iter_content`` with ``decode_unicode=True`` for
>  streamed bodies would raise ``AttributeError``. This bug was introduced in
>  2.11.
>- Strip Content-Type and Transfer-Encoding headers from the header block when
>  following a redirect that transforms the verb from POST/PUT to GET.



>### 2.11.0

>+++++++++++++++++++

>**Improvements**

>- Added support for the ``ALL_PROXY`` environment variable.
>- Reject header values that contain leading whitespace or newline characters to
>  reduce risk of header smuggling.

>**Bugfixes**

>- Fixed occasional ``TypeError`` when attempting to decode a JSON response that
>  occurred in an error case. Now correctly returns a ``ValueError``.
>- Requests would incorrectly ignore a non-CIDR IP address in the ``NO_PROXY``
>  environment variables: Requests now treats it as a specific IP.
>- Fixed a bug when sending JSON data that could cause us to encounter obscure
>  OpenSSL errors in certain network conditions (yes, really).
>- Added type checks to ensure that ``iter_content`` only accepts integers and
>  ``None`` for chunk sizes.
>- Fixed issue where responses whose body had not been fully consumed would have
>  the underlying connection closed but not returned to the connection pool,
>  which could cause Requests to hang in situations where the ``HTTPAdapter``
>  had been configured to use a blocking connection pool.

>**Miscellaneous**

>- Updated bundled urllib3 to 1.16.
>- Some previous releases accidentally accepted non-strings as acceptable header values. This release does not.







### PyMySQL 0.6.2 -> 0.7.9

>### 0.7.9


>Release date: 2016-09-03

>* Fix PyMySQL stop reading rows when first column is empty string (513)
>  Reverts DEPRECATE_EOF introduced in 0.7.7.



>### 0.7.8


>Release date: 2016-09-01

>* Revert error message change in 0.7.7.
>  (SQLAlchemy parses error message, 507)



>### 0.7.7


>Release date: 2016-08-30

>* Add new unicode collation (498)
>* Fix conv option is not used for encoding objects.
>* Experimental support for DEPRECATE_EOF protocol.



>### 0.7.6


>Release date: 2016-07-29

>* Fix SELECT JSON type cause UnicodeError
>* Avoid float convertion while parsing microseconds
>* Warning has number
>* SSCursor supports warnings



>### 0.7.5


>Release date: 2016-06-28

>* Fix exception raised while importing when getpwuid() fails (472)
>* SSCursor supports LOAD DATA LOCAL INFILE (473)
>* Fix encoding error happen for JSON type (477)
>* Fix test fail on Python 2.7 and MySQL 5.7 (478)



>### 0.7.4


>Release date: 2016-05-26

>* Fix AttributeError may happen while Connection.__del__ (463)
>* Fix SyntaxError in test_cursor. (464)
>* frozenset support for query value. (461)
>* Start using readthedocs.io



>### 0.7.3


>Release date: 2016-05-19

>* Add read_timeout and write_timeout option.
>* Support serialization customization by `conv` option.
>* Unknown type is converted by `str()`, for MySQLdb compatibility.
>* Support &#39;%%&#39; in `Cursor.executemany()`
>* Support REPLACE statement in `Cursor.executemany()`
>* Fix handling incomplete row caused by &#39;SHOW SLAVE HOSTS&#39;.
>* Fix decode error when use_unicode=False on PY3
>* Fix port option in my.cnf file is ignored.




>### 0.7.2


>Release date: 2016-02-24

>* Fix misuse of `max_allowed_packet` parameter. (426, 407 and 397)
>* Add %(name)s plceholder support to `Cursor.executemany()`. (427, thanks to
>  WorldException)



>### 0.7.1


>Release date: 2016-01-14

>* Fix auth fail with MySQL 5.1
>* Fix escaping unicode fails on Python 2



>### 0.7


>Release date: 2016-01-10

>* Faster binary escaping
>* Add `&quot;_binary&quot; prefix` to string literal for binary types.
>  binary types are: `bytearray` on Python 2, `bytes` and `bytearray` on Python 3.
>  This is because recent MySQL show warnings when string literal is invalid for
>  connection encoding.
>* `pymysql.Binary()` returns `bytearray` on Python 2.  This is required to distinguish
>  binary and string.
>* Auth plugin support.
>* no_delay option is ignored.  It will be removed in PyMySQL 0.8.




>### 0.6.7


>Release date: 2015-09-30

>* Allow self signed certificate
>* Add max_allowed_packet option
>* Fix error when bytes in executemany
>* Support geometry type
>* Add coveralls badge to README
>* Fix some bugs relating to warnings
>* Add Cursor.mogrify() method
>* no_delay option is deprecated and True by default
>* Fix options from my.cnf overrides options from arguments
>* Allow socket like object.  (It&#39;s not feature for end users)
>* Strip quotes while reading options from my.cnf file
>* Fix encoding issue in executemany()



>### 0.6.6


>* Add context manager to cursor
>* Fix can&#39;t encode blob that is not utf-8 on PY3. (regression of 0.6.4,
>  Thanks to wiggzz)



>### 0.6.5

>Skipped



>### 0.6.4

>* Support &quot;LOAD LOCAL INFILE&quot;.  Thanks wraziens
>* Show MySQL warnings after execute query.
>* Fix MySQLError may be wrapped with OperationalError while connectiong. (274)
>* SSCursor no longer attempts to expire un-collected rows within __del__,
>  delaying termination of an interrupted program; cleanup of uncollected
>  rows is left to the Connection on next execute, which emits a
>  warning at that time. (287)
>* Support datetime and time with microsecond. (303)
>* Use surrogateescape to format bytes on Python 3.
>* OperationalError raised from connect() have information about original
>  exception. (304)
>* `init_command` now support multi statement.
>* `Connection.escape()` method now accepts second argument compatible to
>  MySQL-Python.



>### 0.6.3

>* Fixed multiple result sets with SSCursor.
>* Fixed connection timeout.
>* Fixed literal set syntax to work on Py2.6.
>* Allow for mysql negative values with 0 hour timedelta.
>* Added Connection.begin().







### psycopg2 2.4.5 -> 2.6.2

>### 2.6.2

>^^^^^^^^^^^^^^^^^^^^^^^^^^^

>- Report the server response status on errors (such as :ticket:`281`).
>- Raise `!NotSupportedError` on unhandled server response status
>  (:ticket:`352`).
>- Allow overriding string adapter encoding with no connection (:ticket:`331`).
>- The `~psycopg2.extras.wait_select` callback allows interrupting a
>  long-running query in an interactive shell using :kbd:`Ctrl-C`
>  (:ticket:`333`).
>- Fixed `!PersistentConnectionPool` on Python 3 (:ticket:`348`).
>- Fixed segfault on `repr()` of an unitialized connection (:ticket:`361`).
>- Allow adapting bytes using QuotedString on Python 3 too (:ticket:`365`).
>- Added support for setuptools/wheel (:ticket:`370`).
>- Fix build on Windows with Python 3.5, VS 2015 (:ticket:`380`).
>- Fixed `!errorcodes.lookup` initialization thread-safety (:ticket:`382`).
>- Fixed `!read()` exception propagation in copy_from (:ticket:`412`).
>- Fixed possible NULL TZ decref  (:ticket:`424`).
>- `~psycopg2.errorcodes` map updated to PostgreSQL 9.5.




>### 2.6.1

>^^^^^^^^^^^^^^^^^^^^^^^^^^^

>- Lists consisting of only `None` are escaped correctly (:ticket:`285`).
>- Fixed deadlock in multithread programs using OpenSSL (:ticket:`290`).
>- Correctly unlock the connection after error in flush (:ticket:`294`).
>- Fixed `!MinTimeLoggingCursor.callproc()` (:ticket:`309`).
>- Added support for MSVC 2015 compiler (:ticket:`350`).




>### 2.6

>-------------------------

>New features:

>- Added support for large objects larger than 2GB. Many thanks to Blake Rouse
>  and the MAAS Team for the feature development.
>- Python `time` objects with a tzinfo specified and PostgreSQL :sql:`timetz`
>  data are converted into each other (:ticket:`272`).

>Bug fixes:

>- Json adapter&#39;s `!str()` returns the adapted content instead of the `!repr()`
>  (:ticket:`191`).




>### 2.5.5

>^^^^^^^^^^^^^^^^^^^^^^^^^^^

>- Named cursors used as context manager don&#39;t swallow the exception on exit
>  (:ticket:`262`).
>- `cursor.description` can be pickled (:ticket:`265`).
>- Propagate read error messages in COPY FROM (:ticket:`270`).
>- PostgreSQL time 24:00 is converted to Python 00:00 (:ticket:`278`).




>### 2.5.4

>^^^^^^^^^^^^^^^^^^^^^^^^^^^

>- Added :sql:`jsonb` support for PostgreSQL 9.4 (:ticket:`226`).
>- Fixed segfault if COPY statements are passed to `~cursor.execute()` instead
>  of using the proper methods (:ticket:`219`).
>- Force conversion of pool arguments to integer to avoid potentially unbounded
>  pools (:ticket:`220`).
>- Cursors :sql:`WITH HOLD` don&#39;t begin a new transaction upon move/fetch/close
>  (:ticket:`228`).
>- Cursors :sql:`WITH HOLD` can be used in autocommit (:ticket:`229`).
>- `~cursor.callproc()` doesn&#39;t silently ignore an argument without a length.
>- Fixed memory leak with large objects (:ticket:`256`).
>- Make sure the internal ``_psycopg.so`` module can be imported stand-alone (to
>  allow modules juggling such as the one described in :ticket:`201`).




>### 2.5.3

>^^^^^^^^^^^^^^^^^^^^^^^^^^^

>- Work around `pip issue 1630 &lt;https://github.com/pypa/pip/issues/1630&gt;`__
>  making installation via ``pip -e git+url`` impossible (:ticket:`18`).
>- Copy operations correctly set the `cursor.rowcount` attribute
>  (:ticket:`180`).
>- It is now possible to call `get_transaction_status()` on closed connections.
>- Fixed unsafe access to object names causing assertion failures in
>  Python 3 debug builds (:ticket:`188`).
>- Mark the connection closed if found broken on `poll()` (from :ticket:`192`
>  discussion)
>- Fixed handling of dsn and closed attributes in connection subclasses
>  failing to connect (from :ticket:`192` discussion).
>- Added arbitrary but stable order to `Range` objects, thanks to
>  Chris Withers (:ticket:`193`).
>- Avoid blocking async connections on connect (:ticket:`194`). Thanks to
>  Adam Petrovich for the bug report and diagnosis.
>- Don&#39;t segfault using poorly defined cursor subclasses which forgot to call
>  the superclass init (:ticket:`195`).
>- Mark the connection closed when a Socket connection is broken, as it
>  happens for TCP connections instead (:ticket:`196`).
>- Fixed overflow opening a lobject with an oid not fitting in a signed int
>  (:ticket:`203`).
>- Fixed handling of explicit default ``cursor_factory=None`` in
>  `connection.cursor()` (:ticket:`210`).
>- Fixed possible segfault in named cursors creation.
>- Fixed debug build on Windows, thanks to James Emerton.




>### 2.5.2

>^^^^^^^^^^^^^^^^^^^^^^^^^^^

>- Fixed segfault pickling the exception raised on connection error
>  (:ticket:`170`).
>- Meaningful connection errors report a meaningful message, thanks to
>  Alexey Borzenkov (:ticket:`173`).
>- Manually creating `lobject` with the wrong parameter doesn&#39;t segfault
>  (:ticket:`187`).




>### 2.5.1

>^^^^^^^^^^^^^^^^^^^^^^^^^^^

>- Fixed build on Solaris 10 and 11 where the round() function is already
>  declared (:ticket:`146`).
>- Fixed comparison of `Range` with non-range objects (:ticket:`164`).
>  Thanks to Chris Withers for the patch.
>- Fixed double-free on connection dealloc (:ticket:`166`). Thanks to
>  Gangadharan S.A. for the report and fix suggestion.




>### 2.5

>-------------------------

>New features:

>- Added :ref:`JSON adaptation &lt;adapt-json&gt;`.
>- Added :ref:`support for PostgreSQL 9.2 range types &lt;adapt-range&gt;`.
>- `connection` and `cursor` objects can be used in ``with`` statements
>  as context managers as specified by recent |DBAPI|_ extension.
>- Added `~psycopg2.extensions.Diagnostics` object to get extended info
>  from a database error.  Many thanks to Matthew Woodcraft for the
>  implementation (:ticket:`149`).
>- Added `connection.cursor_factory` attribute to customize the default
>  object returned by `~connection.cursor()`.
>- Added support for backward scrollable cursors. Thanks to Jon Nelson
>  for the initial patch (:ticket:`108`).
>- Added a simple way to :ref:`customize casting of composite types
>  &lt;adapt-composite&gt;` into Python objects other than namedtuples.
>  Many thanks to Ronan Dunklau and Tobias Oberstein for the feature
>  development.
>- `connection.reset()` implemented using :sql:`DISCARD ALL` on server
>  versions supporting it.

>Bug fixes:

>- Properly cleanup memory of broken connections (:ticket:`148`).
>- Fixed bad interaction of ``setup.py`` with other dependencies in
>  Distribute projects on Python 3 (:ticket:`153`).

>Other changes:

>- Added support for Python 3.3.
>- Dropped support for Python 2.4. Please use Psycopg 2.4.x if you need it.
>- `~psycopg2.errorcodes` map updated to PostgreSQL 9.2.
>- Dropped Zope adapter from source repository. ZPsycopgDA now has its own
>  project at &lt;http://github.com/psycopg/ZPsycopgDA&gt;.




>### 2.4.6

>^^^^^^^^^^^^^^^^^^^^^^^^^^^

>- Fixed &#39;cursor()&#39; arguments propagation in connection subclasses
>  and overriding of the &#39;cursor_factory&#39; argument.  Thanks to
>  Corry Haines for the report and the initial patch (:ticket:`105`).
>- Dropped GIL release during string adaptation around a function call
>  invoking a Python API function, which could cause interpreter crash.
>  Thanks to Manu Cupcic for the report (:ticket:`110`).
>- Close a green connection if there is an error in the callback.
>  Maybe a harsh solution but it leaves the program responsive
>  (:ticket:`113`).
>- &#39;register_hstore()&#39;, &#39;register_composite()&#39;, &#39;tpc_recover()&#39; work with
>  RealDictConnection and Cursor (:ticket:`114`).
>- Fixed broken pool for Zope and connections re-init across ZSQL methods
>  in the same request (:tickets:`123, 125, 142`).
>- connect() raises an exception instead of swallowing keyword arguments
>  when a connection string is specified as well (:ticket:`131`).
>- Discard any result produced by &#39;executemany()&#39; (:ticket:`133`).
>- Fixed pickling of FixedOffsetTimezone objects (:ticket:`135`).
>- Release the GIL around PQgetResult calls after COPY (:ticket:`140`).
>- Fixed empty strings handling in composite caster (:ticket:`141`).
>- Fixed pickling of DictRow and RealDictRow objects.










Once you have closed this pull request, I'll create seperate pull requests for every update as soon as I find them.

That's it for now!

Happy merging! 🤖
"
12354,django-oscar,django-oscar,25,closed,619,3,https://api.github.com/repos/django-oscar/django-oscar/issues/619/comments,https://github.com/django-oscar/django-oscar/issues/619,[],haystack/celery-haystack TransactionManagementError,"I'm using oscar 0.5 beta, django-celery==3.0.17, django-haystack==2.0.0-beta (repo clone), celery-haystack==0.7.2 and when I try to save a product via the application I get: Transaction managed block ended with pending COMMIT/ROLLBACK (don't know which package should be blamed ;)). It works if I do product_object.save() in shell (celery task gets fired correctly too).

The exception happens at ""old_function(using)"" in:

```
/home/piotrm/.virtualenvs/audioapp/local/lib/python2.7/site-packages/djcelery_transactions/transaction_signals.py in leave_transaction_management

# were no changes. This function is always called so the signal is always sent.

def leave_transaction_management(old_function, using=None):

    # If the transaction is dirty, it is rolled back and an exception is

    # raised. We need to send the rollback signal before that happens.

    if transaction.is_dirty():

        transaction.signals.post_rollback.send(None)

    old_function(using)

...

    transaction.signals.post_transaction_management.send(None)

def managed(old_function, flag=True, using=None):

    # Turning transaction management off causes the current transaction to be

    # committed if it's dirty. We must send the signal after the actual commit.

▼ Local vars
Variable    Value
using   

'default'

old_function    

<function leave_transaction_management at 0x15c06e0>
```
"
